(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var a=n(13),r=n.n(a),o=n(11),i=n.n(o),c=n(0),s=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={set:"user/set",setpermission:"user/setpermission",remove:"user/remove"};var f=function(e,t){switch(t.type){case p.set:return u({},e,{user:t.user});case p.setpermission:return u({},e,{permission:t.permission});case p.remove:return u({},e,{user:null,permission:[]});default:throw new Error}},m=s.a.createContext({user:null,permission:[]});function d(e){var t=Object(c.useReducer)(f,{user:null,permission:[]}),n=r()(t,2),a=n[0],o=n[1];return s.a.createElement(m.Provider,{value:u({},a,{dispatch:o})},e.children)}},18:function(e,t,n){"use strict";var a=n(129);n.d(t,"AC_user",(function(){return a.a})),n.d(t,"UserContext",(function(){return a.b})),n.d(t,"UserProvider",(function(){return a.c}));var r=n(406);n.d(t,"AC_socket",(function(){return r.a})),n.d(t,"SocketContext",(function(){return r.b})),n.d(t,"SocketProvider",(function(){return r.c}));n(407)},406:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n(13),r=n.n(a),o=n(11),i=n.n(o),c=n(0),s=n.n(c);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var u={set:"socket/set"},p=function(e,t){switch(t.type){case u.set:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{socket:t.socket});default:throw new Error}},f={socket:null},m=s.a.createContext({state:void 0,dispatch:void 0}),d=function(e){var t=Object(c.useReducer)(p,f),n=r()(t,2),a=n[0],o=n[1];return s.a.createElement(m.Provider,{value:{state:a,dispatch:o}},e.children)}},407:function(e,t){},438:function(e,t,n){e.exports=n.p+"static/media/ezgif-2-e7748ede762b.cc96d397.gif"},508:function(e,t,n){"use strict";var a={};n.r(a),n.d(a,"parseDefaults",(function(){return Ln})),n.d(a,"parse",(function(){return Fn})),n.d(a,"stringify",(function(){return Un}));var r=n(0),o=n.n(r),i=n(34),c=n(13),s=n.n(c),l=n(32),u=n.n(l),p=(n(442),n(142),n(11)),f=n.n(p),m=n(6),d=n.n(m),h=n(7),y=n.n(h),g=n(9),v=n.n(g),E=n(4),b=n.n(E),x=n(8),D=n.n(x),w=n(17),S=n(38),C=n.n(S),k=n(30),O=n.n(k),R=n(1),I=n(10);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={portals:[]},e.mount=function(t,n){e.setState((function(e){return{portals:[].concat(O()(e.portals),[{key:t,children:n}])}}))},e.update=function(t,n){return e.setState((function(e){return{portals:e.portals.map((function(e){return e.key===t?M({},e,{children:n}):e}))}}))},e.unmount=function(t){return e.setState((function(e){return{portals:e.portals.filter((function(e){return e.key!==t}))}}))},e}return y()(n,[{key:"render",value:function(){return this.state.portals.map((function(e){var t=e.key,n=e.children;return r.createElement(R.a,{key:t,collapsable:!1,pointerEvents:"box-none",style:I.a.absoluteFill},n)}))}}]),n}(r.PureComponent);var Y=o.a.createContext(null);!function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r)))._setManager=function(t){e._manager=t},e._mount=function(t){var n=e._nextKey++;return e._manager?e._manager.mount(n,t):e._queue.push({type:"mount",key:n,children:t}),n},e._update=function(t,n){if(e._manager)e._manager.update(t,n);else{var a={type:"mount",key:t,children:n},r=e._queue.findIndex((function(e){return"mount"===e.type||"update"===e.type&&e.key===t}));r>-1?e._queue[r]=a:e._queue.push(a)}},e._unmount=function(t){e._manager?e._manager.unmount(t):e._queue.push({type:"unmount",key:t})},e._nextKey=0,e._queue=[],e}y()(n,[{key:"componentDidMount",value:function(){for(var e=this._manager,t=this._queue;t.length&&e;){var n=t.pop();if(n)switch(n.type){case"mount":e.mount(n.key,n.children);break;case"update":e.update(n.key,n.children);break;case"unmount":e.unmount(n.key)}}}},{key:"render",value:function(){return o.a.createElement(Y.Provider,{value:{mount:this._mount,update:this._update,unmount:this._unmount}},o.a.createElement(o.a.Fragment,null,this.props.children,o.a.createElement(T,{ref:this._setManager})))}}])}(o.a.Component);var j="theme/set",A="theme/alert",N="theme/offalert",_={light:{primary:"#F7574C",primarydark:"#be1d23",primarylight:"#ff8a65",accent:"#7661A4",background:"#fafafa",backgroundlight:"#fff",error:"#B00020",text:"#424242",gradient:["#F7574C","#ff8a65"],disabled:"#9e9e9e",border:"#eeeeee",theme:"light",alert:"",visiblealert:!1},dark:{primary:"#F7574C",primarydark:"#be1d23",primarylight:"#ff8a65",accent:"#7661A4",background:"#000000",backgroundlight:"#484848",error:"#B00020",text:"#fff",gradient:["#F7574C","#ff8a65"],disabled:"#9e9e9e",border:"#eeeeee",theme:"dark",alert:"",visiblealert:!1}};function L(e){return{state:_[e]}}var F=o.a.createContext(L("light"));var U=n(41),H=U.a.get("window"),z=H.height,W=(H.width,{umbra:["0px 2px 1px -1px","0px 3px 1px -2px","0px 3px 3px -2px","0px 2px 4px -1px","0px 3px 5px -1px","0px 3px 5px -1px","0px 4px 5px -2px","0px 5px 5px -3px","0px 5px 6px -3px","0px 6px 6px -3px","0px 6px 7px -4px","0px 7px 8px -4px","0px 7px 8px -4px","0px 7px 9px -4px","0px 8px 9px -5px","0px 8px 10px -5px","0px 8px 11px -5px","0px 9px 11px -5px","0px 9px 12px -6px","0px 10px 13px -6px","0px 10px 13px -6px","0px 10px 14px -6px","0px 11px 14px -7px","0px 11px 15px -7px"],penumbra:["0px 1px 1px 0px","0px 2px 2px 0px","0px 3px 4px 0px","0px 4px 5px 0px","0px 5px 8px 0px","0px 6px 10px 0px","0px 7px 10px 1px","0px 8px 10px 1px","0px 9px 12px 1px","0px 10px 14px 1px","0px 11px 15px 1px","0px 12px 17px 2px","0px 13px 19px 2px","0px 14px 21px 2px","0px 15px 22px 2px","0px 16px 24px 2px","0px 17px 26px 2px","0px 18px 28px 2px","0px 19px 29px 2px","0px 20px 31px 3px","0px 21px 33px 3px","0px 22px 35px 3px","0px 23px 36px 3px","0px 24px 38px 3px"],ambient:["0px 0px 0px 0px","0px 1px 3px 0px","0px 1px 5px 0px","0px 1px 8px 0px","0px 1px 10px 0px","0px 1px 14px 0px","0px 1px 18px 0px","0px 2px 16px 1px","0px 3px 14px 2px","0px 3px 16px 2px","0px 4px 18px 3px","0px 4px 20px 3px","0px 5px 22px 4px","0px 5px 24px 4px","0px 5px 26px 4px","0px 6px 28px 5px","0px 6px 30px 5px","0px 6px 32px 5px","0px 7px 34px 6px","0px 7px 36px 6px","0px 8px 38px 7px","0px 8px 40px 7px","0px 8px 42px 7px","0px 9px 44px 8px","0px 9px 46px 8px"]});var V=function(e,t,n,a,r){return(e-t)*(r-a)/(n-t)+a},B=function(e){"undefined"===typeof e.elevation&&(e.elevation=1);var t=function(e){var t=e.split(" ").map((function(e){return+e.replace("px","")}));return{x:t[0],y:t[1],blur:t[2],spread:t[3]}}(W.penumbra[e.elevation]),n=1===t.y?1:Math.floor(.4*t.y);return{shadowColor:null===e.shadowColorCard?"#fff":e.shadowColorCard,shadowOffset:{width:0,height:n},shadowOpacity:Number(V(e.elevation,1,24,.2,.6).toFixed(2)),shadowRadius:Number(V(t.blur,1,38,1,16).toFixed(2)),elevation:e.elevation}},G=function(e){return Math.round(z*e/100)};var K="event/new",q="event/view",J=o.a.createContext({state:void 0,dispatch:void 0});function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Z=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(J.Consumer,null,(function(t){var n=t.dispatch;return o.a.createElement(F.Consumer,null,(function(t){var a=t.state;return o.a.createElement(w.a,{disabled:"undefined"===typeof e.props.onPress,onPress:function(){n({type:K,event:C()()}),e.props.onPress()},style:[Q({backgroundColor:a.backgroundlight,borderRadius:4},B({}),{margin:4,padding:10}),e.props.style]},e.props.children)}))}))}}]),n}(o.a.Component),$=n(94);var ee="language/set",te=o.a.createContext({state:void 0,dispatch:void 0});var ne=n(12),ae=n.n(ne);var re=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this,t=this.props.style;return o.a.createElement(F.Consumer,null,(function(n){var a=n.state;return o.a.createElement(i.a,ae()({},e.props,{style:[{fontFamily:"roboto-light",color:a.text},t]}))}))}}]),n}(o.a.Component),oe=function(e){return o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return o.a.createElement(re,e,"undefined"===typeof n[e.children]?"____ITS____":n[e.children])}))};function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(J.Consumer,null,(function(t){var n=t.dispatch;return o.a.createElement(F.Consumer,null,(function(t){var a=t.state;return o.a.createElement(w.a,{disabled:e.props.disabled,style:[ce({minHeight:40,backgroundColor:e.props.disabled?a.disabled:a.primary,margin:1,borderRadius:2,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},B({})),e.props.style],onPress:function(){n({type:K,event:C()()}),e.props.onPress&&e.props.onPress()}},e.props.left,o.a.createElement(R.a,{style:{flex:1,alignItems:"center"}},e.props.loading?o.a.createElement($.a,{size:"small",color:"white"}):"string"===typeof e.props.children?o.a.createElement(oe,{style:[{fontWeight:"600",color:"white"},e.props.styleText]},e.props.children):e.props.children),e.props.right)}))}))}}]),n}(o.a.Component);se.defaultProps={loading:!1,disabled:!1};var le=n(58);(function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"isFocused",value:function(){return this._root&&this._root.isFocused()}},{key:"clear",value:function(){return this._root&&this._root.clear()}},{key:"focus",value:function(){return this._root&&this._root.focus()}},{key:"blur",value:function(){return this._root&&this._root.blur()}},{key:"render",value:function(){var e=this;return o.a.createElement(R.a,{style:[{borderColor:"lightgray",borderWidth:I.a.hairlineWidth,backgroundColor:"#fff",margin:1,padding:6},this.props.style]},this.props.error?o.a.createElement(re,{style:{color:""}},this.props.error):this.props.label?o.a.createElement(re,{style:[this.props.labelStyle]},this.props.label):null,o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},this.props.left,o.a.createElement(le.a,{style:[{flex:1,marginHorizontal:8},this.props.inputStyle],ref:function(t){return e._root=t},onFocus:this.props.onFocus,onBlur:this.props.onBlur,value:this.props.value,onChangeText:this.props.onChangeText,onSubmitEditing:this.props.onSubmitEditing,placeholder:this.props.placeholder,editable:this.props.editable}),this.props.right))}}]),n}(o.a.Component)).defaultProps={disabled:!1};var ue=n(2),pe=n.n(ue),fe=n(19),me=n(39),de=n(14),he=n(77),ye=de.a.select({ios:0,android:he.a.currentHeight,default:0}),ge=n(62);var ve=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"componentDidMount",value:function(){return pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkManager(),e.next=3,pe.a.awrap(Promise.resolve());case 3:this.key=this.props.manager.mount(this.props.children);case 4:case"end":return e.stop()}}),null,this,null,Promise)}},{key:"componentDidUpdate",value:function(){this.checkManager(),this.props.manager.update(this.key,this.props.children)}},{key:"componentWillUnmount",value:function(){this.checkManager(),this.props.manager.unmount(this.key)}},{key:"checkManager",value:function(){if(!this.props.manager)throw new Error("Looks like you forgot to wrap your root component with `Provider` component from `react-native-paper`.\n\nPlease read our getting-started guide and make sure you've followed all the required steps.\n\n")}},{key:"render",value:function(){return null}}]),n}(r.Component);var Ee=function(e){var t=e.children;return r.createElement(Y.Consumer,null,(function(e){return r.createElement(ve,{manager:e},t)}))};function be(e){var t=e.visible,n=void 0!==t&&t,a=e.onDismiss,i=e.children,c=function(){return s(),!0},s=function(){ge.a.removeEventListener("hardwareBackPress",c),n&&a&&a()};return Object(r.useEffect)((function(){return n?(ge.a.removeEventListener("hardwareBackPress",c),ge.a.addEventListener("hardwareBackPress",c)):s(),function(){ge.a.removeEventListener("hardwareBackPress",c)}}),[n]),n?o.a.createElement(Ee,null,o.a.createElement(R.a,{pointerEvents:n?"auto":"none",accessibilityViewIsModal:!0,accessibilityLiveRegion:"polite",style:[I.a.absoluteFill,{backgroundColor:"rgba(0,0,0,0.3)",paddingTop:ye},B({})]},i)):null}var xe=U.a.get("window");me.a.setLayoutAnimationEnabledExperimental&&me.a.setLayoutAnimationEnabledExperimental(!0);var De=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,positionStyle:{top:0,bottom:0,left:0,right:0,maxHeigth:0},value:null},e._anchor=null,e._measureAnchorLayout=function(){return new Promise((function(t){e._anchor&&e._anchor.measureInWindow((function(e,n,a,r){t({x:e,y:n,width:a,height:r})}))}))},e._show=function(){e.setState({visible:!0},(function(){var t,n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,pe.a.awrap(e._measureAnchorLayout());case 2:if((t=r.sent).width&&t.height){r.next=6;break}return setTimeout(e._show,250),r.abrupt("return");case 6:n={},a={x:xe.width/2,y:xe.height/2},t.x<a.x?(n.left=t.x,n.right=3):(n.right=xe.width-(t.x+t.width)+4,n.left=3),t.y<a.y?(n.top=t.y+t.height+2+ye,n.bottom=6):(n.bottom=xe.height-t.y-21,n.top=ye+6,n.justifyContent="flex-end"),e.setState({positionStyle:n});case 11:case"end":return r.stop()}}),null,null,null,Promise)}))},e._hide=function(){return e.setState({visible:!1})},e.onSelect=function(t){e._hide(),e.props.onClickDrop&&e.props.onClickDrop(t)},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(R.a,{ref:function(t){return e._anchor=t},collapsable:!1,style:[{borderColor:n.primary,borderWidth:I.a.hairlineWidth,backgroundColor:n.backgroundlight,margin:1,height:40,padding:6,borderRadius:2,minWidth:60},e.props.style]},o.a.createElement(w.a,{onPress:e._show,style:{flex:1}},e.props.error?o.a.createElement(re,{style:{color:""}},e.props.error):e.props.label?o.a.createElement(re,{style:[e.props.labelStyle]},e.props.label):null,o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},e.props.left,o.a.createElement(R.a,{style:{flex:1,paddingVertical:4}},o.a.createElement(re,{numberOfLines:1,style:[e.props.inputStyle]},e.props.value&&e.props.value.label)),e.props.right)),o.a.createElement(be,{visible:e.state.visible,onDismiss:e._hide},o.a.createElement(R.a,{style:[{position:"absolute",borderColor:n.primary,borderWidth:I.a.hairlineWidth,backgroundColor:n.backgroundlight,margin:1,padding:6,maxHeight:300,borderRadius:2},e.state.positionStyle]},o.a.createElement(fe.a,{data:e.props.data,renderItem:function(t){var n=t.item,a=t.index;return o.a.createElement(we,{onSelect:e.onSelect,index:a,data:n})}}))))}))}}]),n}(o.a.Component);De.defaultProps={statusBarHeight:30};var we=function(e){return o.a.createElement(R.a,null,o.a.createElement(w.a,{onPress:function(){return e.onSelect&&e.onSelect(e.data)},style:{flex:1,paddingVertical:10,minWidth:120,justifyContent:"space-between"}},o.a.createElement(re,null,e.data.label)))},Se=n(784),Ce=n(785),ke=n(786),Oe=n(787),Re=n(788),Ie=n(789),Pe=n(790),Me=n(791),Te=n(792),Ye=n(793),je=n(794),Ae=n(795);var Ne=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this,t=Se.a;switch(this.props.type){case"AntDesign":t=Ce.a;break;case"Entypo":t=ke.a;break;case"EvilIcons":t=Oe.a;break;case"Feather":t=Re.a;break;case"FontAwesome":t=Ie.a;break;case"Foundation":t=Pe.a;break;case"Ionicons":t=Se.a;break;case"MaterialCommunityIcons":t=Me.a;break;case"MaterialIcons":t=Te.a;break;case"Octicons":t=Ye.a;break;case"SimpleLineIcons":t=je.a;break;case"Zocial":t=Ae.a;break;default:t=Se.a}return o.a.createElement(F.Consumer,null,(function(n){var a=n.state;return o.a.createElement(t,ae()({color:a.text},e.props))}))}}]),n}(o.a.Component),_e=n(128);function Le(e){var t=e.children,n=Object(r.useContext)(F).state;return o.a.createElement(_e.a,{style:{flex:1,backgroundColor:n.background}},t)}var Fe=function(){var e=Object(r.useContext)(F).state;return o.a.createElement(R.a,{style:{height:ye}},o.a.createElement(he.a,{barStyle:"light"===e.theme?"dark-content":"light-content"}))};var Ue=n(28),He=n(20);var ze=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={height:0,width:0,offset:0,index:0},e.onLayout=function(t){var n=t.nativeEvent.layout,a=n.height,r=n.width;e.setState({height:a,width:r})},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this;this.t=setInterval((function(){e.setState((function(e){return{offset:3===e.index?0:(void 0===e.offset?0:e.offset)+(void 0===e.height?0:e.height),index:3===e.index?0:e.index+1}})),e.scrollView&&e.scrollView.scrollTo({x:0,y:e.state.offset,animated:!0})}),this.props.durationTime)}},{key:"componentWillUnmount",value:function(){this.t&&clearInterval(this.t)}},{key:"render",value:function(){var e=this;return o.a.createElement(He.a,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,ref:function(t){e.scrollView=t},onLayout:this.onLayout,style:[{flex:1},this.props.style],contentContainerStyle:{paddingHorizontal:"5%"},scrollEventThrottle:1},this.props.data.map((function(t){return o.a.createElement(Ue.a,{key:t.key,source:{uri:t.source},style:{width:"100%",height:e.state.height-8,marginVertical:4,borderRadius:8}})})))}}]),n}(o.a.Component);ze.defaultProps={durationTime:5e3};var We=n(16),Ve=n(54),Be=n(43);var Ge=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(e){var a;return d()(this,n),(a=t.call(this,e)).state={opacity:new We.a.Value(a.props.visible?1:0),rendered:a.props.visible},a._handleBack=function(){return a.props.dismissable&&a._hideModal(),!0},a._showModal=function(){ge.a.removeEventListener("hardwareBackPress",a._handleBack),ge.a.addEventListener("hardwareBackPress",a._handleBack),We.a.timing(a.state.opacity,{toValue:1,duration:90,useNativeDriver:!0}).start()},a._hideModal=function(){ge.a.removeEventListener("hardwareBackPress",a._handleBack),a.props.visible&&a.props.onDismiss&&a.props.onDismiss(),a.props.visible?a._showModal():a.setState({rendered:!1})},a.onHandlerStateChange=function(e){e.nativeEvent.state===Be.d.END?(a._lastOffset=0,a._translate.setOffset(a._lastOffset),a._translate.setValue(0)):e.nativeEvent.oldState===Be.d.ACTIVE&&(a._translate.setOffset(a._lastOffset),a._translate.setValue(0))},a.gestureListener=function(e){1*e.nativeEvent.translationY>.6*U.a.get("window").height&&a._hideModal()},a.getTranslationObject=function(){return We.a.event([{nativeEvent:{translationY:a._translate}}],{useNativeDriver:!0,listener:a.gestureListener})},a._translate=new We.a.Value(0),a._lastOffset=0,a}return y()(n,[{key:"componentDidUpdate",value:function(e){e.visible!==this.props.visible&&(this.props.visible?this._showModal():this._hideModal())}},{key:"componentWillUnmount",value:function(){ge.a.removeEventListener("hardwareBackPress",this._handleBack)}},{key:"render",value:function(){if(!this.state.rendered)return null;var e=this.props.dismissable,t=this.getTranslationObject();return o.a.createElement(Be.c,{minOffsetY:20,onGestureEvent:t,onHandlerStateChange:this.onHandlerStateChange},o.a.createElement(We.a.View,{pointerEvents:this.props.visible?"auto":"none",accessibilityViewIsModal:!0,accessibilityLiveRegion:"polite",style:[I.a.absoluteFill,B({})]},o.a.createElement(Ve.a,{onPress:e?this._hideModal:void 0},o.a.createElement(We.a.View,{style:[{flex:1,backgroundColor:this.props.backgroundColor,opacity:this.state.opacity}]})),o.a.createElement(We.a.View,{style:[I.a.absoluteFill,{padding:10,transform:[{translateY:this.state.opacity.interpolate({inputRange:[0,1],outputRange:[400,0]})},{translateY:this._translate}]}]},this.props.children)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.visible&&!t.rendered?{rendered:!0}:null}}]),n}(o.a.Component);Ge.defaultProps={dismissable:!0,visible:!1,backgroundColor:"rgba(0,0,0,0.3)"};var Ke=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this,t=this.props.size;return t="undefined"===typeof t?64:t,o.a.createElement(F.Consumer,null,(function(n){var a=n.state;return o.a.createElement(Ue.a,{source:e.props.source,style:{width:t,height:t,backgroundColor:a.backgroundlight,margin:2,padding:2,borderRadius:t/2}})}))}}]),n}(o.a.Component);function qe(e){u()(e);var t=Object(r.useContext)(F).state;return o.a.createElement(R.a,{style:{height:I.a.hairlineWidth,backgroundColor:t.background,marginHorizontal:2}})}function Je(e){var t=e.resizeMode,n=void 0===t?"cover":t,a=e.source,r=e.style;return o.a.createElement(R.a,{style:[{margin:1,borderRadius:6},r,B({})]},o.a.createElement(Ue.a,{resizeMode:n,source:a,style:{width:"100%",height:"100%",borderRadius:6}}))}function Xe(e){var t=e.style,n=e.children,a=e.onPress,i=Object(r.useContext)(J).dispatch,c=Object(r.useContext)(F).state;return o.a.createElement(w.a,{disabled:"undefined"===typeof a,onPress:function(){i({type:K,event:C()()}),a&&a()},style:[{backgroundColor:c.backgroundlight,padding:10},t]},n)}function Qe(e){var t=e.size,n=void 0===t?64:t,a=e.sources,i=Object(r.useContext)(F).state;return o.a.createElement(R.a,{style:{width:n,height:n,backgroundColor:i.backgroundlight,margin:2,borderRadius:n/2,flexDirection:"row",flexWrap:"wrap",overflow:"hidden"}},o.a.createElement(R.a,{style:{width:n,height:n,backgroundColor:i.backgroundlight,borderRadius:n/2,flexDirection:"row",flexWrap:"wrap",overflow:"hidden",borderColor:"#bbb",borderWidth:1}},function(){for(var e=[],t=a.length,r=0;r<(t<=4?t:4);r++)e.push(o.a.createElement(Ue.a,{key:r+"z",source:a[r],style:{flex:1,minWidth:Math.floor(n/(t-r+1)-3),minHeight:Math.floor(n/(t-r)-1),overflow:"hidden"}}));return e}()))}function Ze(e){var t=e.size,n=void 0===t?48:t,a=e.children,i=Object(r.useContext)(F).state;return o.a.createElement(R.a,{style:{height:n,width:n,borderRadius:Math.floor(n/2)+2,backgroundColor:i.primary,alignItems:"center",justifyContent:"center",margin:1}},o.a.createElement(re,{adjustsFontSizeToFit:!0,allowFontScaling:!0,numberOfLines:1,style:{color:"white",fontWeight:"bold"}},a))}var $e=function(e){var t="undefined"===typeof e.size?12:e.size;return o.a.createElement(F.Consumer,null,(function(n){var a=n.state;return o.a.createElement(R.a,{style:{width:t,height:t,borderRadius:Math.floor(t/2)+3,backgroundColor:a.backgroundlight,alignItems:"center",justifyContent:"center",borderColor:a.background,borderWidth:I.a.hairlineWidth}},e.children)}))},et=n(143),tt=n(492),nt=n.n(tt);var at=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(e){var a;return d()(this,n),(a=t.call(this,e)).setMatrix(e),a}return y()(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&e.size===this.props.size||this.setMatrix(e)}},{key:"setMatrix",value:function(e){var t=e.value,n=e.ecl,a=e.onError,r=this.props.size;"undefined"===typeof r&&(r=100);try{this._matrix=function(e,t){var n=Array.prototype.slice.call(nt.a.create(e||"",{errorCorrectionLevel:t}).modules.data,0),a=Math.sqrt(n.length);return n.reduce((function(e,t,n){return(n%a===0?e.push([t]):e[e.length-1].push(t))&&e}),[])}(t,n),this._cellSize=r/("undefined"===typeof this._matrix?0:this._matrix.length),this._path=this.transformMatrixIntoPath()}catch(o){if(!a||"function"!==typeof a)throw o;a(o)}}},{key:"transformMatrixIntoPath",value:function(){var e="undefined"===typeof this._cellSize?0:this._cellSize,t=this._matrix,n="";return"undefined"!==typeof t&&t.forEach((function(a,r){var o=!1;a.forEach((function(a,i){a?(o||(n+="M"+e*i+" "+(e/2+e*r)+" ",o=!0),o&&i===t.length-1&&(n+="L"+e*(i+1)+" "+(e/2+e*r)+" ")):o&&(n+="L"+e*i+" "+(e/2+e*r)+" ",o=!1)}))})),n}},{key:"render",value:function(){var e=this,t=this.props.getRef,n=this.props.size;return"undefined"===typeof n&&(n=100),o.a.createElement(F.Consumer,null,(function(a){var r=a.state;return o.a.createElement(et.d,{ref:t,width:n,height:n},o.a.createElement(et.b,{width:n,height:n,fill:r.backgroundlight}),e._path&&e._cellSize&&o.a.createElement(et.a,{d:e._path,stroke:r.text,strokeWidth:e._cellSize}))}))}}]),n}(r.PureComponent);at.defaultProps={value:" ",ecl:"M",onError:void 0};var rt=n(5),ot=n.n(rt),it=n(44),ct=n(509),st=n(511),lt=function(e,t){var n=Math.abs(t.getTime()-e.getTime())/1e3;return{days:Math.floor(n/86400),hours:Math.floor(n/3600),minutes:Math.floor(n/60),seconds:n}},ut=function(){var e,t,n,a,r,o,i;return pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:e="",t="",c.t0=de.a.OS,c.next="android"===c.t0?5:"ios"===c.t0?16:27;break;case 5:return t=it.a.deviceName,c.prev=6,c.next=9,pe.a.awrap(ct.a());case 9:e=c.sent,c.next=15;break;case 12:c.prev=12,c.t1=c.catch(6),e=it.a.deviceId;case 15:return c.abrupt("break",28);case 16:return t=it.a.platform.ios.model,c.prev=17,c.next=20,pe.a.awrap(st.a());case 20:e=c.sent,c.next=26;break;case 23:c.prev=23,c.t2=c.catch(17),e=it.a.deviceId;case 26:case 27:return c.abrupt("break",28);case 28:return n=de.a.OS,a=it.a.isDevice,r=it.a.manifest,o=r.version,i=r.sdkVersion,c.abrupt("return",{deviceName:t,deviceId:e,isDevice:a,version:o,sdkVersion:i,platform:n});case 31:case"end":return c.stop()}}),null,null,[[6,12],[17,23]],Promise)},pt=(function(){function e(){d()(this,e)}y()(e,null,[{key:"format",value:function(e,t){switch(t){case"DD":return""+e.getDay();case"MM":return""+(e.getMonth()+1);case"YYYYMMDD":return e.getFullYear+"-"+(e.getMonth()+1)+"-"+e.getDay();case"YYYYMM":return e.getFullYear+"-"+(e.getMonth()+1)+"}";default:return""}}},{key:"startofMonth",value:function(e){var t=e.getFullYear(),n=e.getMonth();return new Date(t,n,1)}},{key:"endofMonth",value:function(e){var t=e.getFullYear(),n=e.getMonth();return new Date(t,n+1,0)}},{key:"add",value:function(e,t,n){switch(n){case"DD":return new Date(e.setDate(e.getDate()+t));case"MM":return 11===e.getMonth()?new Date(e.getFullYear()+1,0,1):new Date(e.getFullYear(),e.getMonth()+1,1);default:return e}}},{key:"isEqualMonth",value:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()}}])}(),function(e,t,n,a){return e<=n&&n<t||(e<a&&a<=t||n<e&&t<a)}),ft=function(e){switch(e){case"\u672c\u7c4d/VN":case"Vi\u1ec7t Nam":return"VN";case"\u53f0\u7c4d/\u0110\xe0i Loan":return"TW";case"\u9999\u6e2f / Hong Kong":return"HK";case"\u9678\u7c4d/Trung Qu\u1ed1c":return"CN";case"\u99ac\u4f86\u897f\u4e9e / Malaysia":return"MY"}};function mt(e,t){var n=Object(r.useState)(e),a=s()(n,2),o=a[0],i=a[1];return Object(r.useEffect)((function(){var n=setTimeout((function(){i(e)}),t);return function(){clearTimeout(n)}}),[e]),o}function dt(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(function(e){D()(n,e);var t=dt(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this.props.data,t=lt(e[e.length-1].time,e[0].time).minutes,n=[];e.forEach((function(a,r){n.push((r===e.length-1?0:lt(e[r+1].time,a.time).minutes)/t*(50*e.length))}));for(var a=[],r=0;r<n.length;r++)a.push(o.a.createElement(ht,ae()({step:r+1},e[r],{width:n[r],key:"c"+r})));return o.a.createElement(He.a,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,contentContainerStyle:{paddingRight:100,paddingTop:40,paddingBottom:40},horizontal:!0},a)}}]),n}(o.a.Component)).contextType=F;var ht=function(e){D()(n,e);var t=dt(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){return o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(R.a,{style:{width:24}},o.a.createElement(i.a,{numberOfLines:1,style:{fontSize:9,transform:[{rotate:"-20deg"},{translateX:30},{translateY:-15}],width:100}},ot()(this.props.time).format("HH:mm/YYYY-MM-DD")),o.a.createElement(i.a,{numberOfLines:1,style:{fontSize:9,transform:[{rotate:"-20deg"},{translateX:20},{translateY:-35}],width:100}},this.props.event))),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(R.a,{style:{height:30,width:30,borderRadius:16,backgroundColor:"white",marginHorizontal:2,alignItems:"center",justifyContent:"center",borderColor:this.context.state.primary,borderWidth:3}},o.a.createElement(i.a,{style:{color:this.context.state.primary,fontWeight:"700"}},this.props.step)),o.a.createElement(R.a,{style:{height:2,backgroundColor:this.context.state.accent,width:this.props.width}})))}}]),n}(o.a.Component);function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}ht.contextType=F;var Et=function(e){D()(n,e);var t=vt(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this.props.data,t=[];return e.forEach((function(e,n){return t.push(o.a.createElement(bt,ae()({index:n+1},e,{key:"c"+n})))})),o.a.createElement(He.a,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,contentContainerStyle:{paddingBottom:10}},t)}}]),n}(o.a.Component),bt=function(e){D()(n,e);var t=vt(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{margin:2}},o.a.createElement(R.a,{style:{flexDirection:e.props.index%2===1?"row":"row-reverse",justifyContent:"center"}},o.a.createElement(R.a,{style:{flex:1,alignItems:e.props.index%2===1?"flex-end":"flex-start"}},o.a.createElement(re,{numberOfLines:2},ot()(e.props.time).format("YYYY-MM-DD HH:mm"))),o.a.createElement(R.a,{style:{alignItems:"center"}},o.a.createElement(R.a,{style:{height:20,width:20,borderRadius:16,backgroundColor:n.backgroundlight,margin:2,alignItems:"center",justifyContent:"center",borderColor:n.primary,borderWidth:3}}),o.a.createElement(R.a,{style:{backgroundColor:n.primary,width:2,flex:1}})),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(R.a,{style:gt({borderWidth:I.a.hairlineWidth,borderRadius:4,borderColor:n.accent,padding:6,backgroundColor:n.backgroundlight},B({}))},o.a.createElement(re,{numberOfLines:2},e.props.event.name),o.a.createElement(re,null,e.props.event.description))))))}))}}]),n}(o.a.Component),xt=n(799);var Dt=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(J.Consumer,null,(function(t){var n=t.dispatch;return o.a.createElement(w.a,{style:[{margin:2,overflow:"visible"},e.props.style],onPress:function(){n({type:K,event:C()()}),e.props.onPress()},disabled:e.props.disabled},o.a.createElement(xt.a,{start:[0,1],end:[1,0],style:{borderRadius:20,height:40,minWidth:60,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},colors:e.props.disabled?[e.context.state.disabled,e.context.state.disabled]:e.context.state.gradient},e.props.left,o.a.createElement(R.a,{style:{flex:1,alignItems:"center"}},e.props.loading?o.a.createElement($.a,{size:"small",color:"teal"}):"string"===typeof e.props.children?o.a.createElement(oe,{style:[e.props.styleText,{fontWeight:"bold",color:"white"}]},e.props.children):null),e.props.right))}))}}]),n}(o.a.Component);Dt.defaultProps={loading:!1,disabled:!1},Dt.contextType=F;var wt=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).isFocused=function(){return e._root&&e._root.isFocused()},e.clear=function(){return e._root&&e._root.clear()},e.focus=function(){return e._root&&e._root.focus()},e.blur=function(){return e._root&&e._root.blur()},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(R.a,{style:[{borderColor:this.context.state.primary,borderWidth:I.a.hairlineWidth,backgroundColor:this.context.state.backgroundlight,margin:1,height:40,borderRadius:30,flexDirection:"row",alignItems:"center"},this.props.style]},this.props.icon&&o.a.createElement(Ne,{size:24,type:this.props.icon.type,name:this.props.icon.name,color:this.context.state.primary,style:{marginLeft:10}}),o.a.createElement(le.a,{style:{flex:1,height:40,marginHorizontal:8,color:this.context.state.text},ref:function(t){return e._root=t},onFocus:this.props.onFocus,onBlur:this.props.onBlur,value:this.props.value,onChangeText:this.props.onChangeText,onSubmitEditing:this.props.onSubmitEditing,editable:this.props.editable,secureTextEntry:this.props.secureTextEntry}))}}]),n}(o.a.Component);wt.contextType=F;var St=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).isFocused=function(){return e._root&&e._root.isFocused()},e.clear=function(){return e._root&&e._root.clear()},e.focus=function(){return e._root&&e._root.focus()},e.blur=function(){return e._root&&e._root.blur()},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(R.a,{style:[{borderColor:this.context.state.primary,borderWidth:I.a.hairlineWidth,backgroundColor:this.context.state.backgroundlight,margin:1,marginTop:6,padding:6,height:80,borderRadius:4},this.props.style]},this.props.label&&o.a.createElement(oe,{numberOfLines:1,style:{backgroundColor:this.context.state.backgroundlight,borderRadius:4,marginTop:-5,maxWidth:"40%",paddingHorizontal:4,borderBottomColor:this.context.state.accent,borderBottomWidth:I.a.hairlineWidth,fontSize:10}},this.props.label),o.a.createElement(le.a,{multiline:!0,style:{flex:1,marginHorizontal:8,justifyContent:"flex-start",color:this.context.state.text,textAlignVertical:"top"},ref:function(t){return e._root=t},onFocus:this.props.onFocus,onBlur:this.props.onBlur,value:this.props.value,onChangeText:this.props.onChangeText,onSubmitEditing:this.props.onSubmitEditing,editable:this.props.editable,secureTextEntry:this.props.secureTextEntry}))}}]),n}(o.a.Component);function Ct(e){var t=Object(r.useContext)(F).state;return o.a.createElement($.a,ae()({},this.props,{color:t.primary}))}St.defaultProps={disabled:!1},St.contextType=F;var kt=function(e){var t=e.children,n=e.onPress,a=e.loading,i=void 0!==a&&a,c=Object(r.useContext)(J).dispatch,s=Object(r.useContext)(F).state;return o.a.createElement(w.a,{disabled:i,style:{margin:2},onPress:function(){c({type:K,event:C()()}),n&&n()}},i?o.a.createElement(Ct,null):o.a.createElement(oe,{style:{fontWeight:"bold",color:s.primary}},t))};var Ot=function(e){var t=e.icon,n=e.onPress,a=e.size,i=void 0===a?28:a,c=e.style,s=Object(r.useContext)(J).dispatch,l=Object(r.useContext)(F).state;return o.a.createElement(w.a,{style:[{padding:6,margin:4},c],onPress:function(){s({type:K,event:C()()}),n()}},o.a.createElement(Ne,ae()({},t,{size:i,color:t.color?t.color:l.primary})))},Rt={Row:function(e){return o.a.createElement(R.a,{style:{flexDirection:"row",borderBottomColor:"#bbb",borderBottomWidth:I.a.hairlineWidth}},e.children)},CellText:function(e){return o.a.createElement(re,{style:[{flex:1,paddingHorizontal:1},e.style]},e.children)},CellTitle:function(e){return o.a.createElement(oe,{style:[{flex:1,paddingHorizontal:1},e.style]},e.children)}};var It=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={height:0,width:0,offset:0,index:0},e.onLayout=function(t){var n=t.nativeEvent.layout,a=n.height,r=n.width;return e.setState({height:a,width:r})},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this;this.t=setInterval((function(){e.setState((function(t){return{offset:t.index===(e.props.children?e.props.children.length:0)?0:(void 0===t.offset?0:t.offset)+(void 0===t.height?0:t.height),index:3===t.index?0:t.index+1}})),e.scrollView&&e.scrollView.scrollTo({x:0,y:e.state.offset,animated:!0})}),this.props.durationTime)}},{key:"componentWillUnmount",value:function(){this.t&&clearInterval(this.t)}},{key:"render",value:function(){var e=this,t=this.props.children,n=[];return t&&t.forEach((function(t,a){return n.push(o.a.createElement(R.a,{key:""+a,style:{width:"100%",height:e.state.height-8,marginVertical:4,borderRadius:8,borderColor:e.context.state.accent,borderWidth:I.a.hairlineWidth}},t))})),o.a.createElement(He.a,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,ref:function(t){e.scrollView=t},onLayout:this.onLayout,style:[{flex:1},this.props.style],contentContainerStyle:{paddingHorizontal:"5%"},scrollEventThrottle:1},n)}}]),n}(o.a.Component);It.contextType=F,It.defaultProps={durationTime:5e3};var Pt=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={height:0,width:0,offset:0,index:0},e.onLayout=function(t){var n=t.nativeEvent.layout,a=n.height,r=n.width;return e.setState({height:a,width:r})},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this;this.t=setInterval((function(){e.setState((function(t){return{offset:t.index===(e.props.children?e.props.children.length:0)?0:(void 0===t.offset?0:t.offset)+(void 0===t.width?0:t.width),index:3===t.index?0:t.index+1}})),e.scrollView&&e.scrollView.scrollTo({x:e.state.offset,y:0,animated:!0})}),5e3)}},{key:"componentWillUnmount",value:function(){this.t&&clearInterval(this.t)}},{key:"render",value:function(){var e=this,t=this.props.children,n=[];return t&&t.forEach((function(t,a){return n.push(o.a.createElement(F.Consumer,{key:""+a},(function(n){var a=n.state;return o.a.createElement(R.a,{style:[{width:e.state.width-8,minHeight:e.state.height-20,marginHorizontal:4,marginVertical:10,borderRadius:8,backgroundColor:a.backgroundlight,borderColor:a.accent,borderWidth:2},B({})]},t)})))})),o.a.createElement(He.a,{horizontal:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,ref:function(t){return e.scrollView=t},onLayout:this.onLayout,style:[this.props.style],scrollEventThrottle:1},n)}}]),n}(o.a.Component);function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yt(e){var t,n=e.position,a=e.message,i=e.time,c=e.user,l=e.remove,u=e.reply,p=e.id,f=Object(r.useContext)(F).state,m=Object(r.useState)(!1),d=s()(m,2),h=d[0],y=d[1];return"center"===n?o.a.createElement(re,{style:{textAlign:"center",fontSize:10}},a):o.a.createElement(o.a.Fragment,null,h&&o.a.createElement(R.a,{style:{alignItems:"left"===n?"flex-start":"flex-end",marginHorizontal:55,marginVertical:4}},"right"===n&&o.a.createElement(w.a,{onPress:function(){l&&l(p)},style:Tt({backgroundColor:f.backgroundlight},B({}),{borderRadius:6,paddingHorizontal:8})},o.a.createElement(re,null,"Thu h\u1ed3i")),"left"===n&&o.a.createElement(w.a,{onPress:function(){u&&u(c.name)},style:Tt({backgroundColor:f.backgroundlight},B({}),{borderRadius:6,paddingHorizontal:8})},o.a.createElement(re,null,"Tr\u1ea3 l\u1eddi"))),o.a.createElement(Ve.a,{onPress:function(){return y(!1)},onLongPress:function(){return y(!0)}},o.a.createElement(R.a,{style:{marginVertical:4,flexDirection:"left"===n?"row":"row-reverse",alignItems:"center"}},c.avatar?o.a.createElement(Ke,{size:38,source:c.avatar}):o.a.createElement(Ze,{size:38},"undefined"===typeof c.name?"No":void 0===(t=c.name)||""===t?"":(t=t.split(/\s/).reduce((function(e,t){return e+t.slice(0,1)}),""))[0]+t[t.length-1]),o.a.createElement(xt.a,{start:[0,1],end:[1,0],style:{borderRadius:6,padding:6,minHeight:38,marginHorizontal:8,width:"60%"},colors:"right"===n?f.gradient:[f.backgroundlight,f.backgroundlight]},o.a.createElement(re,{style:{color:"right"===n?"#fff":f.text}},""+a)),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(re,{style:{textAlign:"right",fontSize:8,marginTop:-6}},i.format("MM-DD HH:mm"))))))}Pt.contextType=F;var jt=function(e){return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(oe,ae()({},e,{style:[{color:n.primary,fontWeight:"bold",fontSize:16},e.style]}),e.children)}))};var At=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){return o.a.createElement(w.a,{style:{padding:3,flexDirection:"row",paddingHorizontal:6,paddingVertical:12},onPress:this.props.onPress},this.props.icon&&o.a.createElement(Ne,{type:this.props.icon.type,size:28,name:this.props.icon.name}),o.a.createElement(R.a,{style:{marginLeft:10}},o.a.createElement(re,null,this.props.title),o.a.createElement(re,null,this.props.description)))}}]),n}(o.a.Component);At.defaultProps={loading:!1},At.contextType=F;var Nt=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this,t=this.props.day,n={},a=this.context.state.primary,r=this.context.state.primarylight,i=null===t.date?a:t.date.format("YYYYMMDD")<ot()().format("YYYYMMDD")?r:a;switch(t.type){case"single":n={backgroundColor:i,color:"white",borderRadius:2};break;case"first":n={backgroundColor:i,color:"white",borderBottomLeftRadius:2,borderTopLeftRadius:2};break;case"last":n={backgroundColor:i,color:"white",borderBottomRightRadius:2,borderTopRightRadius:2};break;case"between":n={backgroundColor:t.date?i:null,borderBottomColor:i,borderBottomWidth:t.date?0:2,color:"white"}}return t.date?"disabled"===t.type?o.a.createElement(re,{style:[{flex:1,height:38,textAlign:"center",textAlignVertical:"center",backgroundColor:this.context.state.disabled}]},t.date.date()+(t.event?"\n\u273f":"")):o.a.createElement(Ve.a,{onPress:function(){return e.props.onSelectDate(t.date)}},o.a.createElement(re,{style:[{flex:1,height:38,textAlign:"center",textAlignVertical:"center",textDecorationColor:"red",borderColor:this.context.state.accent,borderWidth:t.date.format("YYYYMMDD")===ot()().format("YYYYMMDD")?I.a.hairlineWidth:0},n]},t.date.date()+(t.event?"\n\u273f":""))):o.a.createElement(R.a,{style:[{height:30,flex:1},n]})}}]),n}(o.a.PureComponent);Nt.contextType=F;var _t=function(e){return o.a.createElement(R.a,{style:{flexDirection:"row",marginVertical:1}},e.days.map((function(t,n){return o.a.createElement(Nt,{key:n,onSelectDate:e.onSelectDate,day:t})})))};var Lt=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={dayStack:[],initialMonth:ot()()},e.onSelectDate=function(t){var n=null,a=null;e.props.startDate?t.format("YYYYMMDD")<e.props.startDate.format("YYYYMMDD")?n=t:t.format("YYYYMMDD")>e.props.startDate.format("YYYYMMDD")?(n=e.props.startDate,a=t):(n=null,a=null):n=t,e.props.onSelect(n,a),e.getDayStack(n,a)},e.getDayStack=function(t,n){var a,r,o,i,c,s,l,u,p,f;return pe.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:a=e.state.initialMonth,r=ot()(a).month(),o=ot()(a).startOf("month"),i=[],c=[],l=e.props,u=l.minDate,p=l.maxDate;do{for(i=[],f=0;f<7;f++)s={type:null,date:null,event:!1},f===o.days()&&o.month()===r?(u&&o.format("YYYYMMDD")<u.format("YYYYMMDD")&&(t&&t.format("YYYYMMDD")>o.format("YYYYMMDD")&&o.format("YYYYMMDD")>ot()().format("YYYYMMDD")||(s.type="disabled")),p&&o.format("YYYYMMDD")>p.format("YYYYMMDD")&&(s.type="disabled"),t&&t.format("YYYYMMDD")===o.format("YYYYMMDD")&&(s.type="first"),n&&n.format("YYYYMMDD")===o.format("YYYYMMDD")&&(s.type="last"),t&&n&&t.format("YYYYMMDD")<o.format("YYYYMMDD")&&n.format("YYYYMMDD")>o.format("YYYYMMDD")&&(s.type="between"),s.date=o.clone(),e.props.events.findIndex((function(e){return e.date===s.date.format("YYYY-MM-DD")}))>-1&&(s.event=!0),i.push(s),o.add(1,"day")):(t&&n&&t.format("YYYYMMDD")<o.format("YYYYMMDD")&&n.format("YYYYMMDD")>=o.format("YYYYMMDD")&&(s.type="between"),i.push(s));c.push(i)}while(o.month()===r);e.setState({dayStack:c});case 8:case"end":return m.stop()}}),null,null,null,Promise)},e.previous=function(){return e.setState((function(e){return{initialMonth:e.initialMonth.add(-1,"M")}}),(function(){e.getDayStack(e.props.startDate,e.props.untilDate),e.props.onChangeMonth&&e.props.onChangeMonth(e.state.initialMonth.format("YYYY-MM"))}))},e.next=function(){return e.setState((function(e){return{initialMonth:e.initialMonth.add(1,"M")}}),(function(){e.getDayStack(e.props.startDate,e.props.untilDate),e.props.onChangeMonth&&e.props.onChangeMonth(e.state.initialMonth.format("YYYY-MM"))}))},e}return y()(n,[{key:"componentDidMount",value:function(){this.getDayStack(this.props.startDate,this.props.untilDate)}},{key:"componentDidUpdate",value:function(e){this.props.startDate===e.startDate&&this.props.untilDate===e.untilDate&&this.props.events===e.events&&this.props.minDate===e.minDate||this.getDayStack(this.props.startDate,this.props.untilDate)}},{key:"render",value:function(){var e=this;return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(R.a,{style:{backgroundColor:n.backgroundlight}},o.a.createElement(R.a,{style:{flexDirection:"row",borderBottomWidth:1,paddingBottom:10,paddingTop:10}},["Su","Mo","Tu","We","Th","Fr","Sa"].map((function(e,t){return o.a.createElement(re,{style:{flex:1,textAlign:"center"},key:t},e)}))),o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(Ot,{icon:{type:"MaterialCommunityIcons",name:"chevron-double-left"},onPress:e.previous}),o.a.createElement(re,null,e.state.initialMonth.format("YYYY-MM")),o.a.createElement(Ot,{icon:{type:"MaterialCommunityIcons",name:"chevron-double-right"},onPress:e.next})),o.a.createElement(R.a,null,e.state.dayStack.map((function(t,n){return o.a.createElement(_t,{days:t,key:n,onSelectDate:e.onSelectDate})})))))}))}}]),n}(o.a.Component);var Ft=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={dayStack:[],initialMonth:ot()()},e.onSelectDate=function(t){var n=null;n=e.props.startDate?t.format("YYYYMMDD")<e.props.startDate.format("YYYYMMDD")?t:t.format("YYYYMMDD")>e.props.startDate.format("YYYYMMDD")?e.props.startDate:null:t,e.props.onSelect(n),e.getDayStack(n)},e.getDayStack=function(t){var n,a,r,o,i,c,s,l,u;return pe.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:n=e.state.initialMonth,a=ot()(n).month(),r=ot()(n).startOf("month"),o=[],i=[],s=e.props,l=s.minDate,s.maxDate;do{for(o=[],u=0;u<7;u++)c={type:null,date:null,event:!1},u===r.days()&&r.month()===a?(l&&r.format("YYYYMMDD")<l.format("YYYYMMDD")&&(t&&t.format("YYYYMMDD")>r.format("YYYYMMDD")&&r.format("YYYYMMDD")>ot()().format("YYYYMMDD")||(c.type="disabled")),t&&t.format("YYYYMMDD")===r.format("YYYYMMDD")&&(c.type="first"),c.date=r.clone(),e.props.events.findIndex((function(e){return e.date===c.date.format("YYYY-MM-DD")}))>-1&&(c.event=!0),o.push(c),r.add(1,"day")):o.push(c);i.push(o)}while(r.month()===a);e.setState({dayStack:i});case 8:case"end":return p.stop()}}),null,null,null,Promise)},e.previous=function(){return e.setState((function(e){return{initialMonth:e.initialMonth.add(-1,"M")}}),(function(){e.getDayStack(e.props.startDate),e.props.onChangeMonth&&e.props.onChangeMonth(e.state.initialMonth.format("YYYY-MM"))}))},e.next=function(){return e.setState((function(e){return{initialMonth:e.initialMonth.add(1,"M")}}),(function(){e.getDayStack(e.props.startDate),e.props.onChangeMonth&&e.props.onChangeMonth(e.state.initialMonth.format("YYYY-MM"))}))},e}return y()(n,[{key:"componentDidMount",value:function(){this.getDayStack(this.props.startDate)}},{key:"componentDidUpdate",value:function(e){this.props.startDate===e.startDate&&this.props.events===e.events&&this.props.minDate===e.minDate||this.getDayStack(this.props.startDate)}},{key:"render",value:function(){var e=this;return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(R.a,{style:{backgroundColor:n.backgroundlight}},e.props.showheader&&o.a.createElement(R.a,{style:{flexDirection:"row",borderBottomWidth:1,paddingBottom:10,paddingTop:10}},["Su","Mo","Tu","We","Th","Fr","Sa"].map((function(e,t){return o.a.createElement(re,{style:{flex:1,textAlign:"center"},key:t},e)}))),o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(Ot,{icon:{type:"MaterialCommunityIcons",name:"chevron-double-left"},onPress:e.previous}),o.a.createElement(re,null,e.state.initialMonth.format("YYYY-MM")),o.a.createElement(Ot,{icon:{type:"MaterialCommunityIcons",name:"chevron-double-right"},onPress:e.next})),o.a.createElement(R.a,null,e.state.dayStack.map((function(t,n){return o.a.createElement(_t,{days:t,key:n,onSelectDate:e.onSelectDate})})))))}))}}]),n}(o.a.Component);Ft.defaultProps={showheader:!0,events:[]};var Ut=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this.props.style;return o.a.createElement(oe,ae()({},this.props,{style:[{fontSize:10},e]}),this.props.children)}}]),n}(o.a.Component);Ut.defaultProps={},(function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this.props.style;return o.a.createElement(i.a,ae()({},this.props,{style:[{fontSize:11,color:"#757575"},e]}))}}]),n}(o.a.Component)).defaultProps={};var Ht=function(e){var t=e.label,n=e.value,a=e.onRemove,c=Object(r.useContext)(F).state;return o.a.createElement(R.a,{style:{borderRadius:20,borderWidth:I.a.hairlineWidth,borderColor:c.primary,flexDirection:"row",paddingLeft:4,height:24,alignItems:"center",margin:2,backgroundColor:"#fff"}},o.a.createElement(i.a,{allowFontScaling:!0,adjustsFontSizeToFit:!0,style:{textAlign:"center"}},t),a&&o.a.createElement(w.a,{onPress:function(){return a(n)},style:{marginRight:-3}},o.a.createElement(Ne,{type:"EvilIcons",name:"close-o",size:28})))};var zt=function(e){var t=e.value,n=e.onChange,a=e.label,i=Object(r.useContext)(F).state;return o.a.createElement(w.a,{onPress:function(){return n(!t)},style:{flexDirection:"row",alignItems:"center",marginHorizontal:4}},o.a.createElement(Ne,{type:"MaterialIcons",name:t?"check-box":"check-box-outline-blank",color:i.primary,size:22}),a&&o.a.createElement(oe,null,a))},Wt=n(495),Vt=n.n(Wt),Bt=function(){return o.a.createElement(Vt.a,{loop:!0,autoPlay:!0,enableMergePathsAndroidForKitKatAndAbove:!0,source:n(675)})};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qt=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hidden:!e.props.visible},e.toggle=function(){e.props.visible?e.show():e.hide()},e.show=function(){e.hideTimeout&&clearTimeout(e.hideTimeout),e.setState({hidden:!1});var t=e.props.duration;t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY||(e.hideTimeout=setTimeout(e.props.onDismiss,t))},e.hide=function(){e.hideTimeout&&clearTimeout(e.hideTimeout),e.setState({hidden:!0})},e}return y()(n,[{key:"componentDidMount",value:function(){this.props.visible&&this.show()}},{key:"componentDidUpdate",value:function(e){e.visible!==this.props.visible&&this.toggle()}},{key:"componentWillUnmount",value:function(){this.hideTimeout&&clearTimeout(this.hideTimeout)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onDismiss;return this.state.hidden?null:r.createElement(F.Consumer,null,(function(e){var a=e.state;return r.createElement(_e.a,{pointerEvents:"box-none",style:{position:"absolute",width:"100%",height:"30%"}},r.createElement(R.a,{style:Kt({},I.a.absoluteFillObject,{backgroundColor:"rgba(0,0,0,0.3)",borderBottomLeftRadius:20,borderBottomRightRadius:20},B({elevation:6}),{bottom:20})},r.createElement(R.a,{pointerEvents:"box-none",accessibilityLiveRegion:"polite",style:[{flex:1,flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:4,borderBottomLeftRadius:16,borderBottomRightRadius:16,backgroundColor:a.backgroundlight}]},r.createElement(re,null,t))),r.createElement(R.a,{style:{position:"absolute",bottom:0,left:0,right:0,alignItems:"center"}},r.createElement(w.a,{onPress:function(){return n()},style:Kt({backgroundColor:a.backgroundlight},B({elevation:8}),{width:36,height:36,borderRadius:20,alignItems:"center",justifyContent:"center"})},r.createElement(Ne,{size:28,type:"MaterialCommunityIcons",name:"close"}))))}))}}]),n}(r.Component);qt.DURATION_SHORT=4e3,qt.DURATION_MEDIUM=7e3,qt.DURATION_LONG=1e4,qt.defaultProps={duration:7e3};var Jt=qt,Xt=n(27),Qt=n.n(Xt),Zt=n(207);var $t=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={currentMode:null},e.currentDate=e.props.date,e.handleChange=function(t,n){if("dismissed"!==t.type){if("datetime"===e.props.mode){if("date"===e.state.currentMode)return e.currentDate=new Date(n),void e.setState({currentMode:"time"});if("time"===e.state.currentMode){var a=e.currentDate.getFullYear(),r=e.currentDate.getMonth(),o=e.currentDate.getDate(),i=n.getHours(),c=n.getMinutes();e.currentDate=new Date(a,r,o,i,c)}}else e.currentDate=n;e.props.onConfirm(e.currentDate),e.props.onHide()}else e.props.onHide()},e}return y()(n,[{key:"render",value:function(){var e=this.props,t=e.isVisible,n=e.date,a=Qt()(e,["isVisible","date"]),r=this.state.currentMode;return t&&r?o.a.createElement(Zt.a,ae()({},a,{mode:r,value:n,onChange:this.handleChange})):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isVisible&&null===t.currentMode?{currentMode:"time"===e.mode?"time":"date"}:e.isVisible?null:{currentMode:null}}}]),n}(o.a.PureComponent);$t.defaultProps={date:new Date,isVisible:!1,onHide:function(){}};var en=n(115);var tn=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={currentDate:e.props.date,isPickerVisible:e.props.isVisible,isPickerSpinning:!1},e.didPressConfirm=!1,e.handleCancel=function(){e.didPressConfirm=!1,e.props.onHide()},e.handleConfirm=function(){e.didPressConfirm=!0,e.props.onConfirm(e.state.currentDate)},e.handleHide=function(){var t=e.props.onHide;t&&t(),e.setState({isPickerVisible:!1})},e.handleChange=function(t,n){e.setState({currentDate:n,isPickerSpinning:!1})},e.handleUserTouchInit=function(){return e.setState({isPickerSpinning:!0}),!1},e}return y()(n,[{key:"render",value:function(){var e=this.props,t=e.cancelTextIOS,n=e.confirmTextIOS,a=(e.date,e.isDarkModeEnabled),r=e.isVisible,i=Qt()(e,["cancelTextIOS","confirmTextIOS","date","isDarkModeEnabled","isVisible"]),c=an,s=on,l=Zt.a,u=a?nn.containerDark:nn.containerLight;return o.a.createElement(Ge,{visible:r,onDismiss:this.handleCancel},o.a.createElement(R.a,{style:[nn.container,u]},o.a.createElement(R.a,{onStartShouldSetResponderCapture:this.handleUserTouchInit},o.a.createElement(l,ae()({},i,{value:this.state.currentDate,onChange:this.handleChange}))),o.a.createElement(c,{isDarkModeEnabled:a,isDisabled:this.state.isPickerSpinning,onPress:this.handleConfirm,label:n})),o.a.createElement(s,{isDarkModeEnabled:a,onPress:this.handleCancel,label:t}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isVisible&&!t.isPickerVisible?{currentDate:e.date,isPickerVisible:!0}:null}}]),n}(o.a.PureComponent);tn.defaultProps={cancelTextIOS:"Cancel",confirmTextIOS:"Confirm",headerTextIOS:"Pick a date",date:new Date,isDarkModeEnabled:!1,isVisible:!1};var nn=I.a.create({modal:{justifyContent:"flex-end",margin:10},container:{borderRadius:13,marginBottom:8,overflow:"hidden"},containerLight:{backgroundColor:"white"},containerDark:{backgroundColor:"#0E0E0E"}}),an=(I.a.create({root:{borderBottomColor:"#d5d5d5",borderBottomWidth:I.a.hairlineWidth,padding:14,backgroundColor:"transparent"},text:{textAlign:"center",color:"#8f8f8f",fontSize:20}}),function(e){var t=e.isDarkModeEnabled,n=e.isDisabled,a=e.onPress,r=e.label,c=t?"#444444":"#ebebeb";return o.a.createElement(en.a,{style:rn.button,underlayColor:c,onPress:a,disabled:n},o.a.createElement(i.a,{style:rn.text},r))}),rn=I.a.create({button:{borderColor:"#d5d5d5",borderTopWidth:I.a.hairlineWidth,backgroundColor:"transparent",height:57,justifyContent:"center"},text:{textAlign:"center",color:"#007ff9",fontSize:20,fontWeight:"normal",backgroundColor:"transparent"}}),on=function(e){var t=e.isDarkModeEnabled,n=e.onPress,a=e.label,r=t?cn.buttonDark:cn.buttonLight,c=t?"#444444":"#ebebeb";return o.a.createElement(en.a,{style:[cn.button,r],underlayColor:c,onPress:n},o.a.createElement(i.a,{style:cn.text},a))},cn=I.a.create({button:{borderRadius:13,height:57,marginBottom:function(){var e=U.a.get("window"),t=e.height,n=e.width;return"ios"===de.a.OS&&!de.a.isPad&&!de.a.isTVOS&&(812===t||812===n||896===t||896===n)}()?20:0,justifyContent:"center"},buttonLight:{backgroundColor:"white"},buttonDark:{backgroundColor:"#0E0E0E"},text:{padding:10,textAlign:"center",color:"#007ff9",fontSize:20,fontWeight:"600",backgroundColor:"transparent"}});var sn=function(e){return"android"===de.a.OS?o.a.createElement($t,e):"ios"===de.a.OS?o.a.createElement(tn,e):null};var ln=Object(r.memo)((function(e){var t=e.data,n=e.height,a=void 0===n?100:n,r=e.showLegend,i=void 0!==r&&r,c=function(e){var t=[],n=0;return e.forEach((function(e){e.data.forEach((function(a){var r=t.findIndex((function(e){return e.label===a.x}));n<a.y&&(n=a.y),-1===r?t.push({label:a.x,data:[{height:a.y,y:a.y,color:e.color}]}):t[r].data.push({height:a.y,y:a.y,color:e.color})}))})),t.forEach((function(e){e.data.forEach((function(e){e.height=e.y/n*100}))})),t.sort((function(e,t){return e.label<t.label?1:e.label>t.label?-1:0})),t}(t);return o.a.createElement(R.a,null,i&&o.a.createElement(R.a,{style:{flexDirection:"row"}},t.map((function(e,t){return o.a.createElement(R.a,{key:"lengend"+t,style:{flexDirection:"row",alignItems:"center",marginHorizontal:3}},o.a.createElement(R.a,{style:{backgroundColor:e.color,width:10,height:6,borderRadius:2,marginRight:2}}),o.a.createElement(oe,{style:{fontSize:8}},e.seriesName))}))),o.a.createElement(He.a,{horizontal:!0,contentContainerStyle:{paddingHorizontal:30}},o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end"}},c.map((function(e,t){return o.a.createElement(pn,{height:a,key:"GroupBar"+t,data:e.data,label:e.label})})))))}));function un(e){var t=e.width,n=e.height,a=void 0===n?0:n,r=e.color,i=void 0===r?"red":r,c=e.value;return o.a.createElement(R.a,{style:{backgroundColor:i,borderTopLeftRadius:1,borderTopRightRadius:1,marginHorizontal:1,minWidth:20,width:t,height:a+"%"}},o.a.createElement(re,{style:{fontSize:6,textAlign:"center",height:8}},c))}function pn(e){var t=e.width,n=void 0===t?20:t,a=e.data,r=void 0===a?[]:a,i=e.label,c=void 0===i?"label":i,s=e.height;return o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end",marginHorizontal:10,minHeight:s}},r.map((function(e,t){return o.a.createElement(un,{key:"BarItem"+t,value:e.y,height:e.height,width:n,color:e.color})}))),o.a.createElement(R.a,{style:{height:40,alignItems:"center"}},o.a.createElement(re,{numberOfLines:1,style:{fontSize:8,textAlign:"right",flex:1,width:50,transform:[{rotate:"-45deg"},{translateX:-20}]}},c)))}function fn(e){var t=e.data,n=e.height,a=void 0===n?100:n,r=e.showLegend,i=void 0!==r&&r,c=function(e){var t=[],n=0;return e.forEach((function(e){e.data.forEach((function(a){var r=t.findIndex((function(e){return e.label===a.x}));n<a.y&&(n=a.y),-1===r?t.push({label:a.x,data:[{height:a.y,y:a.y,color:e.color}]}):t[r].data.push({height:a.y,y:a.y,color:e.color})}))})),t.forEach((function(e){e.data.forEach((function(e){e.height=100-e.y/n*100}))})),t.sort((function(e,t){return e.label<t.label?1:e.label>t.label?-1:0})),t}(t);return o.a.createElement(R.a,null,i&&o.a.createElement(R.a,{style:{flexDirection:"row"}},t.map((function(e,t){return o.a.createElement(R.a,{key:"lengend"+t,style:{flexDirection:"row",alignItems:"center",marginHorizontal:3}},o.a.createElement(R.a,{style:{backgroundColor:e.color,width:10,height:6,borderRadius:2,marginRight:2}}),o.a.createElement(oe,{style:{fontSize:8}},e.seriesName))}))),o.a.createElement(He.a,{horizontal:!0,contentContainerStyle:{paddingHorizontal:30}},function(e){var t=[];return e.forEach((function(e){t.push({h:e.label})})),t}(c),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end"}},c.map((function(e,t){return o.a.createElement(mn,{height:a,key:"GroupLine"+t,data:e.data,label:e.label})})))))}function mn(e){var t=e.data,n=void 0===t?[]:t,a=e.label,r=void 0===a?"label":a,i=e.height;return o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{marginHorizontal:10,minHeight:i}},n.map((function(e,t){return o.a.createElement(dn,{key:"LineItem"+t,value:e.y,height:e.height,color:e.color})}))),o.a.createElement(R.a,{style:{height:40,alignItems:"center"}},o.a.createElement(re,{numberOfLines:1,style:{fontSize:8,textAlign:"right",flex:1,width:50,transform:[{rotate:"-45deg"},{translateX:-20}]}},r)))}function dn(e){var t=e.height,n=void 0===t?0:t,a=e.color,r=void 0===a?"red":a,i=e.value;return o.a.createElement(R.a,{style:{position:"absolute",flex:1,top:n+"%",flexDirection:"row",alignItems:"center"}},o.a.createElement(R.a,{style:{backgroundColor:r,borderRadius:10,width:8,height:8}}),o.a.createElement(re,{style:{fontSize:6}},i))}function hn(e,t,n){return e.substr(n||0,t.length)===t}function yn(e,t,n){var a=(n||e.length)-t.length,r=e.lastIndexOf(t,a);return-1!==r&&r===a}function gn(e,t,n){return-1!==e.indexOf(t,n||0)}function vn(e){return"number"===typeof e&&isNaN(e)}function En(e,t,n){var a=e.length;if(0===a)return!1;for(var r=0|n,o=vn(t),i=r>=0?r:a+r;i<a;){var c=e[i++];if(c===t)return!0;if(o&&vn(c))return!0}return!1}function bn(e,t,n){for(var a=e.index,r=e.index=a+n,o=a;o<r;o++){"\n"===t.charAt(o)?(e.line++,e.column=0):e.column++}}function xn(e,t,n){return bn(e,t,n-e.index)}function Dn(e){return{index:e.index,line:e.line,column:e.column}}function wn(e,t){var n={str:e,options:t,position:{index:0,column:0,line:0},tokens:[]};return function(e){var t=e.str,n=e.options.childlessTags,a=t.length;for(;e.position.index<a;){var r=e.position.index;if(Cn(e),e.position.index===r)if(hn(t,"!--",r+1))kn(e);else{var o=On(e),i=o.toLowerCase();En(n,i)&&Mn(o,e)}}}(n),n.tokens}var Sn=/[A-Za-z0-9]/;function Cn(e){var t=e.str,n=e.position,a=function(e,t){for(;;){var n=e.indexOf("<",t);if(-1===n)return n;var a=e.charAt(n+1);if("/"===a||"!"===a||Sn.test(a))return n;t=n+1}}(t,n.index);if(a!==n.index){-1===a&&(a=t.length);var r=Dn(n),o=t.slice(n.index,a);xn(n,t,a);var i=Dn(n);e.tokens.push({type:"text",content:o,position:{start:r,end:i}})}}function kn(e){var t=e.str,n=e.position,a=Dn(n);bn(n,t,4);var r=t.indexOf("--\x3e",n.index),o=r+3;-1===r&&(r=o=t.length);var i=t.slice(n.index,r);xn(n,t,o),e.tokens.push({type:"comment",content:i,position:{start:a,end:Dn(n)}})}function On(e){var t=e.str,n=e.position,a="/"===t.charAt(n.index+1),r=Dn(n);bn(n,t,a?2:1),e.tokens.push({type:"tag-start",close:a,position:{start:r}});var o=function(e){var t=e.str,n=e.position,a=t.length,r=n.index;for(;r<a;){var o=t.charAt(r);if(!(In(o)||"/"===o||">"===o))break;r++}var i=r+1;for(;i<a;){var c=t.charAt(i);if(!!(In(c)||"/"===c||">"===c))break;i++}xn(n,t,i);var s=t.slice(r,i);return e.tokens.push({type:"tag",content:s}),s}(e);!function(e){var t=e.str,n=e.position,a=e.tokens,r=n.index,o=null,i=r,c=[],s=t.length;for(;r<s;){var l=t.charAt(r);if(o){l===o&&(o=null),r++}else{if("/"===l||">"===l){r!==i&&c.push(t.slice(i,r));break}if(In(l))r!==i&&c.push(t.slice(i,r)),i=r+1,r++;else"'"===l||'"'===l?(o=l,r++):r++}}xn(n,t,r);for(var u=c.length,p="attribute",f=0;f<u;f++){var m=c[f];if(-1===m.indexOf("=")){var d=c[f+1];if(d&&hn(d,"=")){if(d.length>1){var h=m+d;a.push({type:p,content:h}),f+=1;continue}var y=c[f+2];if(f+=1,y){var g=m+"="+y;a.push({type:p,content:g}),f+=1;continue}}}if(yn(m,"=")){var v=c[f+1];if(v&&!gn(v,"=")){var E=m+v;a.push({type:p,content:E}),f+=1;continue}var b=m.slice(0,-1);a.push({type:p,content:b})}else a.push({type:p,content:m})}}(e);var i="/"===t.charAt(n.index);bn(n,t,i?2:1);var c=Dn(n);return e.tokens.push({type:"tag-end",close:i,position:{end:c}}),o}var Rn=/\s/;function In(e){return Rn.test(e)}var Pn=[].push;function Mn(e,t){for(var n=t.str,a=t.position,r=t.tokens,o=e.toLowerCase(),i=n.length,c=a.index;c<i;){var s=n.indexOf("</",c);if(-1===s){Cn(t);break}var l=Dn(a);xn(l,n,s);var u={str:n,position:l,tokens:[]};if(o===On(u).toLowerCase()){if(s!==a.index){var p=Dn(a);xn(a,n,s),r.push({type:"text",content:n.slice(p.index,s),position:{start:p,end:Dn(a)}})}Pn.apply(r,u.tokens),xn(a,n,u.position.index);break}c=u.position.index}}function Tn(e,t){var n={tagName:null,children:[]};return function e(t){var n=t.tokens,a=t.options,r=t.stack,o=r[r.length-1].children,i=n.length,c=t.cursor;for(;c<i;){var s=n[c];if("tag-start"===s.type){var l=n[++c];c++;var u=l.content.toLowerCase();if(s.close){for(var p=r.length,f=!1;--p>-1;)if(r[p].tagName===u){f=!0;break}for(;c<i;){if("tag-end"!==n[c].type)break;c++}if(f){jn(r,p,s.position.start,n[c-1].position.end);break}}else{var m=En(a.closingTags,u);if(m){var d=a.closingTagAncestorBreakers;m=!Yn(u,r,d)}if(m)for(var h=r.length-1;h>0;){if(u===r[h].tagName){jn(r,h,s.position.start,s.position.start),o=r[h-1].children;break}h-=1}for(var y=[],g=void 0;c<i&&"tag-end"!==(g=n[c]).type;)y.push(g.content),c++;c++;var v=[],E={start:s.position.start,end:g.position.end},b={type:"element",tagName:l.content,attributes:y,children:v,position:E};if(o.push(b),!(g.close||En(a.voidTags,u))){var x=r.push({tagName:u,children:v,position:E}),D={tokens:n,options:a,cursor:c,stack:r};e(D),c=D.cursor,r.length===x&&(b.position.end=n[c-1].position.end)}}}else o.push(s),c++}t.cursor=c}({tokens:e,options:t,cursor:0,stack:[n]}),n.children}function Yn(e,t,n){var a=n[e];if(a)for(var r=t.length-1;r>=0;){var o=t[r].tagName;if(o===e)break;if(En(a,o))return!0;r--}return!1}function jn(e,t,n,a){e[t].position.end=a;for(var r=t+1,o=e.length;r<o;r++)e[r].position.end=n;e.splice(t)}function An(e,t){return e.map((function(e){var n,a=e.type,r="element"===a?{type:a,tagName:e.tagName.toLowerCase(),attributes:(n=e.attributes,Object.assign.apply(Object,[{}].concat(O()(n.map((function(e){var t=function(e,t){var n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}(e.trim(),"="),n=t[0],a="string"===typeof t[1]?function(e){var t=e.charAt(0),n=e.length-1;return('"'===t||"'"===t)&&t===e.charAt(n)?e.slice(1,n):e}(t[1]):null;return{key:n,value:a}})))))),children:An(e.children,t),position:null}:{type:a,content:e.content};return t.includePositions&&(r.position=e.position),r}))}function Nn(e){return e.reduce((function(e,t){var n=t.key,a=t.value;if(null===a)return e+" "+n;var r=-1!==a.indexOf("'")?'"':"'";return e+" "+n+"="+r+a+r}),"")}function _n(e,t){return e.map((function(e){if("text"===e.type)return e.content;if("comment"===e.type)return"\x3c!--"+e.content+"--\x3e";var n=e.tagName,a=e.attributes,r=e.children;return En(t.voidTags,n.toLowerCase())?"<"+n+Nn(a)+">":"<"+n+Nn(a)+">"+_n(r,t)+"</"+n+">"})).join("")}var Ln={voidTags:["!doctype","area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],closingTags:["html","head","body","p","dt","dd","li","option","thead","th","tbody","tr","td","tfoot","colgroup","em","strong"],childlessTags:["style","script","template"],closingTagAncestorBreakers:{li:["ul","ol","menu"],dt:["dl"],dd:["dl"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table"],td:["table"]},includePositions:!1};function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln,n=wn(e,t),a=Tn(n,t);return An(a,t)}function Un(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ln;return _n(e,t)}var Hn=n(18),zn=n(446),Wn=n(497),Vn=n.n(Wn),Bn=n(798),Gn=n(441),Kn=n(797),qn=function(e){return{sop:"http://10.20.84.41/FEAService/api/",kira:"http://10.20.84.24/FEAService/api/",test:"http://portal.feavn.com.vn:82/itsservice_test/api/",its:"http://portal.feavn.com.vn:82/json/api/"}[e]},Jn=qn("its")+"itsmart",Xn=""+{sop:"ws://socket.feavn.com.vn:7000/",kira:"ws://socket.feavn.com.vn:7000/",test:"ws://socket.feavn.com.vn:7000/",its:"ws://socket.feavn.com.vn:7000/"}["its"],Qn=function(e,t){return qn("its")+"MobileFile/ImageHR?companycode="+e+"&id="+t},Zn=function(e,t){return qn("its")+"MobileFile/imageconfluence?name="+e+"&id="+t},$n=function(e){var t,n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,e.append("key","itsmart"),r.next=4,pe.a.awrap(fetch(Jn,{method:"POST",headers:(t={},f()(t,"Accept","application/json"),f()(t,"Content-Type","multipart/form-data"),f()(t,"key","itsmart"),t),body:e}));case 4:return n=r.sent,r.next=7,pe.a.awrap(n.json());case 7:return a=r.sent,r.abrupt("return",a);case 11:return r.prev=11,r.t0=r.catch(0),console.warn(r.t0),r.abrupt("return",{status:-1,data:null});case 15:case"end":return r.stop()}}),null,null,[[0,11]],Promise)};function ea(e,t){return qn("its")+"MobileFile/ITSmartfile?type="+e+"&id="+t}var ta=n(206),na=n(22);var aa=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){return r.createElement(ta.a,{originWhitelist:["*"],source:{uri:"https://portal.feavn.com.vn:2222/files/fea/itsmart/trainning/version_en/"},allowFileAccess:!0,javaScriptEnabled:!0,allowUniversalAccessFromFileURLs:!0,onError:function(e){var t=e.nativeEvent;na.a.alert("WebView error",":"+t)}})}}]),n}(r.Component);var ra=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleBarCodeScanned=function(e){},e}return y()(n,[{key:"render",value:function(){return o.a.createElement(Le,null,o.a.createElement(re,null,"Barcode"))}}]),n}(o.a.Component);function oa(e){var t=e.data,n=e.onSelect;return o.a.createElement(Xe,{onPress:function(){return n&&n(t)},style:{marginVertical:1,minHeight:60}},o.a.createElement(re,{style:{fontSize:16}},t.title))}function ia(e){var t=e.navigation,n=function(e){return t.navigate("BIDetail",{func:e.func,title:e.title})};return o.a.createElement(Le,null,o.a.createElement(fe.a,{data:[{key:"1",title:"Theo d\xf5i h\xecnh h\xecnh ngh\u1ec9 ph\xe9p c\u1ee7a c\xe1c c\xf4ng ty",func:"Leave"},{key:"2",title:"Theo d\xf5i c\u1eadp nh\u1eadt b\xe0i vi\u1ebft",func:"Poster"},{key:"3",title:"Theo d\xf5i t\xecnh h\xecnh Tokens Push",func:"TokenPush"}],renderItem:function(e){var t=e.item;return o.a.createElement(oa,{data:t,onSelect:n})},keyExtractor:function(e){return e.key}}))}var ca=n(24),sa=function(e){var t=Object(r.useContext)(F).state;return o.a.createElement(Xe,{style:{padding:10,marginTop:1},onPress:function(){return e.onSelect(e.data)}},o.a.createElement(oe,{style:{margin:2,color:t.primary,fontWeight:"bold",fontSize:18}},e.data.LabelStatus),o.a.createElement(re,{style:{fontSize:19,textAlign:"center"}},e.data.LACode),o.a.createElement(re,{style:{textAlign:"right"}},ot()(e.data.CreateDate).format("YYYY-MM-DD HH:mm:SS")),o.a.createElement(R.a,{style:{paddingHorizontal:8}},o.a.createElement(re,null,o.a.createElement(oe,null,"CREATOR"),": ",e.data.Creator),o.a.createElement(re,null,o.a.createElement(oe,null,"ABSENTEE"),": ",e.data.Absence)))},la=function(e){switch(e){case 1:return"DRAFT";case 2:return"SENDING";case 3:return"APPROVED";case 4:return"RETURN";case 5:return"COMPLETED"}};function ua(e){var t=e.navigation,n=(Object(r.useContext)(te).state.lg,Object(r.useContext)(Hn.UserContext).user),a=Object(r.useState)({data:[],refreshing:!1}),i=s()(a,2),c=i[0],l=i[1],u=function(){!function(){var e,t,a;pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return l(ae()({},c,{refreshing:!0})),(e=new FormData).append("action","loadlistabsencewwithuserid"),e.append("userid",n.UserID.toString()),r.next=6,pe.a.awrap($n(e));case 6:t=r.sent,l(ae()({},c,{refreshing:!1})),1===t.status&&((a=t.data).forEach((function(e){e.LabelStatus=la(e.Status)})),l(ae()({},c,{data:a})));case 9:case"end":return r.stop()}}),null,null,null,Promise)}()},p=function(e){1===e.Status||4===e.Status?t.navigate("LeaveFormRegister",{laid:e.LAID,userabsence:e.UserAbsence,view:"Main"}):e.Status>1&&t.navigate("DocumentDetail",{documentid:e.LAID,documenttypename:"HRLEAVEABSENCE",documentcode:e.LACode})};return Object(ca.useFocusEffect)(o.a.useCallback((function(){u()}),[])),Object(r.useEffect)((function(){u()}),[]),o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(fe.a,{onRefresh:u,contentContainerStyle:{marginTop:6},refreshing:c.refreshing,data:c.data,extraData:c.refreshing,keyExtractor:function(e){return e.LAID},renderItem:function(e){var t=e.item;return o.a.createElement(sa,{onSelect:p,data:t})}})),o.a.createElement(R.a,{style:{height:40,margin:6}},o.a.createElement(se,{onPress:function(){return t.navigate("LeaveFormRegister",{view:"InforUser"})}},"REGISTERNOW")))}var pa=function(e){switch(e){case"DRAFT":return"#95a5a6";case"SENDING":return"#f1c40f";case"APPROVED":return"#2980b9";case"RETURN":return"#e67e22";case"COMPLETED":return"#27ae60"}},fa=function(e){switch(e){case 7910:return"VSIP1";case 79101:return"VSIP2";case 7920:return"BDP"}};function ma(e){u()(e);var t=Object(r.useState)([]),n=s()(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e,t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(e=new FormData).append("action","leavesumary"),e.append("from",ot()().add(-30,"day").format("YYYY-MM-DD")),e.append("to",ot()().format("YYYY-MM-DD")),a.next=6,pe.a.awrap($n(e));case 6:1===(t=a.sent).status&&(n=[],t.data.forEach((function(e){var t=n.findIndex((function(t){return t.company===fa(e.CompanyCode)}));if(-1===t)n.push({company:fa(e.CompanyCode),data:[{seriesName:la(e.Status),color:pa(la(e.Status)),data:[{x:e.CreateDate,y:e.CouterLeave}]}]});else{var a=n[t].data.findIndex((function(t){return t.seriesName===la(e.Status)}));-1===a?n[t].data.push({seriesName:la(e.Status),color:pa(la(e.Status)),data:[{x:e.CreateDate,y:e.CouterLeave}]}):n[t].data[a].data.push({x:e.CreateDate,y:e.CouterLeave})}})),i(n));case 8:case"end":return a.stop()}}),null,null,null,Promise)};return o.a.createElement(He.a,null,a.map((function(e,t){return o.a.createElement(R.a,null,o.a.createElement(re,null,e.company),o.a.createElement(ln,{showLegend:0===t,data:e.data}))})))}var da=function(e){switch(e){case"DRAFT":return"#95a5a6";case"SENDING":return"#f1c40f";case"APPROVED":return"#2980b9";case"RETURN":return"#e67e22";case"COMPLETED":return"#27ae60"}},ha=function(e){switch(e){case 7910:return"VSIP1";case 79101:return"VSIP2";case 7920:return"BDP"}};function ya(e){u()(e);var t=Object(r.useState)([]),n=s()(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e,t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(e=new FormData).append("action","leavesumary"),e.append("from",ot()().add(-30,"day").format("YYYY-MM-DD")),e.append("to",ot()().format("YYYY-MM-DD")),a.next=6,pe.a.awrap($n(e));case 6:1===(t=a.sent).status&&(n=[],t.data.forEach((function(e){var t=n.findIndex((function(t){return t.company===ha(e.CompanyCode)}));if(-1===t)n.push({company:ha(e.CompanyCode),data:[{seriesName:la(e.Status),color:da(la(e.Status)),data:[{x:e.CreateDate,y:e.CouterLeave}]}]});else{var a=n[t].data.findIndex((function(t){return t.seriesName===la(e.Status)}));-1===a?n[t].data.push({seriesName:la(e.Status),color:da(la(e.Status)),data:[{x:e.CreateDate,y:e.CouterLeave}]}):n[t].data[a].data.push({x:e.CreateDate,y:e.CouterLeave})}})),i(n));case 8:case"end":return a.stop()}}),null,null,null,Promise)};return o.a.createElement(He.a,null,a.map((function(e,t){return o.a.createElement(R.a,{key:"v"+t},o.a.createElement(re,null,e.company),o.a.createElement(fn,{showLegend:0===t,data:e.data}))})))}var ga=function(e){switch(e){case 1:return"DRAFT";case 2:return"SENDING";case 3:return"APPROVED";case 4:return"RETURN";case 5:return"COMPLETED"}},va=function(e){switch(e){case"DRAFT":return"#95a5a6";case"SENDING":return"#f1c40f";case"APPROVED":return"#2980b9";case"RETURN":return"#e67e22";case"COMPLETED":return"#27ae60"}},Ea=function(e){switch(e){case 7910:return"VSIP1";case 79101:return"VSIP2";case 7920:return"BDP"}};function ba(e){u()(e);var t=Object(r.useState)([]),n=s()(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e,t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(e=new FormData).append("action","postersumary"),e.append("from",ot()().add(-30,"day").format("YYYY-MM-DD")),e.append("to",ot()().format("YYYY-MM-DD")),a.next=6,pe.a.awrap($n(e));case 6:1===(t=a.sent).status&&(n=[],t.data.forEach((function(e){var t=n.findIndex((function(t){return t.company===Ea(e.CompanyCode)}));if(-1===t)n.push({company:Ea(e.CompanyCode),data:[{seriesName:ga(e.Status),color:va(ga(e.Status)),data:[{x:e.CreateDate,y:e.CouterPoster}]}]});else{var a=n[t].data.findIndex((function(t){return t.seriesName===ga(e.Status)}));-1===a?n[t].data.push({seriesName:ga(e.Status),color:va(ga(e.Status)),data:[{x:e.CreateDate,y:e.CouterPoster}]}):n[t].data[a].data.push({x:e.CreateDate,y:e.CouterPoster})}})),i(n));case 8:case"end":return a.stop()}}),null,null,null,Promise)};return o.a.createElement(He.a,null,a.map((function(e,t){return o.a.createElement(R.a,{key:"ak"+t},o.a.createElement(re,null,e.company),o.a.createElement(ln,{showLegend:0===t,data:e.data}))})))}var xa=function(e){switch(e){case"DRAFT":return"#95a5a6";case"36.0.0":return"#f1c40f";case"APPROVED":case"34.0.0":return"#2980b9";case"COMPLETED":return"#27ae60"}},Da=function(e){switch(e){case 7910:return"VSIP1";case 79101:return"VSIP2";case 7920:return"BDP"}};function wa(e){u()(e);var t=Object(r.useState)([]),n=s()(t,2),a=n[0],i=n[1];Object(r.useEffect)((function(){c()}),[]);var c=function(){var e,t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(e=new FormData).append("action","tokensnotificationsumary"),e.append("from",ot()().add(-30,"day").format("YYYY-MM-DD")),e.append("to",ot()().format("YYYY-MM-DD")),a.next=6,pe.a.awrap($n(e));case 6:1===(t=a.sent).status&&(n=[],t.data.forEach((function(e){var t=n.findIndex((function(t){return t.company===Da(e.CompanyCode)}));if(-1===t)n.push({company:Da(e.CompanyCode),data:[{seriesName:e.sdkVersion,color:xa(e.sdkVersion),data:[{x:e.CreateDate,y:e.CouterTokens}]}]});else{var a=n[t].data.findIndex((function(t){return t.seriesName===e.sdkVersion}));-1===a?n[t].data.push({seriesName:e.sdkVersion,color:xa(e.sdkVersion),data:[{x:e.CreateDate,y:e.CouterTokens}]}):n[t].data[a].data.push({x:e.CreateDate,y:e.CouterTokens})}})),i(n));case 8:case"end":return a.stop()}}),null,null,null,Promise)};return o.a.createElement(He.a,null,a.map((function(e,t){return o.a.createElement(R.a,{key:"view"+t},o.a.createElement(re,null,e.company),o.a.createElement(ln,{showLegend:0===t,data:e.data}))})))}function Sa(e){e.navigation;var t=e.route.params.func;return"Leave"===t?o.a.createElement(ma,null):"LeaveCompare"===t?o.a.createElement(ya,null):"Poster"===t?o.a.createElement(ba,null):"TokenPush"===t?o.a.createElement(wa,null):null}var Ca=n(57);var ka=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"componentDidMount",value:function(){Ca.a.openURL("https://callwithme-ccda1.firebaseapp.com/")}},{key:"render",value:function(){return o.a.createElement(ta.a,{originWhitelist:["*"],allowsInlineMediaPlayback:!0,allowsFullscreenVideo:!0,mediaPlaybackRequiresUserAction:!0,userAgent:"window",source:{uri:"https://callwithme-ccda1.firebaseapp.com/"}})}}]),n}(r.Component);var Oa=U.a.get("window"),Ra=(Oa.width,Oa.height,function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){return o.a.createElement(Le,null)}}]),n}(r.Component)),Ia=n(55),Pa=n(501),Ma=n.n(Pa),Ta=n(502),Ya=n.n(Ta),ja=new Ma.a,Aa=Ya.a.create(ja,{}),Na=function(e,t){return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,pe.a.awrap(Aa.set(t,e));case 3:return n.abrupt("return",!0);case 6:return n.prev=6,n.t0=n.catch(0),n.abrupt("return",!1);case 9:case"end":return n.stop()}}),null,null,[[0,6]],Promise)},_a=function(e){var t;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,pe.a.awrap(Aa.get(e));case 3:return t=n.sent,n.abrupt("return",t);case 7:return n.prev=7,n.t0=n.catch(0),n.abrupt("return",null);case 10:case"end":return n.stop()}}),null,null,[[0,7]],Promise)},La=function(e){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.a.awrap(Aa.remove(e));case 3:return t.abrupt("return",!0);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",!1);case 9:case"end":return t.stop()}}),null,null,[[0,6]],Promise)};function Fa(e){var t=e.navigation,n=(e.route,Object(r.useContext)(Hn.UserContext)),a=n.user,i=n.dispatch,c=Object(r.useState)({currentpassword:"",newpassword:"",confirmpassword:"",validnewpassword:"",validconfirmpassword:"",resultinfor:""}),l=s()(c,2),u=l[0],p=l[1],f=function(){var e=!0;return p(ae()({},u,{validconfirmpassword:"",validnewpassword:""})),u.newpassword.length<6?(p(ae()({},u,{validnewpassword:"REQUIREDLENGTHOFMORETHAN"})),e=!1):u.newpassword!==u.confirmpassword&&(p(ae()({},u,{validconfirmpassword:"CONFIRMPASSWORDINCORRECTLY"})),e=!1),e};return o.a.createElement(He.a,null,o.a.createElement(Ia.a,{style:{flex:1,justifyContent:"space-between"},behavior:"padding"},o.a.createElement(R.a,{style:{justifyContent:"center",paddingHorizontal:"5%",paddingVertical:30}},o.a.createElement(oe,null,"CURRENTPASSWORD"),o.a.createElement(wt,{value:u.currentpassword,onChangeText:function(e){return p(ae()({},u,{currentpassword:e}))},secureTextEntry:!0,editable:""!==a.UserPass}),o.a.createElement(oe,null,"NEWPASSWORD"),""!==u.validnewpassword&&o.a.createElement(oe,null,u.validnewpassword),o.a.createElement(wt,{value:u.newpassword,onChangeText:function(e){return p(ae()({},u,{newpassword:e}))},secureTextEntry:!0}),o.a.createElement(oe,null,"CONFIRMPASSWORD"),""!==u.validconfirmpassword&&o.a.createElement(oe,null,u.validconfirmpassword),o.a.createElement(wt,{value:u.confirmpassword,onChangeText:function(e){return p(ae()({},u,{confirmpassword:e}))},secureTextEntry:!0}),""!==u.resultinfor&&o.a.createElement(oe,null,u.resultinfor),o.a.createElement(Dt,{disabled:u.newpassword.length<6,onPress:function(){var e,n;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!0!==f()){r.next=21;break}return p(ae()({},u,{loading:!0,resultinfor:""})),(e=new FormData).append("action","changepassword"),e.append("currentpassword",u.currentpassword),e.append("newpassword",u.newpassword),e.append("userid",a.UserID.toString()),r.next=9,pe.a.awrap($n(e));case 9:if(n=r.sent,p(ae()({},u,{loading:!1})),1!==n.status){r.next=20;break}return a.UserPass=n.data,a.UserExpired=ot()().add(2,"month").toDate().toString(),r.next=16,pe.a.awrap(Na(JSON.stringify(a),"signin"));case 16:r.sent?(i&&i({type:Hn.AC_user.set,user:a}),t.navigate("MainTab")):p(ae()({},u,{resultinfor:"ERROR"})),r.next=21;break;case 20:0===n.status?p(ae()({},u,{resultinfor:"PASSWORDCHANGEFAILED"})):p(ae()({},u,{resultinfor:"ERROR"}));case 21:case"end":return r.stop()}}),null,null,null,Promise)}},"CHANGEPASSWORD"))))}var Ua=function(e){var t=Object(r.useContext)(F).state;return o.a.createElement(w.a,{onPress:e.onPress,style:{height:36,width:36,borderRadius:20,justifyContent:"center",alignItems:"center",margin:2,backgroundColor:t.primary}},o.a.createElement(Ne,{type:"Ionicons",name:"md-send",size:22,color:"white"}))},Ha=n(37),za=function(e){return o.a.createElement(w.a,{onPress:function(){return e.select(e.data)},style:{flexDirection:"row"}},o.a.createElement(Ke,{source:{uri:Qn(e.data.CompanyCode,e.data.UrlImage)}}),o.a.createElement(R.a,{style:{flex:1,paddingLeft:10}},o.a.createElement(re,{style:{fontWeight:"bold"}},e.data.UserName),o.a.createElement(re,null,o.a.createElement(oe,null,"EMPLOYEECODE"),": ",e.data.UserCodeID),o.a.createElement(re,null,o.a.createElement(oe,null,"DEPARTMENT"),": ",e.data.Department),o.a.createElement(re,null,o.a.createElement(oe,null,"SECTION"),": ",e.data.Section),o.a.createElement(re,null,e.data.Position)))};var Wa=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._keyExtractor=function(e){return e.UserID.toString()},e._renderItem=function(t){var n=t.item;return o.a.createElement(za,{data:n,select:e.props.select})},e}return y()(n,[{key:"render",value:function(){return o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(fe.a,{data:this.props.datasearch,keyExtractor:this._keyExtractor,renderItem:this._renderItem}))}}]),n}(o.a.PureComponent);function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ga=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visibleAdd:!1,valuesearch:"",loadingsearch:!1,datasearch:[],dataselect:[]},e._keyExtractor=function(e){return e.UserID.toString()},e._renderItem=function(e){var t=e.item;return o.a.createElement(Ka,{data:t})},e._add=function(){var t=e.state.dataselect,n=[];t.forEach((function(t){-1===n.findIndex((function(e){return e.UserID===t.UserID}))&&t.UserID!==e.user.UserID&&n.push({UserID:t.UserID,UserName:t.UserName})})),n.length>0&&e._creategroupchatmany(JSON.stringify(n))},e.onChangeText=function(t){return e.setState({valuesearch:t},(function(){return e._searchuser()}))},e._searchuser=Object(Ha.debounce)((function(){""!==e.state.valuesearch&&e.setState({loadingsearch:!0},(function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","searchuser"),t.append("search",e.state.valuesearch),t.append("companycode",e.user.CompanyCode.toString()),a.next=6,pe.a.awrap($n(t));case 6:n=a.sent,e.setState({datasearch:n.data,loadingsearch:!1});case 8:case"end":return a.stop()}}),null,null,null,Promise)}))}),1e3),e._onRemove=function(t){var n=e.state.dataselect,a=n.findIndex((function(e){return e.UserID===t}));a>-1&&(n.splice(a,1),e.setState({dataselect:n}))},e._select=function(t){var n=e.state.dataselect;-1===n.findIndex((function(e){return e.UserID===t.UserID}))&&(n.push(t),e.setState({dataselect:n}))},e._creategroupchatmany=function(t){var n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new FormData).append("action","insertgroupchatmany"),n.append("userid",e.user.UserID.toString()),n.append("groupid",e.props.GroupID),n.append("listuser",t),a.next=7,pe.a.awrap($n(n));case 7:1===a.sent.status&&e.props.onLoad();case 9:case"end":return a.stop()}}),null,null,null,Promise)},e._leavegroupchat=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","leavegroupchat"),t.append("userid",e.user.UserID.toString()),t.append("groupid",e.props.GroupID),a.next=6,pe.a.awrap($n(t));case 6:1===(n=a.sent).status&&(n.data?(na.a.alert(e.lg.LEAVEGROUP,e.lg.LOG20),e.props.navigation.goBack()):na.a.alert(e.lg.LEAVEGROUP,e.lg.LOG21));case 8:case"end":return a.stop()}}),null,null,null,Promise)},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return e.lg=n,o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.user=n,o.a.createElement(Z,{style:Ba({flex:1,borderRadius:12,padding:10},B({elevation:20}))},o.a.createElement(R.a,{style:{marginTop:-10}},o.a.createElement(w.a,{style:{padding:4,alignItems:"center",minHeight:40},onPress:e.props.close},o.a.createElement(Ne,{size:32,type:"Feather",name:"chevron-down"}))),e.state.visibleAdd?o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(wt,{icon:{type:"Feather",name:"user"},value:e.state.valuesearch,onChangeText:e.onChangeText}),o.a.createElement(R.a,{style:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"}},e.state.dataselect.map((function(t){return o.a.createElement(Ht,{key:t.UserID,label:t.UserName,value:t.UserID,onRemove:e._onRemove})}))),o.a.createElement(jt,null,e.state.loadingsearch?"SEARCHING":"SEARCHRESULTS"),o.a.createElement(Wa,{datasearch:e.state.datasearch,select:e._select}),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return e.setState({visibleAdd:!1})}},"BACK"),o.a.createElement(se,{style:{flex:1},onPress:e._add},"INSERT"))):o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(fe.a,{data:e.props.data,keyExtractor:e._keyExtractor,renderItem:e._renderItem}),o.a.createElement(se,{onPress:function(){return e.setState({visibleAdd:!0})}},"ADDMEMBER"),o.a.createElement(R.a,{style:{alignItems:"flex-end"}},o.a.createElement(kt,{onPress:e._leavegroupchat},"LEAVEGROUP"))))}))}))}}]),n}(o.a.Component),Ka=function(e){return o.a.createElement(w.a,{style:{flexDirection:"row",marginBottom:2}},o.a.createElement(Ke,{size:36,source:{uri:Qn(e.data.CompanyCode,e.data.UrlImage)}}),o.a.createElement(R.a,{style:{flex:1,paddingLeft:10,borderBottomColor:"#bbb",borderBottomWidth:I.a.hairlineWidth}},o.a.createElement(re,{style:{fontWeight:"bold"}},e.data.UserName),o.a.createElement(re,null,o.a.createElement(oe,null,"EMPLOYEECODE"),": ",e.data.UserCodeID)))},qa=Ga;var Ja=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={data:[],refeshlist:!1,valuemessage:"",groupcode:"",joins:[],visibleJsons:!1,groupid:"",showScrollBottom:!1},e.ismounted=!1,e.optionaction=function(){return e.setState({visibleJsons:!0})},e.updatemessage=function(t){e.state.data.splice(0,0,{MessID:C()(),SendDate:ot()().format("YYYY-MM-DDTHH:mm:SS"),MessType:"MESSAGE",UserID:t.userid,UserName:t.username,MessageText:t.message,UrlImage:t.userimg,CompanyCode:t.companycode}),e.ismounted&&e.setState((function(e){return{refeshlist:!e.refeshlist}}))},e._openconversationgroupcode=function(t){var n,a,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(n=new FormData).append("action","openconversationgroupcode"),n.append("groupcode",t),n.append("userid",""+e.login.UserID),o.next=6,pe.a.awrap($n(n));case 6:1===(a=o.sent).status&&((r=a.data).length>0&&e.ismounted&&e.setState((function(e){return{data:r,refeshlist:!e.refeshlist}}),(function(){return e._updateseenmessage(r[0].MessID)})),e.ismounted&&e._getinformationgroupchat(t));case 8:case"end":return o.stop()}}),null,null,null,Promise)},e._updateseenmessage=function(){var t,n,a=arguments;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:""!==(t=a.length>0&&void 0!==a[0]?a[0]:"")&&((n=new FormData).append("action","updateseenmessage"),n.append("groupcode",e.state.groupcode),n.append("userid",""+e.login.UserID),n.append("messenageid",t),$n(n));case 2:case"end":return r.stop()}}),null,null,null,Promise)},e._getinformationgroupchat=function(){var t,n,a,r,o,i=arguments;return pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(""===(t=i.length>0&&void 0!==i[0]?i[0]:"")){c.next=9;break}return(n=new FormData).append("action","getinformationgroupchat"),n.append("groupcode",t),c.next=7,pe.a.awrap($n(n));case 7:1===(a=c.sent).status&&(e.ismounted&&e.setState({joins:a.data.joins,groupid:a.data.GroupID}),null!==a.data.GroupName?e.ismounted&&e.props.navigation.setParams({groupcode:a.data.GroupName,optionaction:e.optionaction}):(r=[],a.data.joins.forEach((function(t){if(t.UserID!==e.login.UserID){var n=t.UserName.split(" ");r.push(n[n.length-1])}})),o=r.map((function(e){return e})).join(", "),e.ismounted&&e.props.navigation.setParams({groupcode:o,optionaction:e.optionaction})));case 9:case"end":return c.stop()}}),null,null,null,Promise)},e._keyExtractor=function(e){return""+e.MessID},e._remove=function(t){var n,a,r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=new FormData).append("action","removemessage"),n.append("id",t),i.next=5,pe.a.awrap($n(n));case 5:1===(a=i.sent).status?a.data?(r=e.state.data,(o=r.findIndex((function(e){return e.MessID===t})))>-1&&(r.splice(o,1),e.setState((function(e){return{data:r,refeshlist:!e.refeshlist}})))):na.a.alert("Thu h\u1ed3i tin nh\u1eafn","Y\xeau c\u1ea7u thu h\u1ed3i tin nh\u1eafn kh\xf4ng \u0111\u01b0\u1ee3c ch\u1ea5p nh\u1eadn, vui l\xf2ng th\u1eed l\u1ea1i sau."):na.a.alert("Thu h\u1ed3i tin nh\u1eafn","Y\xeau c\u1ea7u thu h\u1ed3i tin nh\u1eafn \u0111\xe3 x\u1ea3y ra l\u1ed7i.");case 7:case"end":return i.stop()}}),null,null,null,Promise)},e._reply=function(t){e.setState({valuemessage:t+" "})},e._renderItem=function(t){var n=t.item;return o.a.createElement(Yt,{reply:e._reply,remove:e._remove,id:n.MessID,position:"MESSAGE"!==n.MessType?"center":n.UserID===e.login.UserID?"right":"left",user:{id:n.UserID.toString(),name:n.UserName,avatar:n.UrlImage?{uri:Qn(n.CompanyCode,n.UrlImage)}:null},message:n.MessageText,time:ot()(n.SendDate,"YYYY-MM-DDTHH:mm:SS")})},e.send=function(){var t;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(""===e.state.valuemessage){n.next=10;break}return(t=new FormData).append("action","sendmessage"),t.append("groupcode",e.state.groupcode),t.append("userid",""+e.login.UserID),t.append("messenage",e.state.valuemessage),n.next=8,pe.a.awrap($n(t));case 8:1===n.sent.status&&(e.ismounted&&e.io.emit("message",{groupcode:e.state.groupcode,userid:e.login.UserID,username:e.login.UserName,message:e.state.valuemessage,userimg:e.login.UrlImage,companycode:e.login.CompanyCode}),e.ismounted&&e.setState({valuemessage:""}));case 10:case"end":return n.stop()}}),null,null,null,Promise)},e._hide=function(){return e.setState({visibleJsons:!1})},e._loadafterinsert=function(){e.setState({visibleJsons:!1}),e._openconversationgroupcode(e.state.groupcode)},e.onChangeMessage=function(t){return e.setState({valuemessage:t})},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this;this.ismounted=!0;var t=this.props.route.params.groupcode;this.io.emit("joingroupchat",t),this.io.on("sendmessage",(function(t){e.updatemessage(t)})),""!==t&&this.setState({groupcode:t},(function(){return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e._openconversationgroupcode(t),e.props.navigation.setParams({groupcode:t,optionaction:e.optionaction});case 2:case"end":return n.stop()}}),null,null,null,Promise)}))}},{key:"componentWillUnmount",value:function(){this.ismounted=!1}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.SocketContext.Consumer,null,(function(t){var n=t.state.socket;return e.io=n,o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(Le,null,o.a.createElement(Ia.a,{style:{flex:1,justifyContent:"space-between"},keyboardVerticalOffset:83,behavior:"padding"},o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(fe.a,{keyExtractor:e._keyExtractor,ref:function(t){return e.flatList=t},data:e.state.data,extraData:e.state.refeshlist,renderItem:e._renderItem,inverted:!0,automaticallyAdjustContentInsets:!1,getItemLayout:function(e,t){return{length:40,offset:40*t,index:t}}})),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center",paddingBottom:6}},o.a.createElement(wt,{style:{marginHorizontal:4,flex:1},value:e.state.valuemessage,onChangeText:e.onChangeMessage}),o.a.createElement(Ua,{onPress:e.send})),o.a.createElement(Ge,{onDismiss:e._hide,visible:e.state.visibleJsons},o.a.createElement(qa,{navigation:e.props.navigation,onLoad:e._loadafterinsert,data:e.state.joins,close:e._hide,GroupID:e.state.groupid}))))}))}))}}]),n}(o.a.PureComponent);function Xa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xa(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Za=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={valuesearch:"",loadingsearch:!1,datasearch:[],dataselect:[]},e.onChangeText=function(t){return e.setState({valuesearch:t},(function(){return e._searchuser()}))},e._searchuser=Object(Ha.debounce)((function(){""!==e.state.valuesearch&&e.setState({loadingsearch:!0},(function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","searchuser"),t.append("search",e.state.valuesearch),t.append("companycode",e.user.CompanyCode.toString()),a.next=6,pe.a.awrap($n(t));case 6:n=a.sent,e.setState({datasearch:n.data,loadingsearch:!1});case 8:case"end":return a.stop()}}),null,null,null,Promise)}))}),1e3),e._select=function(t){var n=e.state.dataselect;-1===n.findIndex((function(e){return e.UserID===t.UserID}))&&(n.push(t),e.setState({dataselect:n}))},e._onRemove=function(t){var n=e.state.dataselect,a=n.findIndex((function(e){return e.UserID===t}));a>-1&&(n.splice(a,1),e.setState({dataselect:n}))},e._create=function(){return e.props.create(e.state.dataselect)},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.user=n,o.a.createElement(Z,{style:Qa({flex:1,borderRadius:12,padding:10},B({elevation:20}))},o.a.createElement(R.a,{style:{marginTop:-10}},o.a.createElement(w.a,{style:{padding:4,alignItems:"center",minHeight:40},onPress:e.props.close},o.a.createElement(Ne,{size:32,type:"Feather",name:"chevron-down"}))),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(wt,{icon:{type:"Feather",name:"user"},placeholder:"User Code",value:e.state.valuesearch,onChangeText:e.onChangeText}),o.a.createElement(R.a,{style:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"}},e.state.dataselect.map((function(t){return o.a.createElement(Ht,{key:t.UserID,label:t.UserName,value:t.UserID,onRemove:e._onRemove})}))),o.a.createElement(jt,null,e.state.loadingsearch?"SEARCHING":"SEARCHRESULTS"),o.a.createElement(Wa,{datasearch:e.state.datasearch,select:e._select}),o.a.createElement(se,{disabled:0===e.state.dataselect.length,onPress:e._create},"START")))}))}}]),n}(o.a.Component);var $a=Object(r.memo)((function(e){var t,n=e.item,a=e.navigation,i=Object(r.useContext)(Hn.UserContext).user,c=[],s=[];return n.joins.forEach((function(e){if(i&&e.UserID!==i.UserID){var t=e.UserName.split(" ");s.push(t[t.length-1]),c.push({uri:Qn(e.CompanyCode,e.UrlImage)})}})),t=s.map((function(e){return e})).join(", "),o.a.createElement(Xe,{style:{paddingHorizontal:6,marginTop:1},onPress:function(){a&&a.navigate("Chat",{groupcode:n.GroupCode})}},o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Qe,{sources:c}),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(re,{numberOfLines:1,style:{fontSize:18}},t),o.a.createElement(re,{numberOfLines:2},"MESSAGE"===n.MessType?n.Sender+" reply: ":""," ",n.MessageText),o.a.createElement(re,{style:{textAlign:"right",fontSize:10}},ot()(n.SendDate,"YYYY-MM-DDTHH:mm:SS").format("YYYY-MM-DD HH:mm"))),n.SeenMessage!==n.MessID&&o.a.createElement(R.a,{style:{width:12,height:12,borderRadius:6,backgroundColor:"red",position:"absolute",bottom:6,left:36,borderWidth:3,borderColor:"white"}})))}));var er=Object(r.memo)((function(e){var t=e.navigation,n=(e.route,Object(r.useState)({data:[],refreshing:!1,visibleNewchat:!1})),a=s()(n,2),i=a[0],c=a[1],l=Object(r.useContext)(Hn.UserContext).user,u=function(){var e,t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(c(ae()({},i,{refreshing:!0})),!l){a.next=9;break}return(e=new FormData).append("action","getlistconversation"),e.append("userid",l.UserID.toString()),a.next=7,pe.a.awrap($n(e));case 7:1===(t=a.sent).status?((n=t.data).sort((function(e,t){return(e.SeenMessage===e.MessID?1:0)-(t.SeenMessage===t.MessID?1:0)})),c(ae()({},i,{data:n,refreshing:!1}))):c(ae()({},i,{refreshing:!1}));case 9:case"end":return a.stop()}}),null,null,null,Promise)},p=function(){return c(ae()({},i,{visibleNewchat:!1}))},f=function(e){var n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("action","creategroupchatmany"),n.append("userid",l.UserID.toString()),n.append("listuser",e),r.next=6,pe.a.awrap($n(n));case 6:1===(a=r.sent).status&&t.navigate("Chat",{groupcode:a.data});case 8:case"end":return r.stop()}}),null,null,null,Promise)};return Object(ca.useFocusEffect)(o.a.useCallback((function(){u()}),[])),Object(r.useEffect)((function(){u()}),[]),o.a.createElement(Le,null,o.a.createElement(fe.a,{onRefresh:function(){return u()},extraData:i.refreshing,refreshing:i.refreshing,data:i.data,keyExtractor:function(e){return e.GroupID},renderItem:function(e){var n=e.item;return o.a.createElement($a,{navigation:t,item:n})}}),o.a.createElement(R.a,{style:{height:40,margin:6}},o.a.createElement(se,{onPress:function(){return c(ae()({},i,{visibleNewchat:!0}))}},"NEWCONSERSATION")),o.a.createElement(Ge,{onDismiss:p,visible:i.visibleNewchat},o.a.createElement(Za,{create:function(e){var t=[];e.forEach((function(e){-1===t.findIndex((function(t){return t.UserID===e.UserID}))&&e.UserID!==l.UserID&&t.push({UserID:e.UserID,UserName:e.UserName})})),t.length>0&&f(JSON.stringify(t))},close:p})))}));function tr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ar="actionconfirmwork/setuser",rr="actionconfirmwork/setreason",or="actionconfirmwork/setouttime",ir="actionconfirmwork/setintime",cr="actionconfirmwork/setmachinecode",sr="actionconfirmwork/workday",lr="actionconfirmwork/data",ur="actionconfirmwork/datadraff",pr="actionconfirmwork/statusSA";function fr(e,t){switch(t.event){case ar:return ae()({},e,{user:t.user});case rr:return ae()({},e,{reason:t.reason});case or:return ae()({},e,{outtime:t.outtime});case ir:return ae()({},e,{intime:t.intime});case cr:return ae()({},e,{machinecode:t.machinecode});case sr:return ae()({},e,{workday:t.workday,fragment:t.fragment});case lr:return ae()({},e,{code:t.code,confirmWorkid:t.confirmWorkid,statusSA:t.statusSA,status:t.status,machinecode:t.machinecode});case ur:return ae()({},e,{userconfirmwork:t.userconfirmwork,machinecode:t.machinecode,reason:t.reason,outtime:t.outtime,intime:t.intime,confirmWorkid:t.confirmWorkid,code:t.code,workday:t.workday,fragment:t.fragment,statusSA:t.statusSA,status:t.status});case pr:return ae()({},e,{statusSA:t.statusSA})}}var mr=o.a.createContext({user:null,reason:null,intime:null,outtime:null,machinecode:null,workday:null,code:null,confirmWorkid:null,statusSA:null,userconfirmwork:null,status:null,fragment:null});function dr(e){var t=e.children,n=Object(r.useReducer)(fr,{user:null,reason:null,intime:null,outtime:null,machinecode:null,workday:null,code:null,confirmWorkid:null,statusSA:null,userconfirmwork:null,status:null,fragment:null}),a=s()(n,2),i=a[0],c=a[1];return o.a.createElement(mr.Provider,{value:nr({},i,{dispatch:c})},t)}function hr(e){u()(e);var t=Object(r.useContext)(mr),n=t.user,a=t.reason,i=Object(r.useContext)(F).state;return n?o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ke,{size:36,source:{uri:n?Qn(n.CompanyCode.toString(),n.UrlImage):" "}}),o.a.createElement(R.a,{style:{paddingHorizontal:12}},o.a.createElement(re,{style:{fontWeight:"bold"}},n&&n.UserName," - ",n&&n.UserCodeID),o.a.createElement(re,null,o.a.createElement(oe,null,"TEAM"),": ",n&&n.Team),o.a.createElement(oe,{style:{fontWeight:"bold"}},a))),o.a.createElement(R.a,{style:{height:1,backgroundColor:i.accent,width:"100%",marginVertical:8}})):null}function yr(e){var t=e.next,n=(Object(r.useContext)(F).state,Object(r.useContext)(mr)),a=n.intime,i=n.outtime,c=n.dispatch,l=n.statusSA,u=n.status,p=n.workday,f=Object(r.useState)(new Date),m=s()(f,2),d=m[0],h=m[1],y=Object(r.useState)(!1),g=s()(y,2),v=g[0],E=g[1],b=Object(r.useState)("IN"),x=s()(b,2),D=x[0],S=x[1];return o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(hr,null),o.a.createElement(w.a,{style:{flex:1},onPress:function(){1!==l&&(S("IN"),h(a||new Date),E(!0))}},o.a.createElement(Z,{style:{flex:1}},o.a.createElement(oe,null,"SCANWORKIN"),a&&o.a.createElement(re,{style:{fontSize:36}},a&&ot()(a).format("YYYY-DD-MM")),a&&o.a.createElement(re,{style:{fontSize:36,textAlign:"center"}},a&&ot()(a).format("HH:mm")))),o.a.createElement(w.a,{style:{flex:1},onPress:function(){1!==l&&(S("OUT"),h(i||new Date),E(!0))}},o.a.createElement(Z,{style:{flex:1}},o.a.createElement(oe,null,"SCANWORKOUT"),i&&o.a.createElement(re,{style:{fontSize:36}},i&&ot()(i).format("YYYY-DD-MM")),i&&o.a.createElement(re,{style:{fontSize:36,textAlign:"center"}},i&&ot()(i).format("HH:mm"))))),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return t("WORKDAY")}},"BACK"),o.a.createElement(se,{disabled:!i&&!a,style:{flex:1},onPress:function(){t("CONFIRMANDCOMPLETE")}},"NEXT")),o.a.createElement(sn,{minimumDate:ot()(p,"YYYY-MM-DD").add(-2,"day").toDate(),maximumDate:ot()(p,"YYYY-MM-DD").add(2,"day").toDate(),mode:"datetime",onConfirm:function(e){(3!==l&&2!==l||2!==u&&3!==u&&5!==u)&&(E(!1),h(e),"IN"===D?c&&c({event:ir,intime:e}):"OUT"==D&&c&&c({event:or,outtime:e}))},isVisible:v,date:d,onHide:function(){return E(!1)}}))}function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Er=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={description:"",data:{CheckUserName:"",ApproverID:0,CheckUserID:"",DocumentTypeID:"",NodeID:"",Sequence:0},disabled:!1},e._send=function(){e.setState({disabled:!1},(function(){e.props.send(e.state.data.ApproverID,e.state.data.NodeID,e.state.description)}))},e._keyExtractorapprovers=function(e){return""+e.ApproverID},e._renderItemapprovers=function(t){var n=t.item;return o.a.createElement(F.Consumer,null,(function(t){var a=t.state;return o.a.createElement(w.a,{onPress:function(){return e.setState({data:n})},style:{height:36,borderBottomColor:"#ccc",borderBottomWidth:I.a.hairlineWidth,flexDirection:"row",alignItems:"center"}},n.ApproverID===e.state.data.ApproverID&&o.a.createElement(Ne,{type:"MaterialCommunityIcons",name:"account-check",size:28,color:n.ApproverID===e.state.data.ApproverID?a.primary:a.text}),o.a.createElement(re,{style:{fontSize:n.ApproverID===e.state.data.ApproverID?20:12,color:n.ApproverID===e.state.data.ApproverID?a.primary:a.text}},n.CheckUserName))}))},e}return y()(n,[{key:"componentDidMount",value:function(){this.props.approvers.length>0&&this.setState({data:this.props.approvers[0],disabled:!0})}},{key:"render",value:function(){var e=this;return o.a.createElement(Z,{style:vr({flex:1,borderRadius:12,padding:10},B({elevation:20}))},o.a.createElement(Ia.a,{style:{flex:1,justifyContent:"space-between"},keyboardVerticalOffset:83,behavior:"padding"},o.a.createElement(R.a,{style:{marginTop:-10}},o.a.createElement(w.a,{style:{padding:4,alignItems:"center",minHeight:40},onPress:this.props.close},o.a.createElement(Ne,{size:32,type:"Feather",name:"chevron-down"}))),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(fe.a,{data:this.props.approvers,extraData:this.state.data||this.props.approvers,keyExtractor:this._keyExtractorapprovers,renderItem:this._renderItemapprovers}),o.a.createElement(jt,null,"NOTE"),o.a.createElement(St,{value:this.state.description,onChangeText:function(t){return e.setState({description:t})}}),o.a.createElement(se,{disabled:0===this.state.data.ApproverID||!this.state.disabled,onPress:this._send},"SEND"))))}}]),n}(o.a.PureComponent),br=function(e){switch(e){case 1:return"DRAFT";case 2:return"SENDING";case 3:return"APPROVED";case 4:return"RETURN";case 5:return"COMPLETED";default:return"NONE"}},xr=function(e){switch(e){case 1:return"DRAFT";case 2:return"SENDING";case 3:return"APPROVED";case 4:return"RETURN";default:return"NONE"}};function Dr(e){var t=e.navigation,n=(e.next,Object(r.useContext)(mr)),a=n.user,i=n.reason,c=n.intime,l=n.outtime,u=n.machinecode,p=n.workday,f=n.dispatch,m=n.code,d=n.statusSA,h=n.confirmWorkid,y=n.status,g=n.fragment,v=Object(r.useContext)(Hn.UserContext).user,E=Object(r.useContext)(F).dispatch,b=Object(r.useState)(!1),x=s()(b,2),D=x[0],w=x[1],S=Object(r.useState)(!1),C=s()(S,2),k=C[0],O=C[1],I=Object(r.useState)({list:[],visible:!1,loading:!1}),P=s()(I,2),M=P[0],T=P[1],Y=Object(r.useContext)(Hn.SocketContext).state.socket,j=Object(r.useContext)(te).state.lg,N=Object(r.useState)({hr:[],sa:[]}),_=s()(N,2),L=_[0],U=_[1],H=function(){return T(ae()({},M,{visible:!1}))};Object(r.useEffect)((function(){h&&""!==h&&z()}),[h]);var z=function(){var e,t,n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(e=new FormData).append("action","getlistsahrconfirmwork"),e.append("id",h),r.next=5,pe.a.awrap($n(e));case 5:1===(t=r.sent).status?(n=[],a=[],t.data.forEach((function(e){"SA"===e.TypeCheck&&a.push(e),"HR"===e.TypeCheck&&n.push(e)})),U({hr:n,sa:a})):E&&E({type:A,alert:j.LOG38});case 7:case"end":return r.stop()}}),null,null,null,Promise)};Object(r.useEffect)((function(){a&&h&&""!==h&&3===d&&W(m,a.UserID.toString())}),[h,a]);var W=function(){var e,t,n,a,r=arguments;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:"",t=r.length>1?r[1]:void 0,!e||""===e){o.next=13;break}return T(ae()({},M,{loading:!0})),(n=new FormData).append("action","getapprovercw"),n.append("code",e),n.append("costentercode","0"),n.append("userid",t),o.next=11,pe.a.awrap($n(n));case 11:1===(a=o.sent).status?T(ae()({},M,{list:a.data,loading:!1})):T(ae()({},M,{loading:!1}));case 13:case"end":return o.stop()}}),null,null,null,Promise)};return o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(He.a,null,o.a.createElement(hr,null),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(Z,null,o.a.createElement(oe,{style:{textAlign:"center"}},"CONFIRMWORKINFORMATION"),m&&o.a.createElement(re,null,"Code: ",m),o.a.createElement(re,null,o.a.createElement(oe,null,"REASON"),": ",o.a.createElement(oe,null,i)),o.a.createElement(re,null,o.a.createElement(oe,null,"SCANWORKIN"),": ",c&&ot()(c).format("YYYY-DD-MM HH:mm")),o.a.createElement(re,null,o.a.createElement(oe,null,"SCANWORKOUT"),": ",l&&ot()(l).format("YYYY-DD-MM HH:mm")),o.a.createElement(re,null,o.a.createElement(oe,null,"MACHINECODE"),": ",u),o.a.createElement(R.a,{style:{alignItems:"flex-end"}},3!==d&&2!==d&&2!==y&&3!==y&&5!==y&&o.a.createElement(kt,{loading:k,onPress:function(){var e,t;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return O(!0),(e=new FormData).append("action","updateconfirmwork"),e.append("id",h),e.append("creator",v.UserID.toString()),e.append("userwork",a.UserID.toString()),e.append("reasoncode",i),u&&e.append("machinecode",u),e.append("workday",p),c&&e.append("timein",ot()(c).format("YYYY-MM-DD HH:mm")),l&&e.append("timeout",ot()(l).format("YYYY-MM-DD HH:mm")),e.append("companycode",v.CompanyCode.toString()),n.next=14,pe.a.awrap($n(e));case 14:t=n.sent,O(!1),1===t.status?f({event:lr,confirmWorkid:t.data.ConfirmWorkID,statusSA:t.data.StatusSA,status:t.data.Status,code:t.data.Code,machinecode:t.data.MachineCode}):E&&E({type:A,alert:j.LOG37});case 17:case"end":return n.stop()}}),null,null,null,Promise)}},"CONFIRM"))),o.a.createElement(jt,{style:{textAlign:"center"}},"CONFIRMATIONOFPROTECTION"),2===d&&o.a.createElement(oe,null,"AWAITINGSECURITYCONFIRMATION"),o.a.createElement(Pt,null,L.sa.map((function(e){return o.a.createElement(R.a,{key:e.CreateDate,style:{padding:4}},o.a.createElement(re,null,o.a.createElement(oe,null,"RESULTSCONFIRMEDFROMSA"),": ",o.a.createElement(oe,{style:{fontSize:18}},xr(e.Status))),o.a.createElement(re,null,o.a.createElement(oe,null,"CONFIRMATIONTIME"),": ",ot()(e.CreateDate,"YYYY-MM-DDTHH:mm:ss").format("YYYY-MM-DD HH:mm:ss")),o.a.createElement(re,null,o.a.createElement(oe,null,"SANOTE"),": ",e.Note))}))),o.a.createElement(jt,{style:{textAlign:"center"}},"CONFIRMATIONOFHR"),o.a.createElement(Pt,null,L.hr.map((function(e){return o.a.createElement(R.a,{key:e.CreateDate,style:{padding:4}},o.a.createElement(re,null,o.a.createElement(oe,null,"RESULTSCONFIRMEDFROMHR"),": ",o.a.createElement(oe,{style:{fontSize:18}},br(e.Status))),o.a.createElement(re,null,o.a.createElement(oe,null,"CONFIRMATIONTIME"),": ",ot()(e.CreateDate,"YYYY-MM-DDTHH:mm:ss").format("YYYY-MM-DD HH:mm:ss")),o.a.createElement(re,null,o.a.createElement(oe,null,"HRNODE"),": ",e.Note))})))))),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{disabled:!i||D||null!==m,style:{flex:1},onPress:function(){var e,t;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(w(!0),!p){n.next=27;break}if(!a){n.next=24;break}if(!i){n.next=21;break}return(e=new FormData).append("action","insertconfirmwork"),e.append("creator",v.UserID.toString()),e.append("userwork",a.UserID.toString()),e.append("reasoncode",i),u&&e.append("machinecode",u),e.append("workday",p),e.append("fragment",g),c&&e.append("timein",ot()(c).format("YYYY-MM-DD HH:mm")),l&&e.append("timeout",ot()(l).format("YYYY-MM-DD HH:mm")),e.append("companycode",v.CompanyCode.toString()),n.next=17,pe.a.awrap($n(e));case 17:1===(t=n.sent).status&&t.data&&f({event:lr,confirmWorkid:t.data.ConfirmWorkID,statusSA:t.data.StatusSA,status:t.data.Status,code:t.data.Code,machinecode:t.data.MachineCode}),n.next=22;break;case 21:E&&E({type:A,alert:j.LOG31});case 22:n.next=25;break;case 24:E&&E({type:A,alert:j.LOG30});case 25:n.next=28;break;case 27:E&&E({type:A,alert:j.LOG32});case 28:w(!1);case 29:case"end":return n.stop()}}),null,null,null,Promise)},loading:D},"SAVE"),o.a.createElement(se,{style:{flex:1},disabled:null===m,loading:M.loading,onPress:function(){var e;return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==d&&4!==d){t.next=10;break}return(e=new FormData).append("action","sendtosatoconfirm"),e.append("id",h),t.next=6,pe.a.awrap($n(e));case 6:1===t.sent.status?(f({event:pr,statusSA:2}),E&&E({type:A,alert:j.LOG33})):E&&E({type:A,alert:j.LOG34}),t.next=11;break;case 10:2===d?E&&E({type:A,alert:j.LOG40}):3===d&&T(ae()({},M,{visible:!0}));case 11:case"end":return t.stop()}}),null,null,null,Promise)}},"SEND")),o.a.createElement(Ge,{onDismiss:H,visible:M.visible},o.a.createElement(Er,{close:H,send:function(e,n,a){var r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!h||!m){i.next=15;break}return(r=new FormData).append("action","sendconfirmwork"),r.append("code",m),r.append("sender",v.UserID.toString()),r.append("comment",a),r.append("approver",e),r.append("nodeid",n),r.append("companycode",v.CompanyCode.toString()),i.next=11,pe.a.awrap($n(r));case 11:1===(o=i.sent).status&&""!==o.data?(Y.emit("sendsigndocument",{documentcode:o.data,sender:v.UserName,approver:e,documenttypename:"HRLEAVEABSENCE",documentid:h}),t.goBack()):E&&E({type:A,alert:j.LOG35}),i.next=16;break;case 15:E&&E({type:A,alert:j.LOG36});case 16:case"end":return i.stop()}}),null,null,null,Promise)},approvers:M.list})))}function wr(e){var t=e.next,n=Object(r.useContext)(mr),a=n.reason,i=n.dispatch,c=n.machinecode,l=n.statusSA,u=n.status,p=n.user,f=Object(r.useContext)(Hn.UserContext).user,m=Object(r.useState)({list:[],loading:!1}),d=s()(m,2),h=d[0],y=d[1],g=function(e){(3!==l&&2!==l||2!==u&&3!==u&&5!==u)&&i&&i({event:rr,reason:e})};Object(r.useEffect)((function(){!function(){var e,t,n;pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return y(ae()({},h,{loading:!0})),(e=new FormData).append("action","getattendancemachine"),e.append("companycode",f.CompanyCode.toString()),a.next=6,pe.a.awrap($n(e));case 6:t=a.sent,y(ae()({},h,{loading:!1})),1===t.status&&(n=[],t.data.forEach((function(e){return n.push({key:e.MachineNo+"-"+e.MachineStatus,label:e.MachineNo+"-"+e.MachineStatus})})),y(ae()({},h,{list:n})));case 9:case"end":return a.stop()}}),null,null,null,Promise)}()}),[]),Object(r.useEffect)((function(){p&&a&&D()}),[JSON.stringify(p),a]);var v=Object(r.useState)(0),E=s()(v,2),b=E[0],x=E[1],D=function(){var e,t,n;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=(new Date).getDay(),(t=new FormData).append("action","getcountconfirmwork"),t.append("type",a),t.append("userid",p.UserID.toString()),t.append("datestart",(e<25?ot()().add(-1,"month").format("YYYY-MM-"):ot()().format("YYYY-MM-"))+"25"),r.next=8,pe.a.awrap($n(t));case 8:1===(n=r.sent).status&&x(n.data);case 10:case"end":return r.stop()}}),null,null,null,Promise)};return o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(hr,null),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Sr,{index:"BRING",onPress:g,selectIndex:a,style:{borderTopLeftRadius:18},label:"BRING"}),o.a.createElement(Sr,{index:"DONE",onPress:g,selectIndex:a,label:"DONE"}),o.a.createElement(Sr,{index:"DONEMISSDATA",onPress:g,selectIndex:a,style:{borderTopRightRadius:18},label:"DONEMISSDATA"})),o.a.createElement(re,null,o.a.createElement(oe,null,"INFORMATIONCONFIRMINGTHEMONTH"),": ",ot()().format("YYYY/MM")),o.a.createElement(re,null,o.a.createElement(oe,null,"NUMBEROFVIOLATIONSINTHEMONTH"),": ",o.a.createElement(re,{style:{fontSize:28}},b,"/3")),o.a.createElement(oe,null,"TIMEKEEPERINFORMATION"),h.loading?o.a.createElement(Ct,null):o.a.createElement(De,{onClickDrop:function(e){return i&&i({event:cr,machinecode:e.key})},value:{key:c,label:c},data:h.list})),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return t("WORKDAY")}},"BACK"),o.a.createElement(se,{disabled:!a,style:{flex:1},onPress:function(){t("TIMESCONFIRMWORK")}},"NEXT")))}function Sr(e){var t=e.label,n=e.style,a=e.selectIndex,i=e.onPress,c=e.index,s=Object(r.useContext)(F).state;return o.a.createElement(Z,{style:[{backgroundColor:a===c?s.primary:s.backgroundlight,flex:1,borderRadius:8,alignItems:"center",justifyContent:"center",height:80},n,B({elevation:8})]},o.a.createElement(w.a,{onPress:function(){return i(c)}},o.a.createElement(oe,{style:{flex:1,color:a===c?"#fff":s.text}},t)))}var Cr=function(e){var t=e.next,n=Object(r.useContext)(Hn.UserContext).user,a=Object(r.useContext)(mr),i=a.user,c=a.dispatch,l=a.userconfirmwork,u=a.statusSA,p=Object(r.useContext)(F).state,f=Object(r.useState)(""),m=s()(f,2),d=m[0],h=m[1],y=function(e){var t,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==e&&"undefined"!==typeof e&&1!==u){r.next=2;break}return r.abrupt("return");case 2:return(t=new FormData).append("action","isgetinformationuser"),t.append("identity",e),t.append("companycode",n.CompanyCode.toString()),r.next=8,pe.a.awrap($n(t));case 8:1===(a=r.sent).status&&c&&c({event:ar,user:a.data});case 10:case"end":return r.stop()}}),null,null,null,Promise)};return Object(r.useEffect)((function(){i||y(l||n.UserCodeID)}),[]),o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(wt,{editable:!1,style:{flex:1},icon:{type:"Feather",name:"user"},value:d,onChangeText:function(e){return h(e)},onSubmitEditing:function(e){var t=e.nativeEvent.text;t=t.replace(/q/g,""),y(t)}}),o.a.createElement(Ot,{icon:{type:"Feather",name:"send",color:p.primary},onPress:function(){""!==d&&y(d)}})),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ke,{source:{uri:i?Qn(i.CompanyCode.toString(),i.UrlImage):" "}}),o.a.createElement(R.a,{style:{flex:1,paddingLeft:10}},o.a.createElement(re,{style:{fontWeight:"bold"}},i&&i.UserName),o.a.createElement(re,null,o.a.createElement(oe,null,"EMPLOYEECODE"),": ",i&&i.UserCodeID),o.a.createElement(re,null,o.a.createElement(oe,null,"DEPARTMENT"),": ",i&&i.Department),o.a.createElement(re,null,o.a.createElement(oe,null,"SECTION"),": ",i&&i.Section),o.a.createElement(re,null," ",i&&i.Position)))),o.a.createElement(se,{disabled:!i,onPress:function(){t("WORKDAY")}},"NEXT"))};var kr=Object(r.memo)((function(e){var t=e.next,n=Object(r.useContext)(mr),a=n.user,i=n.workday,c=n.fragment,l=n.dispatch,u=Object(r.useState)(null),p=s()(u,2),f=p[0],m=p[1],d=Object(r.useState)(ot()()),h=s()(d,2),y=h[0],g=h[1];Object(r.useEffect)((function(){i&&m(ot()(i))}),[i]),Object(r.useEffect)((function(){v()}),[]);var v=function(){var e,t;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=new FormData).append("action","getmintime"),e.append("companycode",a.CompanyCode.toString()),e.append("usercode",a.EmployeeID),n.next=6,pe.a.awrap($n(e));case 6:1===(t=n.sent).status&&g(ot()(t.data,"YYYY-MM-DD"));case 8:case"end":return n.stop()}}),null,null,null,Promise)};Object(r.useEffect)((function(){f&&function(e){var t,n,r,o;pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(t=new FormData).append("action","getattendancetime"),t.append("companycode",a.CompanyCode.toString()),t.append("usercode",a.UserCodeID),t.append("startdate",e),t.append("enddate",e),i.next=8,pe.a.awrap($n(t));case 8:n=i.sent,console.log("dataapi"),console.log(n),1===n.status&&(r=n.data[0])&&(o=r.Fragment.split(";"),l({event:sr,workday:r.WorkDay,fragment:r.Fragment}),!r.ScanIn&&l&&l({event:ir,intime:ot()(ot()(r.WorkDay,"YYYY-MM-DD").add(Math.abs(Object(Ha.toNumber)(o[0])),"minute")).toDate()}),!r.ScanOut&&l&&l({event:or,outtime:ot()(ot()(r.WorkDay,"YYYY-MM-DD").add(Math.abs(Object(Ha.toNumber)(o[o.length-1])),"minute")).toDate()}),E());case 12:case"end":return i.stop()}}),null,null,null,Promise)}(f.format("YYYY-MM-DD"))}),[f]);var E=function(){t("REASONFORCONFIRMATION")};return o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(re,null,"H\xe3y cho ch\xfang t\xf4i bi\u1ebft ng\xe0y \u0111i l\xe0m c\u1ee7a b\u1ea1n."),o.a.createElement(Ft,{minDate:y,startDate:f,onSelect:function(e){return m(e)}})),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return t("USERCONFIRMWORKINFORMATION")}},"BACK"),o.a.createElement(se,{disabled:!i&&!c,style:{flex:1},onPress:E},"NEXT")))}));function Or(e){var t=e.navigation,n=e.route,a=Object(r.useContext)(mr).dispatch,i=Object(r.useContext)(Hn.UserContext).user,c=Object(r.useState)("USERCONFIRMWORKINFORMATION"),l=s()(c,2),u=l[0],p=l[1];Object(r.useEffect)((function(){var e=n.params,t=e.RegisterData,r=e.ReadyData;console.log(t),t&&f(t),r&&(a({event:ur,userconfirmwork:r.UserCodeID,reason:r.ReasonCode,machinecode:r.MachineCode,intime:r.TimeIn?ot()(r.TimeIn,"YYYY-MM-DDTHH:mm").toDate():null,outtime:r.TimeOut?ot()(r.TimeOut,"YYYY-MM-DDTHH:mm").toDate():null,confirmWorkid:r.ConfirmWorkID,code:r.Code,statusSA:r.StatusSA,status:r.Status,workday:r.Workday,fragment:r.Fragment}),p("CONFIRMANDCOMPLETE"))}),[]);var f=function(e){var t,n,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(t=new FormData).append("action","getattendancetime"),t.append("companycode",i.CompanyCode.toString()),t.append("usercode",i.EmployeeID),t.append("startdate",e.WorkDay),t.append("enddate",e.WorkDay),o.next=8,pe.a.awrap($n(t));case 8:1===(n=o.sent).status&&(r=n.data,r.findIndex((function(t){return t.WorkDay===e.WorkDay}))>-1&&a({event:sr,workday:e.WorkDay,fragment:e.Fragment}));case 10:case"end":return o.stop()}}),null,null,null,Promise)};switch(u){case"USERCONFIRMWORKINFORMATION":return o.a.createElement(Cr,{next:function(e){return p(e)}});case"WORKDAY":return o.a.createElement(kr,{next:function(e){return p(e)}});case"REASONFORCONFIRMATION":return o.a.createElement(wr,{next:function(e){return p(e)}});case"TIMESCONFIRMWORK":return o.a.createElement(yr,{next:function(e){return p(e)}});case"CONFIRMANDCOMPLETE":return o.a.createElement(Dr,{navigation:t,next:function(e){return p(e)}});default:return null}}var Rr=function(e){var t=e.navigation,n=e.route,a=Object(r.useContext)(F).state;return o.a.createElement(dr,null,o.a.createElement(R.a,{style:{flex:1,backgroundColor:a.backgroundlight}},o.a.createElement(Or,{navigation:t,route:n})))},Ir=n(136),Pr=n(800),Mr=n(88),Tr=n(78);function Yr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ar=function(e){u()(e);var t=Object(ca.useNavigation)(),n=Object(r.useState)([]),a=s()(n,2),i=a[0],c=a[1],l=Object(r.useContext)(Hn.UserContext).user;return Object(r.useEffect)((function(){!function(){var e,t;pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=new FormData).append("action","getnewevent"),e.append("companycode",l.CompanyCode.toString()),n.next=5,pe.a.awrap($n(e));case 5:1===(t=n.sent).status&&c(t.data);case 7:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]),o.a.createElement(R.a,{style:{marginTop:12}},o.a.createElement(jt,null,"NEWS"),o.a.createElement(fe.a,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,horizontal:!0,keyExtractor:function(e){return e.PostID},data:i,renderItem:function(e){var n=e.item;return o.a.createElement(w.a,{onPress:function(){t.navigate("DetailPortal",{postid:n.PostID})},style:{marginHorizontal:2,borderRadius:6}},o.a.createElement(Ue.a,{source:{uri:ea("fileportalavartar",n.ImageAvatar)},style:{width:200,borderWidth:I.a.hairlineWidth,borderRadius:6,height:130}}),o.a.createElement(R.a,{style:jr({},I.a.absoluteFillObject,{backgroundColor:"rgba(0, 0, 0, 0.46)",borderRadius:6,justifyContent:"flex-end",padding:6})},o.a.createElement(re,{numberOfLines:2,style:{fontWeight:"bold",color:"white"}},n.PostName),o.a.createElement(re,{style:{color:"white"},numberOfLines:2},n.Sumary)))}}))},Nr=[{key:"a",label:"SIGNDOCUMENT",action:"SignDocumentHome",icon:{type:"Entypo",name:"documents",color:"#1abc9c"}},{key:"b",label:"ABSENCE",action:"LeaveList",icon:{type:"MaterialCommunityIcons",name:"file-document-outline",color:"#e67e22"}},{key:"c",label:"BOOKINGMEETING",action:"MeetingBooking",icon:{type:"AntDesign",name:"calendar",color:"#9b59b6"}},{key:"e3",label:"LABORCONTRACT",action:"LaborContract",icon:{type:"MaterialCommunityIcons",name:"newspaper",color:"#F7574C"}},{key:"e34",label:"PAYROLL",action:"PayRollPermission",icon:{type:"MaterialCommunityIcons",name:"paypal",color:"rgba(75, 192, 192, 1)"}},{key:"e",label:"MESSAGE",action:"Conversation",icon:{type:"FontAwesome",name:"wechat",color:"#27ae60"}},{key:"a",label:"CarBooking",action:"CarBooking",icon:{type:"Ionicons",name:"ios-car",color:"#079992"}},{key:"a2a",label:"Call",action:"Call",icon:{type:"Feather",name:"phone",color:"#ff4757"}},{key:"a32a2",label:"CONFIRMWORKINGDAY",action:"ConfirmWorkList",icon:{type:"AntDesign",name:"carryout",color:"#fa983a"}},{key:"a322a2",label:"USERGUIDE",action:"UserGuide",icon:{type:"AntDesign",name:"questioncircleo",color:"#C4E538"}},{key:"a322a22",label:"BI",action:"BI",icon:{type:"AntDesign",name:"linechart",color:"#6c5ce7"}}];function _r(e){var t=e.mainfunctions,n=e.ListHeaderComponent,a=e.ListFooterComponent,i=e.onScroll,c=Object(r.useState)([]),l=s()(c,2),u=l[0],p=l[1];return Object(r.useEffect)((function(){var e=Nr.filter((function(e){var n=e.action;return t.some((function(e){var t=e.Function;return n.trim().toUpperCase()===t.trim().toUpperCase()}))}));console.log(e),p(e)}),[JSON.stringify(t)]),o.a.createElement(fe.a,{onScroll:i,numColumns:3,ListHeaderComponent:n,ListFooterComponent:a,data:u,contentContainerStyle:{paddingVertical:10,paddingHorizontal:2},keyExtractor:function(e,t){return e.key+t},renderItem:function(e){var t=e.item;return o.a.createElement(Lr,{data:t})}})}var Lr=function(e){var t=Object(ca.useNavigation)();return o.a.createElement(Z,{onPress:function(){return null!==e.data.action?t.navigate(e.data.action):null},style:{flex:1,alignItems:"center",justifyContent:"center",marginHorizontal:2,marginVertical:2,height:100}},o.a.createElement(Ne,{type:e.data.icon.type,size:32,name:e.data.icon.name,color:e.data.icon.color}),o.a.createElement(oe,{style:{textAlign:"center"}},e.data.label),null===e.data.action&&o.a.createElement(R.a,{style:{position:"absolute",top:0,left:0}},o.a.createElement(Ue.a,{resizeMode:"contain",source:n(717),style:{width:80,height:40}})))},Fr=function(e){var t=e.data,n=Object(ca.useNavigation)();return o.a.createElement(w.a,{onPress:function(){return n.navigate(t.action)},style:{marginHorizontal:2,alignItems:"center",justifyContent:"center"}},o.a.createElement($e,{size:40},o.a.createElement(Ne,{type:t.icon.type,size:28,name:t.icon.name,color:t.icon.color})),o.a.createElement(oe,{style:{width:50,textAlign:"center",fontSize:10},numberOfLines:2},t.label))},Ur=[{key:"a44",label:"REGISTERABSENCE",action:"LeaveFormRegister",icon:{type:"MaterialCommunityIcons",name:"pin-off",color:"#ff7f50"}},{key:"c",label:"TIMELINEWORKING",action:"TimelineWorking",icon:{type:"MaterialCommunityIcons",name:"timeline-text-outline",color:"#70a1ff"}}];function Hr(e){var t=e.quickfunctions,n=Object(r.useState)({data:[]}),a=s()(n,2),i=a[0],c=a[1];return Object(r.useEffect)((function(){var e=Ur.filter((function(e){var n=e.action;return t.some((function(e){var t=e.Function;return n.trim().toUpperCase()===t.trim().toUpperCase()}))}));c(ae()({},i,{data:e}))}),[t]),o.a.createElement(R.a,{style:{marginVertical:4}},o.a.createElement(fe.a,{horizontal:!0,data:i.data,keyExtractor:function(e,t){return e.key+t},renderItem:function(e){var t=e.item;return o.a.createElement(Fr,{data:t})}}))}function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vr=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).select=function(t){return e.props.navigation.navigate(t.RouteID,JSON.parse(t.Params))},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(Z,{style:Wr({flex:1,borderRadius:12,padding:10,marginTop:20},B({elevation:20}))},o.a.createElement(R.a,{style:{marginTop:-10}},o.a.createElement(w.a,{style:{padding:4,alignItems:"center",minHeight:40},onPress:this.props.close},o.a.createElement(Ne,{size:32,type:"Feather",name:"chevron-down"}))),o.a.createElement(fe.a,{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,renderItem:function(t){var n=t.item,a=t.index;return o.a.createElement(Br,{index:a,data:n,select:e.select})},data:this.props.data}))}}]),n}(o.a.PureComponent),Br=function(e){return o.a.createElement(Xe,{onPress:function(){return e.select(e.data)},style:{flexDirection:"row",marginBottom:I.a.hairlineWidth}},o.a.createElement(Ze,null,e.data.RouteID),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(re,{style:{fontWeight:"400"}},e.data.Title),o.a.createElement(re,{style:{fontSize:10}},e.data.Content),o.a.createElement(re,{style:{fontSize:8,textAlign:"right"}},ot()(e.data.CreatedDate,"YYYY-MM-DDTHH:mm:ss").format("dddd, MMMM Do YYYY, h:mm a")),o.a.createElement(qe,null)))},Gr=Vr;function Kr(e){var t=e.onPress,n=e.isHave,a=Object(r.useContext)(F).state;return o.a.createElement(w.a,{onPress:t,style:{margin:2,paddingHorizontal:2},activeOpacity:0},o.a.createElement(R.a,{style:{marginRight:6}},o.a.createElement(Ne,{type:"AntDesign",name:"bells",size:24})),n&&o.a.createElement(R.a,{style:{position:"absolute",top:1,left:15,height:10,borderRadius:20,width:10,justifyContent:"center",backgroundColor:a.background,alignItems:"center",padding:2}},o.a.createElement(R.a,{style:{height:6,borderRadius:6,width:6,backgroundColor:"red"}})))}var qr=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(F.Consumer,null,(function(t){t.state;return o.a.createElement(w.a,{onPress:e.props.onPress,style:{margin:2,paddingRight:2},activeOpacity:0},o.a.createElement(R.a,{style:{marginRight:6}},o.a.createElement(Ne,{type:"AntDesign",name:"user",size:24})))}))}}]),n}(o.a.Component);var Jr=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visibleNotification:!1,appState:Ir.a.currentState,checknotification:"",lastdatenotification:"",notifications:[],quickfunctions:[],mainfunctions:[],valuesearch:""},e._addTokenNotification=function(){var t,n,a,r,o,i,c,s;return pe.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,pe.a.awrap(ut());case 2:if(t=l.sent,n=t.deviceId,a=t.deviceName,r=t.isDevice,o=t.sdkVersion,i=t.platform,c="emulator",!r){l.next=19;break}return l.prev=10,l.next=13,pe.a.awrap(zn.a.getExpoPushTokenAsync());case 13:c=l.sent,l.next=19;break;case 16:l.prev=16,l.t0=l.catch(10),c="token";case 19:c&&((s=new FormData).append("action","addtokennotification"),s.append("token",c),s.append("userid",e.login.UserID.toString()),s.append("devicename",a),s.append("deviceid",n),s.append("platform",i),s.append("sdkversion",o),s.append("appname","ITSmart"),$n(s));case 20:case"end":return l.stop()}}),null,null,[[10,16]],Promise)},e._getmenu=function(){var t,n,a,r,o,i,c;return pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,pe.a.awrap(ut());case 2:return t=s.sent,n=t.deviceName,(a=new FormData).append("action","getmenu"),a.append("position",e.login.Position),a.append("devicename",n),a.append("groupid",""+("undefined"===typeof e.login.UserGroupID?"":e.login.UserGroupID)),a.append("userid",e.login.UserID.toString()),a.append("type","Mobile"),a.append("companycode",e.login.CompanyCode.toString()),s.next=14,pe.a.awrap($n(a));case 14:1===(r=s.sent).status?(o=r.data,o.findIndex((function(e){return"FEATURE"===e.TypeFunction&&"Notsavelogin"===e.Function}))>-1&&La("signin"),e.dispatchUser&&e.dispatchUser({type:Hn.AC_user.setpermission,permission:o}),i=o.filter((function(e){return"QUICKFUNCTION"===e.TypeFunction})),c=o.filter((function(e){return"MAINFUNCTION"===e.TypeFunction})),e.setState({quickfunctions:i,mainfunctions:c})):na.a.alert("Get permission.");case 16:case"end":return s.stop()}}),null,null,null,Promise)},e.loadupdate=function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,Tr.a.checkForUpdateAsync().then((function(t){t.isAvailable&&e.props.navigation.navigate("Update")})),t.abrupt("return");case 5:return t.prev=5,t.t0=t.catch(0),t.abrupt("return");case 8:case"end":return t.stop()}}),null,null,[[0,5]],Promise)},e._checkoutwork=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","checkoutwork"),t.append("usercode",e.login.EmployeeID),t.append("companycode",e.login.CompanyCode.toString()),a.next=6,pe.a.awrap($n(t));case 6:if(1!==(n=a.sent).status||!n.data){a.next=12;break}return a.next=10,pe.a.awrap(La("signin"));case 10:a.sent&&Tr.a.reloadFromCache();case 12:case"end":return a.stop()}}),null,null,null,Promise)},e.checkpass=function(){console.log(e.login),(!e.login.UserExpired||ot()(e.login.UserExpired,"YYYY-MM-DDTHH:mm:SS").format("YYYYMMDDHHmm")<ot()().format("YYYYMMDDHHmm"))&&setTimeout((function(){e.props.navigation.navigate("ChangePassword")}),1200),""===e.login.UserPass&&setTimeout((function(){e.props.navigation.navigate("ChangePassword")}),1200)},e._loadend=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.login){a.next=13;break}return Promise.all([e._getnotification(),e._addTokenNotification(),e._getmenu()]),a.next=4,pe.a.awrap(ut());case 4:t=a.sent,n=t.deviceId,t.deviceName,zn.a.addListener(e._handleNotification),e.io.emit("online",{userid:e.login.UserID,usercode:e.login.UserCodeID,deviceId:n}),Ir.a.addEventListener("change",e._handleAppStateChange),e.io.on("onrequestlogin",(function(t){e.props.navigation.navigate("RequestLogin",{data:t})})),e.io.on("sendsigndocument",(function(t){na.a.alert("Sign document","You have received the "+("re"===t.type?"reject":"approval")+" for approval\nDocument Type: "+t.documenttypename+"\nDocument Code: "+t.documentcode+"\nFrom: "+t.sender,[{text:"Detail",onPress:function(){e.props.navigation.navigate("DocumentDetail",{documentcode:t.documentcode,documenttypename:t.documenttypename,documentid:t.documentid,type:t.type})}}],{cancelable:!1})})),e.io.on("sendsigndocumentsubtitude",(function(t){na.a.alert("Sign document","You are offered to replace work for leave\nDocument Type: "+t.documenttypename+"\nDocument Code: "+t.documentcode+"\n Vacation : "+t.sender,[{text:"Detail",onPress:function(){e.props.navigation.navigate("DocumentDetail",{documentcode:t.documentcode,documenttypename:t.documenttypename,documentid:t.documentid})}}],{cancelable:!1})}));case 13:case"end":return a.stop()}}),null,null,null,Promise)},e._loadapp=function(){var e,t,n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e="36.0.0",r.next=3,pe.a.awrap(ut());case 3:t=r.sent,n=t.sdkVersion,e!==n&&("ios"===de.a.OS&&(a="itms-services://?action=download-manifest&url=https://portal.feavn.com.vn:2222/files/fea/itsmart/plistFile.plist",Ca.a.canOpenURL(a).then((function(e){if(e)return Ca.a.openURL(a);console.log("Can't handle url: "+a)})).catch((function(e){return console.error("An error occurred",e)}))),"android"===de.a.OS&&("https://portal.feavn.com.vn:2222/files/fea/itsmart/android/ITSmart-Offical.apk",Pr.b("https://portal.feavn.com.vn:2222/files/fea/itsmart/android/ITSmart-Offical.apk",Pr.a+"ITSmart-Offical.apk").then((function(e){var t=e.uri;Pr.c(t).then((function(e){var t=e;Mr.b("android.intent.action.VIEW",{data:t.uri,flags:1})}))})).catch((function(e){console.error(e)}))));case 6:case"end":return r.stop()}}),null,null,null,Promise)},e._getnotification=function(){var t,n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.login){r.next=13;break}return(t=new FormData).append("action","getnotification"),t.append("userid",e.login.UserID.toString()),r.next=6,pe.a.awrap($n(t));case 6:if(1!==(n=r.sent).status){r.next=13;break}return r.next=10,pe.a.awrap(_a("checknotification"));case 10:a=r.sent,e.setState({notifications:n.data}),n.data.length>0&&e.setState({lastdatenotification:n.data[0].CreatedDate,checknotification:a});case 13:case"end":return r.stop()}}),null,null,null,Promise)},e._handleNotification=function(t){"selected"===t.origin&&t.data.route&&e.props.navigation.navigate(t.data.route,t.data.params)},e._handleAppStateChange=function(t){e.login&&(e.state.appState.match(/inactive|background/)&&"active"===t?e.io.emit("online",{userid:e.login.UserID,usercode:e.login.UserCodeID}):e.io.emit("offline",{userid:e.login.UserID,usercode:e.login.UserCodeID})),e.setState({appState:t})},e._gotoProfile=function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.props.navigation.navigate("Profile"));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e._hide=function(){return e.setState({visibleNotification:!1})},e.onChangeText=function(t){return e.setState({valuesearch:t})},e._onScrollFunction=function(t){return e.setState({datasearch:[]})},e.notionpress=function(){Na(e.state.lastdatenotification,"checknotification"),e.setState({visibleNotification:!0,checknotification:e.state.lastdatenotification}),"ios"===de.a.OS&&zn.a.setBadgeNumberAsync(0)},e}return y()(n,[{key:"componentWillUnmount",value:function(){Ir.a.removeEventListener("change",this._handleAppStateChange)}},{key:"componentDidMount",value:function(){Promise.all([this.loadupdate(),this._loadapp(),this._loadend(),this._checkoutwork(),Na(""+this.login.CompanyCode,"companycode"),this.checkpass()])}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user,a=t.dispatch;return e.login=n,e.dispatchUser=a,o.a.createElement(Hn.SocketContext.Consumer,null,(function(t){var n=t.state.socket;return e.io=n,o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(_r,{onScroll:e._onScrollFunction,ListHeaderComponent:o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:0}},o.a.createElement(wt,{style:{height:32,flex:1},icon:{type:"Feather",name:"search"},onChangeText:e.onChangeText}),o.a.createElement(Kr,{isHave:e.state.checknotification!==e.state.lastdatenotification,onPress:e.notionpress}),o.a.createElement(qr,{onPress:e._gotoProfile})),o.a.createElement(Hr,{quickfunctions:e.state.quickfunctions}),o.a.createElement(Ar,null)),mainfunctions:e.state.mainfunctions,ListFooterComponent:o.a.createElement(R.a,null,o.a.createElement(jt,null,"cooming soon"),o.a.createElement(_r,{mainfunctions:[{key:"233333",Function:"CarBooking",TypeFunction:"MAINFUNCTION"},{key:"233333s",Function:"Call",TypeFunction:"MAINFUNCTION"}]}))}),o.a.createElement(Ge,{onDismiss:e._hide,visible:e.state.visibleNotification},o.a.createElement(Gr,{navigation:e.props.navigation,close:e._hide,data:e.state.notifications})))}))}))}}]),n}(o.a.Component);var Xr=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this,t=0===this.props.index?"#ff8a65":"#b2bec3";return o.a.createElement(F.Consumer,null,(function(n){n.state;return o.a.createElement(Z,{key:e.props.index,style:{padding:0}},o.a.createElement(R.a,{style:{backgroundColor:t,justifyContent:"center",padding:10,marginVertical:0,borderTopLeftRadius:4,borderTopRightRadius:4}},o.a.createElement(oe,{style:{fontSize:10,color:"#fff"}},"TYPELABORCONTRACT"),o.a.createElement(re,{style:{fontWeight:"500",fontSize:14,color:"#fff",textAlign:"center"}},e.props.dataLabor.ContractType)),o.a.createElement(R.a,{style:{flexDirection:"row",marginBottom:10}},o.a.createElement(R.a,{style:{justifyContent:"center",alignItems:"center",paddingHorizontal:4}},o.a.createElement(Se.a,{name:"md-medal",size:40,color:t}),o.a.createElement(re,{style:{fontWeight:"500",fontSize:16,color:t,textAlign:"center"}},e.props.index+1)),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(R.a,{style:{justifyContent:"flex-end",alignItems:"flex-end"}},o.a.createElement(re,{style:{margin:5,fontWeight:"500"}},e.props.dataLabor.EmployeeName," ",o.a.createElement(oe,{style:{fontSize:14,color:"#757575"}},"EMPNAME")),o.a.createElement(re,{style:{marginHorizontal:5,marginBottom:10,fontWeight:"500"}},e.props.dataLabor.ContractID," ",o.a.createElement(oe,{style:{fontSize:14,color:"#757575"}},"CODELABORCONTRACT"))),o.a.createElement(R.a,{style:{flexDirection:"row",marginTop:20}},o.a.createElement(R.a,{style:{flexDirection:"column",alignItems:"center",flex:1}},o.a.createElement(Ne,{type:"MaterialCommunityIcons",name:"ray-start-arrow",color:"rgba(255, 159, 64, 1)",size:20}),o.a.createElement(re,null,ot()(e.props.dataLabor.ContractSatrt).format("YYYY-MM-DD")),o.a.createElement(oe,{style:{fontSize:10,color:"rgba(255, 159, 64, 1)"}},"SIGNLABORCONTRACT")),o.a.createElement(R.a,{style:{flexDirection:"column",alignItems:"center",flex:1}},o.a.createElement(Ne,{type:"MaterialCommunityIcons",name:"ray-start-end",color:"rgba(255, 159, 64, 1)",size:20}),o.a.createElement(re,null,ot()(e.props.dataLabor.ContractEnd).format("YYYY-MM-DD")),o.a.createElement(oe,{style:{fontSize:10,color:"rgba(255, 159, 64, 1)"}},"EXPIREDLABORCONTRACT"))))))}))}}]),n}(o.a.Component);Xr.defaultProps={dataLabor:[],index:0};var Qr=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isFetching:!1,dataLaborContract:[]},e._fecthDataLabor=function(){e.setState({isFetching:!0},(function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","getlaborcontract"),t.append("companycode",e.login.CompanyCode.toString()),t.append("usercode",e.login.UserCodeID),a.next=6,pe.a.awrap($n(t));case 6:1===(n=a.sent).status&&e.setState({isFetching:!1,dataLaborContract:n.data});case 8:case"end":return a.stop()}}),null,null,null,Promise)}))},e._keyExtractor=function(e,t){return e+t},e._renderItem=function(e){var t=e.item,n=e.index;return o.a.createElement(Xr,{key:n,index:n,dataLabor:t})},e}return y()(n,[{key:"componentDidMount",value:function(){this._fecthDataLabor()}},{key:"render",value:function(){var e=this,t=this.state,n=t.isFetching,a=t.dataLaborContract;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var r=t.user;return e.login=r,o.a.createElement(Le,null,n&&o.a.createElement(Ct,null),o.a.createElement(fe.a,{data:a,keyExtractor:e._keyExtractor,renderItem:e._renderItem,showsVerticalScrollIndicator:!1}))}))}}]),n}(o.a.Component);function Zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zr(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var eo="leaveapplication/setuserleave",to="leaveapplication/setabsencetype",no="leaveapplication/settime",ao="leaveapplication/setsubstitute",ro="leaveapplication/setdescription",oo="leaveapplication/pushleaves",io="leaveapplication/setlaid",co="leaveapplication/setfiles",so={To:null,From:null,Total:0,workday:[],Family:0,Remain:0};function lo(){return{userleave:null,substitute:null,absence:{TypeAbsenceCode:"",Max:null,Min:null},description:"",time:so,LAID:"",files:[],images:[]}}var uo=function(e,t){switch(t.type){case eo:return $r({},e,{userleave:t.userleave});case ao:return $r({},e,{substitute:t.substitute});case to:return $r({},e,{absence:t.absence});case no:return $r({},e,{time:t.time});case ro:return $r({},e,{description:t.description});case io:return $r({},e,{LAID:t.LAID});case co:return ae()({},e,{files:t.files,images:t.images});case oo:return ae()({},e,{LAID:t.LAID,substitute:null,description:"",time:so,files:[],images:[],absence:{TypeAbsenceCode:"",Max:null,Min:null}});default:throw new Error}},po=o.a.createContext(lo());function fo(e){var t=e.children,n=Object(r.useReducer)(uo,lo()),a=s()(n,2),i=a[0],c=a[1];return o.a.createElement(po.Provider,{value:$r({},i,{dispatch:c})},t)}var mo=function(e,t,n){var a=JSON.parse(e);a.push(""+n),a.push(""+t);var r=(a=(a=a.filter((function(e,t,n){return n.indexOf(e)===t}))).sort((function(e,t){return Math.abs(parseInt(e,0))-Math.abs(parseInt(t,0))}))).findIndex((function(e){return e===t}));r>-1&&(a=parseInt(a[r+1],0)>0?a.slice(r+1):a.slice(r));var o=a.findIndex((function(e){return e===n}));if(o>0&&(a=parseInt(a[o-1],0)<0?a.slice(0,o):a.slice(0,o+1)),a.length<=1)return 0;var i=0;return a.forEach((function(e){i+=parseInt(e,0)})),Math.abs(i)},ho=function(e,t){var n,a=new Date(e.format("YYYY-MM-DD")),r=(n=t,{h:Math.floor(n/60),m:15*Math.floor(Math.floor(n%60)/15)});return a.setHours(r.h),a.setMinutes(r.m),a},yo=function(e,t){var n=e<0?"-":"";e=Math.abs(e);var a=Math.floor(e/8);e-=8*a;var r=Math.floor(e),o=(60*(e-=r)).toFixed(0);return""+n+a+" "+t.d+" "+r+" "+t.h+" "+o+" "+t.m},go=function(e,t){var n=e,a=Math.floor(n/480);n-=480*a;var r=Math.floor(n/60);return n-=60*r,n=Math.floor(n),999===a?t.nolimit:a+" "+t.d+" "+r+" "+t.h+" "+n+" "+t.m},vo=function(e){return o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end"}},o.a.createElement(Ut,{style:{marginBottom:2}},e.label),o.a.createElement(re,{style:{marginLeft:2}},e.value))};var Eo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){return o.a.createElement(po.Consumer,null,(function(e){var t=e.userleave,n=e.absence;return o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ke,{size:36,source:{uri:t?Qn(t.CompanyCode.toString(),t.UrlImage):" "}}),o.a.createElement(R.a,{style:{paddingHorizontal:12}},o.a.createElement(re,{style:{fontWeight:"bold"}},t&&t.UserName," - ",t&&t.UserCodeID),o.a.createElement(re,null,o.a.createElement(oe,null,"TEAM"),": ",t&&t.Team),o.a.createElement(oe,{style:{fontWeight:"bold"}},n.TypeAbsenceCode)))}))}}]),n}(o.a.Component);var bo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isOk:!1},e.next=function(){return e.props.goView("Note")},e._calmaxmin=function(){var t="MTCN"===e.absence.TypeAbsenceCode?e.absence.Max*e.time.workday.length:e.absence.Max;return{min:"MTCN"===e.absence.TypeAbsenceCode?e.absence.Min*e.time.workday.length:e.absence.Min,max:t}},e.yes=function(){if(e.userleave.EmployeeID.toUpperCase().includes("NN")&&["PN","TN"].includes(e.absence.TypeAbsenceCode))e.yesnn();else{var t=e._calmaxmin(),n=t.max,a=t.min,r=e.time.workday;if(r.forEach((function(t){t.Total<e.absence.Min&&(t.Vacation="KL")})),"MTCN"===e.absence.TypeAbsenceCode)r.forEach((function(t){t.Total===e.absence.Min&&t.Total===e.absence.Max||(t.Vacation="KL")}));else if(e.time.Total<a||"PN"===e.absence.TypeAbsenceCode&&n<a)r.forEach((function(e){return e.Vacation="KL"}));else if(e.time.Total>n){for(var o=0,i=[],c=[],s=[],l=0;l<r.length;l++){var u=r[l];"KL"!==u.Vacation?u.Total+o<=n&&u.Total+o>=a?(i.push(u),o+=u.Total):n-o<a||u.Total<a?(u.Vacation="KL",i.push(u)):c.push(u):i.push(u)}if(c.forEach((function(e){return e.Vacation="KL"})),o<n&&c.length>0){var p=Math.floor(n-o),f=ae()({},c[0]),m=ae()({},c[0]);c.splice(0,1),f.end="-"+Math.floor(Math.abs(Object(Ha.toInteger)(f.start))+p);for(var d=0;d<f.Fragment.length-1;d++){var h=f.Fragment[d],y=h.substring(0,1),g=h.substring(1),v=f.Fragment[d+1],E=v.substring(0,1),b=v.substring(1);"-"===y&&"+"===E&&Math.floor(Math.abs(Object(Ha.toInteger)(f.end)))>Object(Ha.toInteger)(b)&&(f.end="-"+Math.floor(Math.abs(Object(Ha.toInteger)(f.end))+(Object(Ha.toInteger)(b)-Object(Ha.toInteger)(g))))}f.Total=mo(JSON.stringify(f.Fragment),f.start,f.end),m.start="+"+Math.abs(parseInt(f.end,0)),m.Total=mo(JSON.stringify(m.Fragment),m.start,m.end),f.WorkDayEnd=ot()(f.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(f.end,0)),"minutes").format("YYYY-MM-DD HH:mm"),f.WorkDayStart=ot()(f.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(f.start,0)),"minutes").format("YYYY-MM-DD HH:mm"),f.Vacation=e.absence.TypeAbsenceCode,m.WorkDayEnd=ot()(m.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(m.end,0)),"minutes").format("YYYY-MM-DD HH:mm"),m.WorkDayStart=ot()(m.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(m.start,0)),"minutes").format("YYYY-MM-DD HH:mm"),s=[f,m]}r=(r=(r=i).concat(s)).concat(c)}e.time.workday=r,e.dispatch&&e.dispatch({type:no,time:e.time}),e.setState({isOk:!0})}},e.yesnn=function(){var t=e.time,n=t.workday,a=t.Remain;n.forEach((function(e){return e.Vacation="PN"}));for(var r=0,o=[],i=[],c=[],s=0;s<n.length;s++){var l=n[s];l.Total+r<=a?(o.push(l),r+=l.Total):(l.Vacation="TN",i.push(l))}if(r<a&&i.length>0){var u=Math.floor(a-r),p=ae()({},i[0]),f=ae()({},i[0]);i.splice(0,1),p.end="-"+Math.floor(Math.abs(Object(Ha.toInteger)(p.start))+u);for(var m=0;m<p.Fragment.length-1;m++){var d=p.Fragment[m],h=d.substring(0,1),y=d.substring(1),g=p.Fragment[m+1],v=g.substring(0,1),E=g.substring(1);"-"===h&&"+"===v&&Math.floor(Math.abs(Object(Ha.toInteger)(p.end)))>Object(Ha.toInteger)(E)&&(p.end="-"+Math.floor(Math.abs(Object(Ha.toInteger)(p.end))+(Object(Ha.toInteger)(E)-Object(Ha.toInteger)(y))))}p.Total=mo(JSON.stringify(p.Fragment),p.start,p.end),f.start="+"+Math.abs(parseInt(p.end,0)),f.Total=mo(JSON.stringify(f.Fragment),f.start,f.end),p.WorkDayEnd=ot()(p.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(p.end,0)),"minutes").format("YYYY-MM-DD HH:mm"),p.WorkDayStart=ot()(p.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(p.start,0)),"minutes").format("YYYY-MM-DD HH:mm"),p.Vacation="PN",f.WorkDayEnd=ot()(f.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(f.end,0)),"minutes").format("YYYY-MM-DD HH:mm"),f.WorkDayStart=ot()(f.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(f.start,0)),"minutes").format("YYYY-MM-DD HH:mm"),c=[p,f]}n=(n=(n=o).concat(c)).concat(i),e.time.workday=n,e.dispatch&&e.dispatch({type:no,time:e.time}),e.setState({isOk:!0})},e}return y()(n,[{key:"componentDidMount",value:function(){this.yes()}},{key:"render",value:function(){var e=this;return o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return o.a.createElement(po.Consumer,null,(function(t){var a=t.absence,r=t.time,i=t.userleave,c=t.dispatch,s=r.workday.length;return e.dispatch=c,e.absence=a,e.time=r,e.userleave=i,o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(Z,null,o.a.createElement(Eo,null),o.a.createElement(jt,null,a.TypeAbsenceCode),o.a.createElement(vo,{label:"MINIMUMREGISTRATION",value:go("MTCN"===a.TypeAbsenceCode?a.Min*s:a.Min,{d:n.DD,h:n.HH,m:n.MM,nolimit:n.NOLIMIT})}),o.a.createElement(vo,{label:"MAXIMUMREGISTRATION",value:go("MTCN"===a.TypeAbsenceCode?a.Max*s:a.Max,{d:n.DD,h:n.HH,m:n.MM,nolimit:n.NOLIMIT})})),o.a.createElement(jt,null,"INFOR12"),!e.state.isOk&&o.a.createElement(R.a,{style:{alignItems:"center",marginBottom:20}},o.a.createElement(se,{onPress:e.yes},"OK")),o.a.createElement(jt,null,"DETAILSOFEACHDAYAREABSENT"),o.a.createElement(Rt.Row,null,o.a.createElement(Rt.CellTitle,null,"WORKDAY"),o.a.createElement(Rt.CellTitle,null,"START"),o.a.createElement(Rt.CellTitle,null,"END"),o.a.createElement(Rt.CellTitle,null,"TOTALMINUTE"),o.a.createElement(Rt.CellTitle,null,"ABSENCETYPE")),o.a.createElement(He.a,null,r.workday.map((function(e,t){return o.a.createElement(Rt.Row,{key:t},o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(Rt.CellText,null,e.WorkDay),o.a.createElement(Rt.CellText,{style:{fontSize:10}},e.Show)),o.a.createElement(Rt.CellText,null,e.WorkDayStart),o.a.createElement(Rt.CellText,null,e.WorkDayEnd),o.a.createElement(Rt.CellText,null,e.Total),o.a.createElement(oe,{style:{flex:1}},e.Vacation))}))),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return e.props.goView("TimeVacation")}},"BACK"),o.a.createElement(se,{disabled:!e.state.isOk||0===s,style:{flex:1},onPress:e.next},"NEXT")))}))}))}}]),n}(o.a.Component);var xo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={valueusercode:""},e.onSubmitEditing=function(t){var n=t.nativeEvent.text;n=n.replace(/q/g,""),e._loadinfor(n)},e._loadinfor=function(t){var n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(""!==t&&"undefined"!==typeof t){r.next=2;break}return r.abrupt("return");case 2:return(n=new FormData).append("action","isgetinformationuser"),n.append("identity",t),n.append("companycode",e.login.CompanyCode.toString()),r.next=8,pe.a.awrap($n(n));case 8:1===(a=r.sent).status&&e.dispatch&&e.dispatch({type:eo,userleave:a.data});case 10:case"end":return r.stop()}}),null,null,null,Promise)},e.submituser=function(){""!==e.state.valueusercode&&e._loadinfor(e.state.valueusercode)},e.onChangeText=function(t){return e.setState({valueusercode:t})},e}return y()(n,[{key:"componentDidMount",value:function(){this.userleave||this._loadinfor(this.login.UserCodeID)}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(po.Consumer,null,(function(t){var n=t.userleave,a=t.dispatch;return e.dispatch=a,e.userleave=n,o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(Z,null,o.a.createElement(jt,null,"INFORMATIONOFABSENTEE"),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(wt,{style:{flex:1},icon:{type:"Feather",name:"user"},value:e.state.valueusercode,onChangeText:e.onChangeText,onSubmitEditing:e.onSubmitEditing}),o.a.createElement(Ot,{icon:{type:"Feather",name:"send"},onPress:e.submituser})),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ke,{source:{uri:n?Qn(n.CompanyCode.toString(),n.UrlImage):" "}}),o.a.createElement(R.a,{style:{flex:1,paddingLeft:10}},o.a.createElement(re,{style:{fontWeight:"bold"}},n&&n.UserName),o.a.createElement(re,null,o.a.createElement(oe,null,"EMPLOYEECODE"),": ",n&&n.UserCodeID),o.a.createElement(re,null,o.a.createElement(oe,null,"DEPARTMENT"),": ",n&&n.Department),o.a.createElement(re,null,o.a.createElement(oe,null,"SECTION"),": ",n&&n.Section),o.a.createElement(re,null," ",n&&n.Position)))),o.a.createElement(R.a,{style:{flex:1}}),o.a.createElement(R.a,{style:{height:40,margin:6}},o.a.createElement(se,{disabled:!n,onPress:function(){return e.props.next("ListVacation")}},"NEXT")))}))}))}}]),n}(o.a.Component);function Do(e){var t=e.goView,n=Object(r.useState)([]),a=s()(n,2),i=a[0],c=a[1],l=Object(r.useContext)(te).state.lg,u=Object(r.useContext)(po),p=u.userleave,f=u.absence,m=u.dispatch,d=Object(r.useContext)(F).dispatch;Object(r.useEffect)((function(){h()}),[]);var h=function(){var e,t,n,a,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(e=new FormData).append("action","loadtypeabsence"),e.append("companycode",p.CompanyCode.toString()),o.next=5,pe.a.awrap($n(e));case 5:1===(t=o.sent).status&&(n=ft(p.Nationality),a=[],r=["KT","ST","DS"],t.data.forEach((function(e){e[n+"_Min"]&&("\u7537/Nam"===p.Gender&&!r.includes(e.TypeAbsenceCode)||"\u5973/N\u1eef"===p.Gender)&&a.push({TypeAbsenceCode:e.TypeAbsenceCode,Max:e[n+"_Max"]?e[n+"_Max"]:479520,Min:e[n+"_Min"]})})),c(a));case 7:case"end":return o.stop()}}),null,null,null,Promise)},y=function(e){return m({type:to,absence:e})};return o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(Z,null,o.a.createElement(Eo,null)),o.a.createElement(fe.a,{contentContainerStyle:{paddingBottom:30},keyExtractor:function(e){return e.TypeAbsenceCode},numColumns:3,data:i,renderItem:function(e){var t=e.item;return o.a.createElement(wo,{onSelect:y,absence:f,data:t})}}),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return t("InforUser")}},"BACK"),o.a.createElement(se,{style:{flex:1},onPress:function(){var e;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e=!0,f.TypeAbsenceCode&&""!==f.TypeAbsenceCode||(d({type:A,alert:l.ABSENCETYPE+"\n"+l.YOUHAVENOTSELECTEDTYPE}),e=!1),e&&t("TimeVacation");case 3:case"end":return n.stop()}}),null,null,null,Promise)}},"NEXT")))}var wo=function(e){var t=e.absence,n=e.data,a=e.onSelect,i=Object(r.useContext)(F).state;return o.a.createElement(Z,{onPress:function(){return a(n)},style:{flex:1,minHeight:55,justifyContent:"center",margin:2}},o.a.createElement(oe,{style:{textAlign:"center",color:t.TypeAbsenceCode===n.TypeAbsenceCode?i.primary:i.text,fontWeight:t.TypeAbsenceCode===n.TypeAbsenceCode?"bold":"normal"}},n.TypeAbsenceCode))};var So=function(e){return o.a.createElement(Z,{style:{margin:3,padding:4}},o.a.createElement(R.a,{style:{paddingHorizontal:6}},o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(oe,{style:{fontSize:20,textAlign:"center",flex:1}},e.data.TypeAbsenceCode),o.a.createElement(Ot,{onPress:function(){return e.remove(e.data.LADetailID)},icon:{type:"FontAwesome",name:"remove",color:"red"}})),o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(Ne,{size:14,type:"AntDesign",name:"caretleft"}),o.a.createElement(re,null,ot()(e.data.TimeFrom).format("YYYY-MM-DD HH:mm"))),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(Ne,{size:14,type:"AntDesign",name:"caretright"}),o.a.createElement(re,null,ot()(e.data.TimeTo).format("YYYY-MM-DD HH:mm"))),o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return o.a.createElement(re,{style:{fontSize:20}},go(e.data.TotalAbsence,{d:n.DD,h:n.HH,m:n.MM,nolimit:n.NOLIMIT}))})))),o.a.createElement(re,{style:{marginTop:8,fontSize:10}},e.data.Description)))},Co=Object(r.memo)((function(e){var t=e.goView,n=e.navigation,a=e.route,i=Object(r.useContext)(Hn.SocketContext).state.socket,c=Object(r.useContext)(te).state.lg,l=Object(r.useContext)(Hn.UserContext).user,u=Object(r.useContext)(po),p=u.userleave,f=u.LAID,m=u.dispatch,d=u.absence,h=u.time,y=u.substitute,g=u.description,v=u.files,E=u.images,b=Object(r.useState)({data:[],loadinginsert:!1}),x=s()(b,2),D=x[0],w=x[1],S=Object(r.useState)({list:[],visible:!1,loading:!1}),k=s()(S,2),O=k[0],I=k[1],P=function(e){var t,n,a,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(t=new FormData).append("action","removeabsencedetail"),t.append("ladetailid",e),o.next=5,pe.a.awrap($n(t));case 5:1===(n=o.sent).status&&""!==n.data?(a=D.data,r=a.findIndex((function(t){return t.LADetailID===e})),a.splice(r,1),w(ae()({},D,{data:a}))):na.a.alert(c.ERROR,c.LOG8);case 7:case"end":return o.stop()}}),null,null,null,Promise)},M=function(){var e,t,n,a=arguments;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(""===(e=a.length>0&&void 0!==a[0]?a[0]:"")){r.next=9;break}return(t=new FormData).append("action","getlistdetailabsence"),t.append("laid",e),r.next=7,pe.a.awrap($n(t));case 7:1===(n=r.sent).status&&w(ae()({},D,{data:n.data}));case 9:case"end":return r.stop()}}),null,null,null,Promise)},T=function(){var e,t,n,a=arguments;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(""===(e=a.length>0&&void 0!==a[0]?a[0]:"")){r.next=10;break}return(t=new FormData).append("action","isgetinformationuser"),t.append("identity",e),t.append("companycode",l.CompanyCode.toString()),r.next=8,pe.a.awrap($n(t));case 8:1===(n=r.sent).status&&m&&m({type:eo,userleave:n.data});case 10:case"end":return r.stop()}}),null,null,null,Promise)},Y=function(){var e,t,n,a,r=arguments;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e=r.length>0&&void 0!==r[0]?r[0]:"",t=r.length>1?r[1]:void 0,""===e){o.next=13;break}return I(ae()({},O,{loading:!0})),(n=new FormData).append("action","getapprover"),n.append("laid",e),n.append("costentercode","0"),n.append("userid",t),o.next=11,pe.a.awrap($n(n));case 11:1===(a=o.sent).status?I(ae()({},O,{list:a.data,loading:!1})):I(ae()({},O,{loading:!1}));case 13:case"end":return o.stop()}}),null,null,null,Promise)},j=function(){return I(ae()({},O,{visible:!1}))},A=function(){var e,t,n;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e=a.params,t=e.laid,n=e.userabsence,t&&""!==t?m&&m({type:io,LAID:t}):(t="",m({type:io,LAID:""})),M(t),T("IDU"+n),Y(t,n);case 5:case"end":return r.stop()}}),null,null,null,Promise)};return Object(ca.useFocusEffect)(o.a.useCallback((function(){A()}),[])),Object(r.useEffect)((function(){A()}),[]),o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(jt,null,"INFORMATIONOFABSENTEE"),o.a.createElement(Eo,null),o.a.createElement(jt,null,"LISTOFREGISTEREDABSENCES"),o.a.createElement(fe.a,{contentContainerStyle:{paddingHorizontal:6,paddingBottom:30},extraData:D.data.length,keyExtractor:function(e){return e.LADetailID},data:D.data,renderItem:function(e){var t=e.item;return o.a.createElement(So,{data:t,remove:P})}}),""!==d.TypeAbsenceCode&&o.a.createElement(R.a,null,o.a.createElement(jt,null,"ISDRAFTING"),o.a.createElement(re,null,o.a.createElement(oe,null,"ABSENCETYPE"),":",o.a.createElement(oe,null,d.TypeAbsenceCode)),o.a.createElement(re,null,o.a.createElement(oe,null,"DATEFROM"),":",ot()(h.From).format("YYYY-MM-DD HH:mm")),o.a.createElement(re,null,o.a.createElement(oe,null,"DATETO"),":",ot()(h.To).format("YYYY-MM-DD HH:mm")),o.a.createElement(re,null,o.a.createElement(oe,null,"SUBSTITUTE"),": ",y&&y.UserName),o.a.createElement(re,null,o.a.createElement(oe,null,"NOTE"),": ",g),o.a.createElement(kt,{onPress:function(){return t("TimeVacation")}},"EDIT"))),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{disabled:""===d.TypeAbsenceCode,style:{flex:1},onPress:function(){var e,t;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return w(ae()({},D,{loadinginsert:!0})),(e=new FormData).append("action","insertabsences"),e.append("creator",l.UserID.toString()),e.append("laid",f),e.append("userabsence",p.UserID.toString()),e.append("companycode",p.CompanyCode.toString()),e.append("leave",JSON.stringify({LADetailID:C()(),TypeAbsenceCode:d.TypeAbsenceCode,TimeTo:ot()(h.To).format("YYYY-MM-DD HH:mm"),TimeFrom:ot()(h.From).format("YYYY-MM-DD HH:mm"),Substitute:y?y.UserID:null,Description:g,TotalAbsence:h.Total,WorkDay:h.workday})),E.forEach((function(t){if(!t.source.includes("http")){var n=t.source,a=n.split("."),r=a[a.length-1];e.append("photos",{uri:n,name:t.key+"."+r,type:"image/"+r})}})),v.forEach((function(t){if(!t.uri.includes("http")){var n=t.uri,a=n.split("."),r=a[a.length-1];e.append("files",{uri:n,name:""+t.name,type:"application/"+r})}})),n.next=12,pe.a.awrap($n(e));case 12:t=n.sent,w(ae()({},D,{loadinginsert:!1})),1===t.status&&(m&&m({type:oo,LAID:t.data}),M(t.data),Y(t.data,p.UserID.toString()));case 15:case"end":return n.stop()}}),null,null,null,Promise)},loading:D.loadinginsert},"SAVE"),o.a.createElement(se,{style:{flex:1},disabled:""===f||O.loading||0===D.data.length,loading:O.loading,onPress:function(){var e=O.list.length;0===e?na.a.alert(c.APPROVER,c.NOSIGNERCOULDBEFOUND):e>=1&&I(ae()({},O,{visible:!0}))}},"SEND")),o.a.createElement(Ge,{onDismiss:j,visible:O.visible},o.a.createElement(Er,{close:j,send:function(e,t,a){var r,o;return pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(r=new FormData).append("action","sendabsence"),r.append("laid",f),r.append("sender",l.UserID.toString()),r.append("comment",a),r.append("approver",e),r.append("nodeid",t),r.append("companycode",l.CompanyCode.toString()),s.next=10,pe.a.awrap($n(r));case 10:1===(o=s.sent).status&&""!==o.data?(i.emit("sendsigndocument",{documentcode:o.data,sender:l.UserName,approver:e,documenttypename:"HRLEAVEABSENCE",documentid:f}),D.data.forEach((function(e){i.emit("sendsigndocumentsubtitude",{documentcode:o.data,sender:l.UserName,approver:e.SubstituteID,documenttypename:"HRLEAVEABSENCE",documentid:f})})),w(ae()({},D,{data:[],approvers:[],visibleApproves:!1,loadingApproves:!1})),n.goBack()):na.a.alert(c.SEND,c.LOG8);case 12:case"end":return s.stop()}}),null,null,null,Promise)},approvers:O.list})))})),ko=n(510),Oo=n(144),Ro=n(87);var Io=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={user:null,textareadescription:"",textuserinfor:"",files:[],images:[]},e.onSubmitEditing=function(t){var n=t.nativeEvent.text;n=n.replace(/q/g,""),e._loadinfor(n)},e._loadinfor=function(t){var n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("action","isgetinformationuser"),n.append("identity",t),n.append("companycode",e.userleave.CompanyCode.toString()),r.next=6,pe.a.awrap($n(n));case 6:1===(a=r.sent).status&&a.data.UserCodeID!==e.userleave.UserCodeID&&e.dispatch&&e.dispatch({type:ao,substitute:a.data});case 8:case"end":return r.stop()}}),null,null,null,Promise)},e.submituser=function(){""!==e.state.textuserinfor&&e._loadinfor(e.state.textuserinfor)},e._pickLibrary=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe.a.awrap(Object(Oo.b)({mediaTypes:Ro.a.All,allowsEditing:!1}));case 2:!1===(t=a.sent).cancelled&&((n=e.state.images).push({key:C()(),source:t.uri}),e.setState({images:n}));case 4:case"end":return a.stop()}}),null,null,null,Promise)},e._pickCamera=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe.a.awrap(Object(Oo.a)({mediaTypes:Ro.a.All,allowsEditing:!1}));case 2:!1===(t=a.sent).cancelled&&((n=e.state.images).push({key:C()(),source:t.uri}),e.setState({images:n}));case 4:case"end":return a.stop()}}),null,null,null,Promise)},e._pickdocument=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe.a.awrap(Object(ko.a)({type:"application/pdf"}));case 2:"success"===(t=a.sent).type&&((n=e.state.files).push(t),e.setState({files:n}),e.files.push(t));case 4:case"end":return a.stop()}}),null,null,null,Promise)},e.next=function(){e.dispatch&&e.dispatch({type:co,files:e.state.files,images:e.state.images}),e.props.goView("Main")},e}return y()(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return o.a.createElement(po.Consumer,null,(function(t){var n=t.dispatch,a=t.files,r=t.images,i=t.userleave,c=t.substitute,s=t.description;return e.dispatch=n,e.files=a,e.images=r,e.userleave=i,o.a.createElement(Le,null,o.a.createElement(He.a,null,o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(jt,null,"SUBSTITUTE"),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(wt,{style:{flex:1},icon:{type:"Feather",name:"user"},value:e.state.textuserinfor,onChangeText:function(t){return e.setState({textuserinfor:t})},onSubmitEditing:e.onSubmitEditing}),o.a.createElement(Ot,{icon:{type:"Feather",name:"send"},onPress:e.submituser})),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ke,{source:{uri:c?Qn(c.CompanyCode.toString(),c.UrlImage):" "}}),o.a.createElement(R.a,{style:{flex:1,paddingLeft:10}},o.a.createElement(re,{style:{fontWeight:"bold"}},c&&c.UserName),o.a.createElement(re,null,o.a.createElement(oe,null,"EMPLOYEECODE"),": ",c&&c.UserCodeID),o.a.createElement(re,null,o.a.createElement(oe,null,"DEPARTMENT"),": ",c&&c.Department),o.a.createElement(re,null,c&&c.Position))),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(St,{label:"NOTE",style:{flex:1,height:140},value:s,onChangeText:function(e){return n({type:ro,description:e})}}),o.a.createElement(R.a,null,o.a.createElement(Ot,{icon:{type:"Entypo",name:"images"},onPress:e._pickLibrary}),o.a.createElement(Ot,{icon:{type:"MaterialIcons",name:"camera"},onPress:e._pickCamera}),o.a.createElement(Ot,{icon:{type:"AntDesign",name:"pdffile1"},onPress:e._pickdocument}))),o.a.createElement(R.a,{style:{height:160}},o.a.createElement(ze,{data:e.state.images})),o.a.createElement(re,null,"T\xe0i li\u1ec7u \u0111\xednh k\xe8m"),o.a.createElement(R.a,null,e.state.files.map((function(e){return o.a.createElement(w.a,{onPress:function(){Pr.c(e.uri).then((function(e){var t=e;Mr.b("android.intent.action.VIEW",{data:t.uri,flags:1})}))},key:e.uri},o.a.createElement(re,null,e.name))}))))),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return e.props.goView("TimeVacation")}},"BACK"),o.a.createElement(se,{style:{flex:1},onPress:e.next},"NEXT")))}))}}]),n}(o.a.Component),Po=n(155);var Mo=function(e){var t=e.CompanyCode,n=e.EmployeeID,a=e.onloadMax,i=e.startDate,c=Object(r.useState)({AnnualYear:"",AvailableDay:0,AvailableHour:0,EmployeeID:"",EmployeeName:"",LastRemainDay:0,LastRemainHour:0,Monthly:"",RemainDay:0,RemainHour:0,TotalDay:0,TotalHour:0,UsedDay:0,UsedHour:0,FamilyH:0,FamilyD:0,NationalD:0,NationalH:0,NationalityStart:""}),l=s()(c,2),u=l[0],p=l[1];Object(r.useEffect)((function(){n&&f()}),[n,i]);var f=function(){var e,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(e=new FormData).append("action","getannualremain"),e.append("companycode",t),e.append("usercode",n),e.append("workday",i?i.format("YYYY-MM-DD"):ot()().format("YYYY-MM-DD")),o.next=7,pe.a.awrap($n(e));case 7:1===(r=o.sent).status?(a({Remain:60*r.data.RemainHour+(n.toUpperCase().includes("NN")?0:960),VacationBegin:r.data.VacationBegin,Family:60*r.data.FamilyH,National:60*r.data.NationalH}),p(r.data)):a({Remain:0,VacationBegin:null,Family:0,National:0});case 9:case"end":return o.stop()}}),null,null,null,Promise)};return o.a.createElement(te.Consumer,null,(function(e){var t=e.state.lg;return o.a.createElement(R.a,null,o.a.createElement(vo,{label:"INFOR5",value:yo(u.FamilyH,{d:t.DD,h:t.HH,m:t.MM})}),o.a.createElement(vo,{label:"INFOR1",value:yo(u.RemainHour<0?0:u.RemainHour,{d:t.DD,h:t.HH,m:t.MM})}),o.a.createElement(vo,{label:"INFOR6",value:yo(u.NationalH<0?0:u.NationalH,{d:t.DD,h:t.HH,m:t.MM})}))}))};var To=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[],total:0},e._healthexaminationforprechildren=function(){var t,n,a,r,o,i;return pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(t=new FormData).append("action","healthexaminationforprechildren"),t.append("userid",e.props.UserID),c.next=5,pe.a.awrap($n(t));case 5:if(1!==(n=c.sent).status){c.next=20;break}a=n.data,r=0,o=0;case 10:if(!(o<a.length)){c.next=18;break}if("KT"===(i=a[o]).TypeAbsenceCode&&(r+=i.TotalAbsence),"NS"!==i.TypeAbsenceCode&&"ST"!==i.TypeAbsenceCode){c.next=15;break}return c.abrupt("break",18);case 15:o++,c.next=10;break;case 18:e.props.onloadMax(e.props.MAX-r),e.setState({data:n.data,total:e.props.MAX-r});case 20:case"end":return c.stop()}}),null,null,null,Promise)},e}return y()(n,[{key:"componentDidMount",value:function(){this._healthexaminationforprechildren()}},{key:"render",value:function(){var e=this;return o.a.createElement(R.a,null,o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return o.a.createElement(vo,{label:"INFOR2",value:go(e.state.total,{d:n.DD,h:n.HH,m:n.MM,nolimit:n.NOLIMIT})})})))}}]),n}(o.a.Component);var Yo=["PN","QK","TN"],jo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={startDate:null,untilDate:null,minDate:ot()(),shifttime:[],startwork:null,maxstart:0,minstart:0,mstart:0,totalstart:0,totalend:0,endwork:null,maxend:0,minend:0,mend:0,totalM:0,Remain:0,Family:0,events:[],VacationBegin:null,loadingchecknext:!1},e._getmintime=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","getmintime"),t.append("companycode",e.userleave.CompanyCode.toString()),t.append("usercode",e.userleave.EmployeeID),a.next=6,pe.a.awrap($n(t));case 6:1===(n=a.sent).status&&e.setState({minDate:ot()(n.data,"YYYY-MM-DD")});case 8:case"end":return a.stop()}}),null,null,null,Promise)},e.onChangeMonth=function(t){e._getvacationinmonth(t)},e.onValueChangeTimeFrom=function(t){return e._updateDate(t,"from")},e.onValueChangeTimeTo=function(t){return e._updateDate(t,"to")},e._updateDate=function(t,n){var a,r,o=e.state,i=o.startwork,c=o.mstart,s=o.endwork,l=o.mend;"from"===n?(a=ho(i,t),r=ho(s,l)):(a=ho(i,c),r=ho(s,t)),r.getTime()-a.getTime()>=18e5&&("from"===n?e.setState({mstart:t},(function(){return e._updatetime()})):e.setState({mend:t},(function(){return e._updatetime()})))},e._getshifttime=function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==e.state.startDate){t.next=2;break}return t.abrupt("return");case 2:!e.userleave.EmployeeID.toUpperCase().includes("NN")&&e.state.VacationBegin&&e.state.startDate.format("YYYYMMDD")<ot()(e.state.VacationBegin,"YYYY-MM-DD").format("YYYYMMDD")&&"PN"===e.absence.TypeAbsenceCode?na.a.alert(e.lg.PN,e.lg.INFOR20+" "+e.state.VacationBegin):e.state.VacationBegin||"PN"!==e.absence.TypeAbsenceCode?("QK"===e.absence.TypeAbsenceCode&&e.userleave.EmployeeID.toUpperCase().includes("NN")&&e.setState((function(e){return{startDate:e.untilDate?e.untilDate:e.startDate,untilDate:null}})),e.setState({shifttime:[]},(function(){var t,n,a,r,o,i,c,s,l,u,p,f,m,d,h,y;return pe.a.async((function(g){for(;;)switch(g.prev=g.next){case 0:if(t=e.state.untilDate,!(n=e.state.startDate)){g.next=14;break}return null==t&&(t=n),(a=new FormData).append("action","getshifttime"),a.append("companycode",e.userleave.CompanyCode.toString()),a.append("usercode",e.userleave.EmployeeID),a.append("datefrom",n.format("YYYY-MM-DD")),a.append("dateto",t.format("YYYY-MM-DD")),g.next=12,pe.a.awrap($n(a));case 12:1===(r=g.sent).status&&r.data.length>0&&((o=r.data).forEach((function(t){"SAT"===t.RankID&&"MTCN"===e.absence.TypeAbsenceCode&&(t.Fragment="");var n=""===t.Fragment?[]:t.Fragment.split(";");if("MTCN"===e.absence.TypeAbsenceCode&&n.length>2){var a=Math.abs(parseInt(n[n.length-1],0));n=["+"+(a-e.absence.Max),"-"+a]}t.Fragment=n,t.start=n[0],t.end=n[n.length-1],t.Vacation=e.absence.TypeAbsenceCode})),o=o.filter((function(e){return e.Fragment.length>0})),(i=o.length)>0&&(c=o[0],s=Math.abs(c.Fragment[c.Fragment.length-1])-(i>1?15:0),l=Math.abs(c.Fragment[0]),u=o[o.length-1],p=Math.abs(u.Fragment[u.Fragment.length-1]),f=Math.abs(u.Fragment[0])+(i>1?15:0),m=ot()(c.WorkDay,"YYYY-MM-DD"),d=ot()(u.WorkDay,"YYYY-MM-DD"),h=mo(JSON.stringify(c.Fragment),c.Fragment[0],c.Fragment[c.Fragment.length-1]),y=mo(JSON.stringify(u.Fragment),u.Fragment[0],u.Fragment[u.Fragment.length-1]),"SAT"===c.RankID.substring(0,3)&&480===e.absence.Min&&(h=480),"SAT"===u.RankID.substring(0,3)&&480===e.absence.Min&&(y=480),e.setState({mstart:l,mend:p,minstart:l,maxstart:s,minend:f,maxend:p,endwork:d,startwork:m,shifttime:o,totalstart:h,totalend:y},(function(){return e._updatetime()}))));case 14:case"end":return g.stop()}}),null,null,null,Promise)}))):na.a.alert(e.lg.PN,""+e.lg.INFOR21);case 3:case"end":return t.stop()}}),null,null,null,Promise)},e.onloadMax=function(t){e.absence.Max=Math.min(t,e.absence.Max),e.dispatch({type:to,absence:e.absence})},e.onloadMaxAnnualRemain=function(t){var n=t.Remain,a=t.VacationBegin,r=t.Family,o=t.National,i=e.absence;"PN"===i.TypeAbsenceCode?i.Max=n:"TN"===i.TypeAbsenceCode?i.Max=r:"QK"===i.TypeAbsenceCode&&(i.Max=o),e.dispatch({type:to,absence:i}),e.setState({VacationBegin:a,Remain:n,Family:r})},e.absencescheckdaterangeoverlaps=function(){var t,n,a,r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(t=new FormData).append("action","absencescheckdaterangeoverlaps"),t.append("userid",e.userleave.UserID.toString()),t.append("type",e.absence.TypeAbsenceCode),i.next=6,pe.a.awrap($n(t));case 6:if(1!==(n=i.sent).status){i.next=15;break}return a=!0,r=ot()(e.state.endwork).add(e.state.mend,"minutes"),o=ot()(e.state.startwork).add(e.state.mstart,"minutes"),n.data.forEach((function(e){var t=ot()(e.TimeTo,"YYYY-MM-DDTHH:mm:ss"),n=ot()(e.TimeFrom,"YYYY-MM-DDTHH:mm:ss");pt(o.unix(),r.unix(),n.unix(),t.unix())&&(a=!1)})),i.abrupt("return",a);case 15:return i.abrupt("return",!1);case 16:case"end":return i.stop()}}),null,null,null,Promise)},e._getvacationinmonth=function(t){var n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("action","getvacationinmonth"),n.append("userid",e.userleave.UserID.toString()),n.append("month",t),r.next=6,pe.a.awrap($n(n));case 6:1===(a=r.sent).status&&e.setState({events:a.data});case 8:case"end":return r.stop()}}),null,null,null,Promise)},e._getenddate=function(t){var n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("action","getenddate"),n.append("companycode",e.userleave.CompanyCode.toString()),n.append("usercode",e.userleave.EmployeeID),n.append("datefrom",t),r.next=7,pe.a.awrap($n(n));case 7:if(1!==(a=r.sent).status){r.next=12;break}return r.abrupt("return",a.data);case 12:return r.abrupt("return",null);case 13:case"end":return r.stop()}}),null,null,null,Promise)},e.next=function(){var t,n,a,r,o,i;return pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(e.setState({loadingchecknext:!0}),t=!0,n=["PN","TN"],a="MTCN"===e.absence.TypeAbsenceCode?e.absence.Min*e.state.shifttime.length:e.absence.Min,r="MTCN"===e.absence.TypeAbsenceCode?e.absence.Max*e.state.shifttime.length:e.absence.Max,null!==e.state.startwork){c.next=10;break}na.a.alert(e.lg.ABSENCEDATE,e.lg.YOUHAVENOTSELECTEDANABSENCEDATE),t=!1,c.next=41;break;case 10:return c.next=12,pe.a.awrap(e.absencescheckdaterangeoverlaps());case 12:if(c.t0=c.sent,!1!==c.t0){c.next=18;break}na.a.alert(e.lg.ABSENCEDATE,e.lg.LOG7),t=!1,c.next=41;break;case 18:if(!(e.state.totalM<a)){c.next=23;break}na.a.alert(e.lg.LOG10),t=!1,c.next=41;break;case 23:if(!(e.userleave.EmployeeID.toUpperCase().includes("NN")&&n.includes(e.absence.TypeAbsenceCode)&&e.state.totalM>e.state.Family+e.state.Remain)){c.next=28;break}na.a.alert(e.lg.LOG11),t=!1,c.next=41;break;case 28:if(!(e.userleave.EmployeeID.toUpperCase().includes("NN")&&!n.includes(e.absence.TypeAbsenceCode)&&e.state.totalM>r)){c.next=33;break}na.a.alert(e.lg.LOG12),t=!1,c.next=41;break;case 33:if(e.state.mstart===e.state.minstart&&e.state.mend===e.state.maxend||!(Object(Ha.toNumber)(ot()(ot()(e.state.startwork).add(e.state.mstart,"minutes")).format("YYYYMMDD"))<=Object(Ha.toNumber)(ot()().format("YYYYMMDD")))){c.next=41;break}return o=null,e.state.mstart!==e.state.minstart?o=ot()(ot()(e.state.startwork).add(e.state.mstart,"minutes")).format("YYYY-MM-DD"):e.state.mend!==e.state.maxend&&(o=ot()(ot()(e.state.endwork).add(e.state.mend,"minutes")).format("YYYY-MM-DD")),c.next=38,pe.a.awrap(e._getenddate(o));case 38:((i=c.sent)&&Object(Ha.toNumber)(ot()(i,"YYYY-MM-DD").format("YYYYMMDD"))===Object(Ha.toNumber)(ot()().format("YYYYMMDD"))&&Object(Ha.toNumber)(ot()().format("HHmm"))>900||i&&Object(Ha.toNumber)(ot()(i,"YYYY-MM-DD").format("YYYYMMDD"))<Object(Ha.toNumber)(ot()().format("YYYYMMDD")))&&(na.a.alert(e.lg.LOG13,e.lg.LOG14),t=!1),i||(na.a.alert(e.lg.LOG15,e.lg.LOG16),t=!1);case 41:t?(e.dispatch&&e.dispatch({type:no,time:{To:ot()(e.state.endwork).add(e.state.mend,"minutes"),From:ot()(e.state.startwork).add(e.state.mstart,"minutes"),Total:e.state.totalM,workday:e.state.shifttime,Family:e.state.Family,Remain:e.state.Remain}}),e.setState({loadingchecknext:!1}),e.props.goView("CheckValidDateRegister")):e.setState({loadingchecknext:!1});case 42:case"end":return c.stop()}}),null,null,null,Promise)},e}return y()(n,[{key:"componentDidMount",value:function(){this._getvacationinmonth(ot()().format("YYYY-MM")),this._getmintime()}},{key:"_updatetime",value:function(){var e,t=this,n=this.state,a=n.shifttime,r=n.endwork,o=n.startwork,i=n.mend,c=n.mstart;(e=a.findIndex((function(e){return ot()(e.WorkDay,"YYYY-MM-DD").format("YYYYMMDD")===ot()(o).format("YYYYMMDD")})))>-1&&(a[e].start="+"+c),(e=a.findIndex((function(e){return ot()(e.WorkDay,"YYYY-MM-DD").format("YYYYMMDD")===ot()(r).format("YYYYMMDD")})))>-1&&(a[e].end="-"+i);var s=0;a.forEach((function(e){var n=mo(JSON.stringify(e.Fragment),e.start,e.end);isNaN(n)&&(n=0),"SAT"===e.RankID.substring(0,3)&&480===t.absence.Min&&(n=480),e.Total=n,s+=n,e.WorkDayStart=ot()(e.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(e.start,0)),"minutes").format("YYYY-MM-DD HH:mm"),e.WorkDayEnd=ot()(e.WorkDay,"YYYY-MM-DD").add(Math.abs(parseInt(e.end,0)),"minutes").format("YYYY-MM-DD HH:mm")})),s=Math.abs(s),this.setState({totalM:s,shifttime:a})}},{key:"render",value:function(){var e=this,t=this.state,n=t.startDate,a=t.untilDate,r=t.startwork,i=t.endwork,c=t.totalM,s=t.mend,l=t.mstart,u=t.shifttime.length;return o.a.createElement(te.Consumer,null,(function(t){var p=t.state.lg;return e.lg=p,o.a.createElement(po.Consumer,null,(function(t){var f=t.userleave,m=t.absence,d=t.dispatch;return e.dispatch=d,e.absence=m,e.userleave=f,o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(He.a,{contentContainerStyle:{paddingBottom:30},ref:function(t){return e.s=t},showsVerticalScrollIndicator:!1,onContentSizeChange:function(){return e.s&&e.s.scrollToEnd({animated:!0})}},o.a.createElement(Z,null,o.a.createElement(Eo,null),o.a.createElement(jt,null,m.TypeAbsenceCode),Yo.includes(m.TypeAbsenceCode)?o.a.createElement(Mo,{startDate:e.state.startDate,onloadMax:e.onloadMaxAnnualRemain,CompanyCode:f.CompanyCode,EmployeeID:f.EmployeeID}):"KT"===m.TypeAbsenceCode?o.a.createElement(To,{MAX:m.Max,onloadMax:e.onloadMax,UserID:f.UserID}):null,o.a.createElement(vo,{label:"MINIMUMREGISTRATION",value:go("MTCN"===m.TypeAbsenceCode?m.Min*u:m.Min,{d:p.DD,h:p.HH,m:p.MM,nolimit:p.NOLIMIT})}),o.a.createElement(vo,{label:"MAXIMUMREGISTRATION",value:go("MTCN"===m.TypeAbsenceCode?m.Max*u:m.Max,{d:p.DD,h:p.HH,m:p.MM,nolimit:p.NOLIMIT})})),o.a.createElement(Z,null,o.a.createElement(Lt,{minDate:e.state.minDate,events:e.state.events,onChangeMonth:e.onChangeMonth,startDate:n,untilDate:a,onSelect:function(t,n){return e.setState({startDate:t,untilDate:n,endwork:null,startwork:null,totalM:0},(function(){return e._getshifttime()}))}}),c>0&&o.a.createElement(re,{style:{fontWeight:"bold",fontSize:22,textAlign:"center",color:"green"}},go(c,{d:p.DD,h:p.HH,m:p.MM,nolimit:p.NOLIMIT})),o.a.createElement(oe,null,"START"),o.a.createElement(re,null,ot()(r).add(l,"minutes").format("YYYY-MM-DD HH:mm")),u>0&&o.a.createElement(Po.a,{disabled:e.state.totalstart===m.Min,step:15,value:e.state.minstart,style:{flex:1},minimumValue:e.state.minstart,maximumValue:e.state.maxstart,minimumTrackTintColor:"#616161",maximumTrackTintColor:"#ff3d00",onValueChange:e.onValueChangeTimeFrom}),o.a.createElement(oe,{style:{textAlign:"right"}},"END"),o.a.createElement(re,{style:{textAlign:"right"}},ot()(i).add(s,"minutes").format("YYYY-MM-DD HH:mm")),u>0&&o.a.createElement(Po.a,{disabled:e.state.totalend===m.Min,step:15,value:e.state.maxend,style:{flex:1},minimumValue:e.state.minend,maximumValue:e.state.maxend,minimumTrackTintColor:"#ff3d00",maximumTrackTintColor:"#616161",onValueChange:e.onValueChangeTimeTo}))),o.a.createElement(R.a,{style:{margin:6,flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return e.props.goView("ListVacation")}},"BACK"),o.a.createElement(se,{loading:e.state.loadingchecknext,style:{flex:1},onPress:e.next},"NEXT")))}))}))}}]),n}(o.a.Component);var Ao=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={view:""},e._backaction=function(){na.a.alert(e.lg.BACK,e.lg.DOYOUWANTCLOSEDREGISTERFORVACATION,[{text:e.lg.CANCEL,onPress:function(){},style:"cancel"},{text:e.lg.OK,onPress:function(){return e.props.navigation.goBack()}}],{cancelable:!1})},e.rennderContent=function(t){switch(t){case"InforUser":return o.a.createElement(xo,{next:function(t){return e.setState({view:t})}});case"TimeVacation":return o.a.createElement(jo,{goView:function(t){return e.setState({view:t})}});case"ListVacation":return o.a.createElement(Do,{goView:function(t){return e.setState({view:t})}});case"Note":return o.a.createElement(Io,{goView:function(t){return e.setState({view:t})}});case"Main":return o.a.createElement(Co,{navigation:e.props.navigation,route:e.props.route,goView:function(t){return e.setState({view:t})}});case"CheckValidDateRegister":return o.a.createElement(bo,{goView:function(t){return e.setState({view:t})}});default:return null}},e}return y()(n,[{key:"componentDidMount",value:function(){this.setState({view:"InforUser"});var e=this.props.route.params.view;""!==e&&this.setState({view:e}),this.props.navigation.setParams({backaction:this._backaction})}},{key:"render",value:function(){var e=this;return o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return e.lg=n,o.a.createElement(fo,null,o.a.createElement(Le,null,e.rennderContent(e.state.view)))}))}}]),n}(o.a.Component),No=n(50);var _o=Object(r.memo)((function(e){u()(e);var t=Object(r.useContext)(F).dispatch,n=Object(r.useContext)(J).dispatch,a=Object(r.useContext)(te).dispatch,i=Object(r.useContext)(Hn.UserContext).dispatch,c=function(){var e,r,o,c,s,l,u;return pe.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.t0=JSON,p.next=4,pe.a.awrap(_a("appintro"));case 4:if(p.t1=p.sent,p.t0.parse.call(p.t0,p.t1)){p.next=8;break}return n&&n({type:q,view:{view:"StartingHome",data:{}}}),p.abrupt("return");case 8:return p.next=10,pe.a.awrap(ut());case 10:return e=p.sent,r=e.version,p.next=14,pe.a.awrap(_a("theme"));case 14:return o=p.sent,p.next=17,pe.a.awrap(_a("language"));case 17:return c=p.sent,p.next=20,pe.a.awrap(_a("version"));case 20:if(s=p.sent,null===o&&(o="light"),t&&t({type:j,theme:_[o]}),c&&r===s){p.next=27;break}return Na(r,"version"),n&&n({type:q,view:{view:"Resources",data:{locale:c}}}),p.abrupt("return");case 27:return p.t2=JSON,p.next=30,pe.a.awrap(_a("signin"));case 30:return p.t3=p.sent,l=p.t2.parse.call(p.t2,p.t3),p.t4=JSON,p.next=35,pe.a.awrap(_a(c));case 35:p.t5=p.sent,u=p.t4.parse.call(p.t4,p.t5),a&&a({type:ee,language:c,lg:u}),null===l?n&&n({type:q,view:{view:"Sign",data:{}}}):(i&&i({type:Hn.AC_user.set,user:l}),n&&n({type:q,view:{view:"Main",data:{}}})),p.next=44;break;case 41:p.prev=41,p.t6=p.catch(0),na.a.alert(JSON.stringify(p.t6));case 44:case"end":return p.stop()}}),null,null,[[0,41]],Promise)};return Object(r.useEffect)((function(){pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,pe.a.awrap(No.e(No.c));case 3:if("granted"===e.sent.status){e.next=7;break}return e.next=7,pe.a.awrap(No.d(No.c));case 7:return e.next=10,pe.a.awrap(No.e(No.c));case 10:if("granted"===e.sent.status){e.next=14;break}return e.next=14,pe.a.awrap(No.d(No.c));case 14:return e.next=17,pe.a.awrap(No.e(No.a));case 17:if("granted"===e.sent.status){e.next=21;break}return e.next=21,pe.a.awrap(No.d(No.a));case 21:return e.next=24,pe.a.awrap(No.e(No.b));case 24:if("granted"===e.sent.status){e.next=28;break}return e.next=28,pe.a.awrap(No.d(No.b));case 28:case"end":return e.stop()}}),null,null,null,Promise),c();case 2:case"end":return e.stop()}}),null,null,null,Promise)}),[]),o.a.createElement(Le,null,o.a.createElement(re,null,"Loading"))}));function Lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lo(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[]},e._pickLibrary=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe.a.awrap(Object(Oo.b)({mediaTypes:Ro.a.All,allowsEditing:!1}));case 2:!1===(t=a.sent).cancelled&&((n=e.state.images).push({key:C()(),source:t.uri}),e.setState({images:n}));case 4:case"end":return a.stop()}}),null,null,null,Promise)},e._pickCamera=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe.a.awrap(Object(Oo.a)({mediaTypes:Ro.a.All,allowsEditing:!1}));case 2:!1===(t=a.sent).cancelled&&((n=e.state.images).push({key:C()(),source:t.uri}),e.setState({images:n}));case 4:case"end":return a.stop()}}),null,null,null,Promise)},e}return y()(n,[{key:"render",value:function(){return o.a.createElement(Z,{style:Fo({borderRadius:12,padding:10},B({elevation:20}))},o.a.createElement(R.a,{style:{marginTop:-10}},o.a.createElement(w.a,{style:{padding:4,alignItems:"center",minHeight:40},onPress:this.props.close},o.a.createElement(Ne,{size:32,type:"Feather",name:"chevron-down"})),o.a.createElement(re,null,o.a.createElement(oe,null,"TITLE"),": ",this.props.data.Subject),o.a.createElement(re,null,o.a.createElement(oe,null,"CONTENT"),": ",this.props.data.Content),o.a.createElement(re,null,o.a.createElement(oe,null,"START"),": ",ot()(this.props.data.StartTime,"YYYY-MM-DDTHH:mm:SS").format("HH:mm")),o.a.createElement(re,null,o.a.createElement(oe,null,"END"),": ",ot()(this.props.data.EndTime,"YYYY-MM-DDTHH:mm:SS").format("HH:mm")),o.a.createElement(R.a,{style:{height:160}},o.a.createElement(ze,{data:this.state.images})),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ot,{icon:{type:"Entypo",name:"images"},onPress:this._pickLibrary}),o.a.createElement(Ot,{icon:{type:"MaterialIcons",name:"camera"},onPress:this._pickCamera})),o.a.createElement(se,null,"CHECKIN")))}}]),n}(o.a.Component);var Ho=["#feca57","#1dd1a1","#48dbfb","#54a0ff","#ff6b6b"],zo=function(e){return Ho[e-1]},Wo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(e){var a;d()(this,n),(a=t.call(this,e)).loadEvent=function(){return a.setState({cellEvents:[]},(function(){var e=[];a.props.event.forEach((function(t,n){var r=ot()(t.StartTime,"YYYY-MM-DDTHH:mm:SS"),i=ot()(t.EndTime,"YYYY-MM-DDTHH:mm:SS"),c=r.minutes()+60*r.hours(),s=i.minutes()+60*i.hours()-c,l=Math.floor(s/30),u=Math.floor((c-420)/30);e.push(o.a.createElement(Ve.a,{key:n,onPress:function(){return a.props.viewData(t)}},o.a.createElement(R.a,{style:{position:"absolute",top:c-420+u,width:"100%",height:s+l,backgroundColor:zo(t.Label),padding:4,borderColor:"#fafafa",borderWidth:I.a.hairlineWidth,overflow:"hidden"}},o.a.createElement(re,null,t.Subject),o.a.createElement(re,{style:{fontSize:10}},ot()(t.StartTime,"YYYY-MM-DDTHH:mm:SS").format("HH:mm")," -",ot()(t.EndTime,"YYYY-MM-DDTHH:mm:SS").format("HH:mm")))))})),a.setState({cellEvents:e})}))},a.booking=function(){var e=a.state.startIndex,t=a.state.endIndex;t||(t=e);var n=ot()(a.props.date,"YYYY-MM-DD"),r=ot()(n).add(e,"minutes"),o=ot()(n).add(t+30,"minutes");a.props.book({start:r.format("YYYY-MM-DD HH:mm"),end:o.format("YYYY-MM-DD HH:mm")})},a.loadView=function(){a.setState({cellTimes:[]},(function(){for(var e=[],t=a.state,n=t.startIndex,r=t.endIndex,i=function(t){e.push(o.a.createElement(F.Consumer,{key:t},(function(e){var i=e.state;return o.a.createElement(Ve.a,{onLongPress:a.booking,onPress:function(){return a.selecttime(t)}},o.a.createElement(R.a,{style:{height:30,backgroundColor:r===t||n===t||n<=t&&t<=r?"green":i.backgroundlight,marginBottom:1,flex:1}}))})))},c=420;c<=1080;c+=30)i(c);a.setState({cellTimes:e})}))},a.selecttime=function(e){var t=a.state,n=t.startIndex,r=t.endIndex;n&&n===e?(n=null,r=null):!n||n>e?(n=e,r=null):r=e;var o=a.props.event,i=!0;if(r){var c=o,s=Array.isArray(c),l=0;for(c=s?c:c["function"===typeof Symbol&&"function"===typeof Symbol?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(l>=c.length)break;u=c[l++]}else{if((l=c.next()).done)break;u=l.value}var p=u,f=ot()(p.StartTime,"YYYY-MM-DDTHH:mm:SS"),m=ot()(p.EndTime,"YYYY-MM-DDTHH:mm:SS"),d=f.minutes()+60*f.hours(),h=m.minutes()+60*m.hours();if(pt(n,r+30,d,h)){i=!1;break}}}a.props.onChangeDay({date:a.props.date,startIndex:n,endIndex:r}),i&&a.setState({startIndex:n,endIndex:r},(function(){return a.loadView()}))};var r=a.props,i=r.startIndex,c=r.endIndex;return a.state={startIndex:i,endIndex:c,cellTimes:[],cellEvents:[]},a}return y()(n,[{key:"componentDidMount",value:function(){this.loadView(),this.loadEvent()}},{key:"render",value:function(){return o.a.createElement(R.a,null,this.state.cellTimes,this.state.cellEvents)}}]),n}(o.a.PureComponent);var Vo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={listReason:[]},e._getreasonbooking=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","getreasonbooking"),t.append("companycode",e.login.CompanyCode.toString()),a.next=5,pe.a.awrap($n(t));case 5:1===(n=a.sent).status&&e.setState({listReason:n.data});case 7:case"end":return a.stop()}}),null,null,null,Promise)},e.next=function(){var t=!0,n="";""===e.props.valueTitle?(t=!1,n=e.lg.REQUIRETITLE):""===e.props.valueContent?(t=!1,n=e.lg.REQUIRECONTENT):null===e.props.reason.key&&(t=!1,n=e.lg.REQUIREREASON),t?e.props.next("Joins"):na.a.alert(e.lg.BOOKING,n)},e}return y()(n,[{key:"componentDidMount",value:function(){this._getreasonbooking()}},{key:"render",value:function(){var e=this;return o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return e.lg=n,o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(R.a,null,o.a.createElement(oe,null,"TITLE"),o.a.createElement(wt,{value:e.props.valueTitle,onChangeText:e.props.onChangeTextTitle}),o.a.createElement(oe,null,"CONTENT"),o.a.createElement(St,{value:e.props.valueContent,onChangeText:e.props.onChangeTextContent}),o.a.createElement(oe,null,"REASON"),o.a.createElement(De,{data:e.state.listReason,value:e.props.reason,onClickDrop:e.props.onSelectReason}),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(oe,{style:{marginRight:6}},"VIDEOCONFERENCE"),o.a.createElement(zt,{value:e.props.videoconference,onChange:e.props.onChangevideoconference})),o.a.createElement(re,null,o.a.createElement(oe,null,"TIMEBOOKING"),":"," "+ot()(e.props.data.StartTime,"YYYY-MM-DDTHH:mm:SS").format("HH:mm")+" - "+ot()(e.props.data.EndTime,"YYYY-MM-DDTHH:mm:SS").format("HH:mm")),o.a.createElement(se,{onPress:e.next},"NEXT"))}))}))}}]),n}(o.a.Component),Bo=n(129);var Go=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visibleAdd:!1,valuesearch:"",loadingsearch:!1,datasearch:[],dataselect:[]},e._add=function(){var t=e.state.dataselect,n=[];if(t.forEach((function(e){-1===n.findIndex((function(t){return t.UserID===e.UserID}))&&n.push({UserID:e.UserID,UserName:e.UserName})})),n.length>0){var a=n.map((function(e){return e.UserID})).join(", ");e._insertbookingdetail(a)}else e._insertbookingdetail("")},e._insertbookingdetail=function(t){var n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("action","insertbookingdetail"),n.append("subject",e.props.valueTitle),n.append("content",e.props.valueContent),n.append("starttime",ot()(e.props.data.StartTime,"YYYY-MM-DDTHH:mm:SS").format("YYYY-MM-DD HH:mm")),n.append("endtime",ot()(e.props.data.EndTime,"YYYY-MM-DDTHH:mm:SS").format("YYYY-MM-DD HH:mm")),n.append("label",""+Math.floor(5*Math.random())),n.append("roomid",e.props.data.roomid),n.append("userlist",t),n.append("userid",e.user.UserID.toString()),n.append("reason",e.props.reason.key),n.append("polycom",""+e.props.videoconference),r.next=14,pe.a.awrap($n(n));case 14:1===(a=r.sent).status&&a.data&&e.props.onBooking();case 16:case"end":return r.stop()}}),null,null,null,Promise)},e.onChangeText=function(t){return e.setState({valuesearch:t},(function(){return e._searchuser()}))},e._searchuser=Object(Ha.debounce)((function(){""!==e.state.valuesearch&&e.setState({loadingsearch:!0},(function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","searchuser"),t.append("search",e.state.valuesearch),t.append("companycode",e.user.CompanyCode.toString()),a.next=6,pe.a.awrap($n(t));case 6:n=a.sent,e.setState({datasearch:n.data,loadingsearch:!1});case 8:case"end":return a.stop()}}),null,null,null,Promise)}))}),1e3),e._onRemove=function(t){var n=e.state.dataselect,a=n.findIndex((function(e){return e.UserID===t}));a>-1&&(n.splice(a,1),e.setState({dataselect:n}))},e._select=function(t){var n=e.state.dataselect;-1===n.findIndex((function(e){return e.UserID===t.UserID}))&&(n.push(t),e.setState({dataselect:n}))},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(Bo.b.Consumer,null,(function(t){var n=t.user;return e.user=n,o.a.createElement(R.a,null,o.a.createElement(wt,{icon:{type:"Feather",name:"user"},value:e.state.valuesearch,onChangeText:e.onChangeText}),o.a.createElement(R.a,{style:{flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start"}},e.state.dataselect.map((function(t){return o.a.createElement(Ht,{key:t.UserID,label:t.UserName,value:t.UserID,onRemove:e._onRemove})}))),o.a.createElement(jt,null,e.state.loadingsearch?"SEARCHING":"SEARCHRESULTS"),o.a.createElement(R.a,{style:{height:200}},o.a.createElement(Wa,{datasearch:e.state.datasearch,select:e._select})),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(se,{style:{flex:1},onPress:function(){return e.props.next("Booked")}},"BACK"),o.a.createElement(se,{style:{flex:1},onPress:e._add},"BOOKING")))}))}}]),n}(o.a.Component);function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={view:"Booked",valueTitle:"",valueContent:"",reason:{key:null},videoconference:!1},e.onSelectReason=function(t){return e.setState({reason:t})},e.rennderContent=function(t){switch(t){case"Booked":return o.a.createElement(Vo,{data:e.props.data,next:function(t){return e.setState({view:t})},onChangeTextContent:function(t){return e.setState({valueContent:t})},onChangeTextTitle:function(t){return e.setState({valueTitle:t})},onSelectReason:e.onSelectReason,onChangevideoconference:function(t){return e.setState({videoconference:t})},reason:e.state.reason,valueTitle:e.state.valueTitle,valueContent:e.state.valueContent,videoconference:e.state.videoconference});case"Joins":return o.a.createElement(Go,{data:e.props.data,next:function(t){return e.setState({view:t})},reason:e.state.reason,valueTitle:e.state.valueTitle,valueContent:e.state.valueContent,videoconference:e.state.videoconference,onBooking:e.props.onBooking});default:return o.a.createElement(R.a,null)}},e}return y()(n,[{key:"render",value:function(){return o.a.createElement(Z,{style:qo({borderRadius:12,padding:10},B({elevation:20}))},o.a.createElement(R.a,{style:{marginTop:-10}},o.a.createElement(w.a,{style:{padding:4,alignItems:"center",minHeight:40},onPress:this.props.close},o.a.createElement(Ne,{size:32,type:"Feather",name:"chevron-down"}))),this.rennderContent(this.state.view))}}]),n}(o.a.Component);var Xo=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={days:[],room:{},list:[],today:ot()(),visibleEvent:!1,visibleBook:!1,dataEvent:{},booking:{},datebooking:null,listEvent:[]},e.onChangeDay=function(t){var n,a,r,i,c,s;return pe.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:n=t.date,a=t.startIndex,r=t.endIndex,i=e.state,c=i.datebooking,s=i.listEvent,c&&n!==c&&function(){for(var t=e.state.today,i=t.add(-t.isoWeekday(),"day"),c=[],l=0;l<6;l++){i.add(1,"day");var u=s.filter((function(e){return i.format("YYYY-MM-DD")===ot()(e.StartTime,"YYYY-MM-DDTHH:mm:SS").format("YYYY-MM-DD")}));c.push(o.a.createElement(R.a,{key:""+i+(i.format("YYYY-MM-DD")!==n?e.state.datebooking:""),style:{marginRight:1,flex:1}},o.a.createElement(R.a,{style:{height:40}},o.a.createElement(re,{numberOfLines:1},i.format("dddd")),o.a.createElement(re,{key:l},i.format("DD/MM"))),o.a.createElement(Wo,{startIndex:n===i.format("YYYY-MM-DD")?a:null,endIndex:n===i.format("YYYY-MM-DD")?r:null,onChangeDay:e.onChangeDay,date:i.format("YYYY-MM-DD"),viewData:e.viewdata,event:u,book:e.booking})))}e.setState({days:c})}(),e.setState({datebooking:n});case 4:case"end":return l.stop()}}),null,null,null,Promise)},e.load=function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({days:[]},(function(){var t,n,a,r,i,c;return pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.state.today,n=t.add(-t.isoWeekday(),"day"),s.next=4,pe.a.awrap(e._getlistmeetingbooking(n.format("YYYY-MM-DD"),ot()(n).add(6,"day").format("YYYY-MM-DD"),e.state.room.key));case 4:for(a=s.sent,e.setState({listEvent:a}),r=[],i=0;i<6;i++)n.add(1,"day"),c=a.filter((function(e){return n.format("YYYY-MM-DD")===ot()(e.StartTime,"YYYY-MM-DDTHH:mm:SS").format("YYYY-MM-DD")})),r.push(o.a.createElement(R.a,{key:""+n,style:{marginRight:1,flex:1}},o.a.createElement(R.a,{style:{height:40}},o.a.createElement(re,{numberOfLines:1},n.format("dddd")),o.a.createElement(re,{key:i},n.format("DD/MM"))),o.a.createElement(Wo,{onChangeDay:e.onChangeDay,date:n.format("YYYY-MM-DD"),viewData:e.viewdata,event:c,book:e.booking})));e.setState({days:r});case 9:case"end":return s.stop()}}),null,null,null,Promise)}));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e.booking=function(t){var n=e.state.booking;n.StartTime=t.start,n.EndTime=t.end,e.setState({booking:n,visibleBook:!0})},e.viewdata=function(t){return e.setState({visibleEvent:!0,dataEvent:t})},e._getlistroom=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","getlistroom"),t.append("companycode",e.login.CompanyCode.toString()),a.next=5,pe.a.awrap($n(t));case 5:1===(n=a.sent).status&&n.data.length>0&&(e.state.booking.roomid=n.data[0].key,e.setState({list:n.data,room:n.data[0]},(function(){return e.load()})));case 7:case"end":return a.stop()}}),null,null,null,Promise)},e._getlistmeetingbooking=function(e,t,n){var a,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(a=new FormData).append("action","getlistmeetingbooking"),a.append("from",e),a.append("to",t),a.append("roomid",n),o.next=7,pe.a.awrap($n(a));case 7:if(1!==(r=o.sent).status){o.next=10;break}return o.abrupt("return",r.data);case 10:return o.abrupt("return",[]);case 11:case"end":return o.stop()}}),null,null,null,Promise)},e.onSelect=function(t){var n=e.state.booking;n.roomid=t.key,e.setState({room:t,booking:n},(function(){return e.load()}))},e.previous=function(){e.setState((function(e){return{today:ot()(e.today).add(-7,"day")}}),(function(){return e.load()}))},e.next=function(){e.setState((function(e){return{today:ot()(e.today).add(7,"day")}}),(function(){return e.load()}))},e._hide=function(){return e.setState({visibleEvent:!1})},e._hideBook=function(){return e.setState({visibleBook:!1})},e.onBooking=function(){e.load(),e.setState({visibleBook:!1})},e}return y()(n,[{key:"componentDidMount",value:function(){this._getlistroom()}},{key:"render",value:function(){for(var e=this,t=[],n=ot()("2019-01-01","YYYY-MM-DD"),a=420;a<=1080;a+=30)t.push(o.a.createElement(R.a,{key:a,style:{height:30,marginBottom:1}},o.a.createElement(re,null,ot()(n).add(a,"minute").format("HH:mm"))));return o.a.createElement(Hn.UserContext.Consumer,null,(function(n){var a=n.user;return e.login=a,o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flexDirection:"row",height:38,marginVertical:4}},o.a.createElement(Ot,{icon:{type:"MaterialCommunityIcons",name:"chevron-double-left"},onPress:e.previous}),o.a.createElement(De,{style:{flex:1},data:e.state.list,value:e.state.room,onClickDrop:function(t){return e.onSelect(t)}}),o.a.createElement(Ot,{icon:{type:"MaterialCommunityIcons",name:"chevron-double-right"},onPress:e.next})),o.a.createElement(He.a,{style:{flex:1}},o.a.createElement(R.a,{style:{flex:1,flexDirection:"row"}},o.a.createElement(R.a,{style:{paddingTop:30,marginRight:1}},t),e.state.days)),o.a.createElement(Ge,{onDismiss:e._hide,visible:e.state.visibleEvent},o.a.createElement(Uo,{close:e._hide,data:e.state.dataEvent})),o.a.createElement(Ge,{onDismiss:e._hideBook,visible:e.state.visibleBook},o.a.createElement(Jo,{onBooking:e.onBooking,close:e._hideBook,data:e.state.booking})))}))}}]),n}(o.a.PureComponent);var Qo=function(e){return o.a.createElement(Xe,{onPress:function(){return e.select(e.data)},style:{flexDirection:"row",marginBottom:I.a.hairlineWidth}},o.a.createElement(Ze,null,e.data.RouteID),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(re,{style:{fontWeight:"400"}},e.data.Title),o.a.createElement(re,{style:{fontSize:10,flex:1}},""+e.data.Content),o.a.createElement(re,{style:{fontSize:8,textAlign:"right"}},ot()(e.data.CreatedDate,"YYYY-MM-DDTHH:mm:ss").format("dddd, MMMM Do YYYY, h:mm a"))))},Zo=function(e){var t=e.navigation,n=Object(r.useContext)(Hn.UserContext).user,a=Object(r.useState)({data:[],loading:!1}),i=s()(a,2),c=i[0],l=i[1],u=function(e){return t.navigate(e.RouteID,JSON.parse(e.Params))};Object(ca.useFocusEffect)(o.a.useCallback((function(){p()}),[])),Object(r.useEffect)((function(){p()}),[]);var p=function(){var e,t;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n){a.next=10;break}return l(ae()({},c,{loading:!0})),(e=new FormData).append("action","getnotification"),e.append("userid",n.UserID.toString()),a.next=7,pe.a.awrap($n(e));case 7:t=a.sent,l(ae()({},c,{loading:!1})),1===t.status&&l(ae()({},c,{data:t.data}));case 10:case"end":return a.stop()}}),null,null,null,Promise)};return o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(fe.a,{refreshing:c.loading,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,renderItem:function(e){var t=e.item,n=e.index;return o.a.createElement(Qo,{index:n,data:t,select:u})},data:c.data,extraData:c.loading}))};var $o=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:[]},e._load=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.user){a.next=8;break}return(t=new FormData).append("action","getnotification"),t.append("userid",e.user.Id),a.next=6,pe.a.awrap($n(t));case 6:1===(n=a.sent).status&&e.setState({data:n.data});case 8:case"end":return a.stop()}}),null,null,null,Promise)},e}return y()(n,[{key:"componentDidMount",value:function(){this._load()}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.user=n,o.a.createElement(He.a,{contentContainerStyle:{paddingTop:30}},o.a.createElement(fe.a,{renderItem:function(e){var t=e.item,n=e.index;return o.a.createElement(ei,{index:n,data:t})},data:[{key:"Title1"},{key:"Title2"},{key:"Title3"}]}))}))}}]),n}(o.a.Component),ei=function(e){return o.a.createElement(R.a,{style:{flexDirection:"row",borderBottomColor:"lightgray",borderBottomWidth:I.a.hairlineWidth,marginHorizontal:6}},o.a.createElement(Ke,{source:n(722)}),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(re,{style:{fontWeight:"400"}},e.data.title),o.a.createElement(re,null,e.data.descriptions)),o.a.createElement(R.a,{style:{justifyContent:"flex-end"}},o.a.createElement(Ne,{type:"MaterialIcons",size:24,name:"more-horiz",color:"darkgrey"})))};var ti=function(e){D()(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(a);function a(){return d()(this,a),t.apply(this,arguments)}return y()(a,[{key:"render",value:function(){return o.a.createElement(Xe,{style:{borderBottomColor:"lightgray",borderBottomWidth:I.a.hairlineWidth,flexDirection:"row",padding:10}},o.a.createElement(R.a,{style:{flexDirection:"row",flex:1}},o.a.createElement(R.a,{style:{justifyContent:"center",alignItems:"center",backgroundColor:"transparent"}},o.a.createElement($e,{size:40},o.a.createElement(Ke,{source:n(723),size:30}))),o.a.createElement(R.a,{style:{flex:1,paddingLeft:5,flexDirection:"column"}},o.a.createElement(re,{style:{fontWeight:"500"}},o.a.createElement(oe,null,"PAYROLLMONTH")," ",this.props.dataEpayroll.find((function(e){return"SALARYMONTH"===e.key})).value),o.a.createElement(re,{style:{fontSize:10}},this.props.dataEpayroll.find((function(e){return"PAYDATE"===e.key})).value))),o.a.createElement(R.a,{style:{flexDirection:"row",flex:1,justifyContent:"flex-end"}},o.a.createElement(R.a,{style:{flexDirection:"column",paddingLeft:10}},o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ne,{size:18,type:"MaterialIcons",name:"attach-money"}),o.a.createElement(re,{style:{marginHorizontal:4,fontWeight:"600"}},this.props.dataEpayroll.find((function(e){return"ACTUALLYGETSALARY"===e.key})).value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" vn\u0111")),o.a.createElement(re,null))))}}]),a}(o.a.Component);ti.defaultProps={dataEpayroll:[],index:0};var ni=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isFetching:!1,dataEPayroll:[]},e._gotoPayrollDetail=function(t){e.props.navigation.navigate("Payroll",{payrollData:t})},e._fecthDataEPayroll=function(){var t=e.props.route;e.setState({isFetching:!0},(function(){var n,a,r,o,i,c,s,l;return pe.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return n=new FormData,a=t.params,r=a.companycode,o=a.personalkey,i=a.usercode,c=a.years,n.append("action","getpayrollbymonth"),n.append("companycode",r),n.append("startmonth",c+"-01"),n.append("endmonth",c+"-12"),n.append("usercode",i),n.append("personalkey",o),u.next=10,pe.a.awrap($n(n));case 10:1===(s=u.sent).status?(l=[],s.data.forEach((function(e){var t=Object.keys(e).map((function(t){return{key:t.toUpperCase(),value:e[t]}}));l.push(t)})),e.setState({isFetching:!1,dataEPayroll:l})):e.setState({isFetching:!1});case 12:case"end":return u.stop()}}),null,null,null,Promise)}))},e._keyExtractor=function(e,t){return e+t},e._renderItem=function(t){var n=t.item,a=t.index;return o.a.createElement(w.a,{key:a,onPress:function(){e._gotoPayrollDetail(n)}},o.a.createElement(ti,{dataEpayroll:n,index:a}))},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({isFetching:!0},(function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe.a.awrap(e._fecthDataEPayroll());case 2:case"end":return t.stop()}}),null,null,null,Promise)}))}},{key:"render",value:function(){return o.a.createElement(Le,null,this.state.isFetching&&o.a.createElement(Ct,null),this.state.dataEPayroll.length>0?o.a.createElement(fe.a,{contentContainerStyle:{paddingVertical:6},data:this.state.dataEPayroll,keyExtractor:this._keyExtractor,renderItem:this._renderItem,showsVerticalScrollIndicator:!1}):!this.state.isFetching&&o.a.createElement(oe,{style:{textAlign:"center"}},"nodata"))}}]),n}(o.a.Component);var ai=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.hint,a=e.value,r=e.fonttype;return o.a.createElement(R.a,{style:[{flexDirection:"row",alignItems:"center",paddingHorizontal:10,paddingVertical:8,justifyContent:"space-between",flex:1},t]},o.a.createElement(R.a,{style:{flex:7}},n&&o.a.createElement(oe,{style:{fontFamily:r}},n)),o.a.createElement(R.a,{style:{flex:3}},o.a.createElement(re,{style:{textAlign:"right",fontFamily:r}},a)))}}]),n}(o.a.Component);function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}ai.defaultProps={fonttype:"roboto-light"};var ii=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this.props.paymentCard;return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(xt.a,{start:[0,1],end:[1,0],style:oi({marginTop:10,padding:24,borderRadius:12},B({elevation:16})),colors:n.gradient},o.a.createElement(re,{style:{color:"white",fontSize:20}},o.a.createElement(oe,{style:{color:"white"}},"PAYROLLMONTH")," ",e.SalaryMonth),o.a.createElement(re,{style:{marginBottom:20,fontSize:16,color:"white"}},e.EmpName+" - "+e.EmpID),o.a.createElement(R.a,{style:{flexDirection:"row",justifyContent:"space-between"}},o.a.createElement(R.a,null,o.a.createElement(oe,{style:{color:"white"}},"DEPARTMENT"),o.a.createElement(re,{style:{color:"white"}},e.Section)),o.a.createElement(R.a,{style:{alignItems:"flex-end"}},o.a.createElement(oe,{style:{color:"white"}},"PAYDATE"),o.a.createElement(re,{style:{color:"white"}},e.PayDate))))}))}}]),n}(o.a.Component);var ci=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isFetching:!0,dataEPay:[],objHeaderCard:{}},e._load=function(){var t=e.props,n=(t.navigation,t.route.params.payrollData),a={SalaryMonth:n.find((function(e){return"SALARYMONTH"===e.key})).value,EmpName:n.find((function(e){return"EMPNAME"===e.key})).value,EmpID:n.find((function(e){return"EMPID"===e.key})).value,Section:n.find((function(e){return"SECTION"===e.key})).value,PayDate:n.find((function(e){return"PAYDATE"===e.key})).value};e.setState({isFetching:!1,dataEPay:n,objHeaderCard:a})},e.renderPayrollCard=function(e){return o.a.createElement(ii,{key:e.usercode,paymentCard:e})},e.renderGroupTitle=function(e){var t={BASICSALP:"SALARYINFORMATION",HOLIDAYDAYS:"VACATIONINFORMATION",OT:"OVERTIMEINFORMATION",SUBSIDY_BH21:"SUBSIDIZEINFORMATION",FULLATTENDANCE:"REWARDINFORMATION",LABOR_TOTALBH:"FEEINFORMATION",ACTUALLYGETSALARY:""};return"undefined"===typeof t[e.key]?o.a.createElement(Xe,{key:e.key,style:{marginBottom:I.a.hairlineWidth}},o.a.createElement(ai,{hint:e.key,value:0===e.value?"-":e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")})):o.a.createElement(Xe,{key:e.key,style:{marginBottom:I.a.hairlineWidth,marginTop:10}},""!==t[e.key]?o.a.createElement(jt,null,t[e.key]):null,o.a.createElement(ai,{fonttype:"ACTUALLYGETSALARY"===e.key?"roboto-medium":"roboto-light",hint:e.key,value:0===e.value?"-":e.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}))},e}return y()(n,[{key:"componentDidMount",value:function(){this._load()}},{key:"render",value:function(){var e=this;return o.a.createElement(Le,null,o.a.createElement(He.a,null,this.state.isFetching?o.a.createElement(Ct,{size:"large",color:"#1dd1a1"}):o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flex:1,justifyContent:"space-between",paddingVertical:24,paddingHorizontal:12}},this.renderPayrollCard(this.state.objHeaderCard)),this.state.dataEPay.map((function(t,n){return["SALARYMONTH","PAYDATE","EMPID","EMPNAME","SECTION"].includes(t.key)?null:e.renderGroupTitle(t)})))))}}]),n}(o.a.Component),si=n(503),li=n.n(si),ui=n(166);function pi(e){try{JSON.parse(e)}catch(t){return!1}return!0}function fi(e,t){for(var n=[],a=0;a<t;a++)n.push({key:a.toString(),label:e+a});return n}var mi=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={scanned:!1,validpassword:!1,password:"",errorcard:!1,visibleDateSelectPicker:!1,valueselect:fi(2010,21).filter((function(e){return 2019===e.label}))[0]},e._handleBarCodeRead=function(t){t.type;var n=t.data;e.setState({scanned:!0},(function(){var t=pi(n)?JSON.parse(n):null;t&&t.uc===e.login.UserCodeID&&t.pw===e.login.RePassword?e.props.navigation.navigate("ListPayroll",{usercode:t.uc,password:t.pw,personalkey:t.pk,privatekey:e.generatePrivateKey(),years:e.state.valueselect.label,companycode:""+e.login.CompanyCode}):e.setState({errorcard:!0})}))},e.onSelect=function(t){return e.setState({valueselect:t})},e.checkpassword=function(){li()(e.state.password)===e.login.UserPass?e.setState({validpassword:!1,password:""},(function(){e.props.navigation.navigate("ListPayroll",{usercode:e.login.EmployeeID,password:e.login.UserPass,personalkey:e.login.pk,privatekey:e.generatePrivateKey(),years:e.state.valueselect.label,companycode:""+e.login.CompanyCode})})):e.setState({validpassword:!0})},e.requestPermissionsAsync=function(){var e;return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe.a.awrap(ui.a.requestPermissionsAsync());case 2:e=t.sent,e.status;case 5:case"end":return t.stop()}}),null,null,null,Promise)},e}return y()(n,[{key:"generatePrivateKey",value:function(){var e=this.login.IdentityCard,t=this.login.UserCodeID,n=ot()(this.login.Birthday).year();return e.substring(0,3)+t+e.substring(3,6)+n+e.substring(6,e.length)}},{key:"componentDidMount",value:function(){this.requestPermissionsAsync()}},{key:"render",value:function(){var e=this,t=this.state,n=t.scanned,a=t.errorcard;return o.a.createElement(Bo.b.Consumer,null,(function(t){var r=t.user;return e.login=r,"qrcode"===r.typelogin?o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flex:2,justifyContent:"center",paddingHorizontal:"5%"}},o.a.createElement(oe,{style:{marginVertical:5}},"REQUESTPASSWORD"),o.a.createElement(wt,{icon:{type:"Entypo",name:"lock"},secureTextEntry:!0,value:e.state.password,onChangeText:function(t){return e.setState({password:t})}}),e.state.validpassword&&o.a.createElement(oe,null,"FAILED"),o.a.createElement(Dt,{onPress:e.checkpassword},"OK"))):o.a.createElement(Le,null,o.a.createElement(ui.a,{onBarCodeScanned:n?null:e._handleBarCodeRead,style:[I.a.absoluteFillObject,{overflow:"hidden"}]},o.a.createElement(De,{data:fi(2010,21),value:e.state.valueselect,onClickDrop:e.onSelect}),o.a.createElement(R.a,{style:{flex:1,alignItems:"center",justifyContent:"center"}},o.a.createElement(R.a,{style:{width:G(40),height:G(40),borderRadius:G(4),borderWidth:2,borderColor:"red"}},a&&o.a.createElement(oe,{style:{textAlign:"center",fontSize:24,color:"red"}},"QRINVALID"))),n&&o.a.createElement(R.a,{style:{alignItems:"center"}},o.a.createElement(se,{onPress:function(){return e.setState({scanned:!1,errorcard:!1})}},"SWIPEQRAGAIN"))))}))}}]),n}(o.a.Component),di=Object(r.memo)((function(e){var t=e.data,n=e.CompanyCode,a=e.navigation,r={};return t.reaction&&t.reaction.forEach((function(e){r[e.TypeEvent]=e.Couter})),o.a.createElement(Z,{onPress:function(){a.navigate("DetailPortal",{postid:t.PostID})},style:{padding:0}},o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{borderTopLeftRadius:4,borderTopRightRadius:4,maxHeight:180,overflow:"hidden"}},o.a.createElement(Ue.a,{source:{uri:ea("fileportalavartar",t.ImageAvatar)},resizeMode:"cover",style:{width:"100%",borderTopRightRadius:4,borderTopLeftRadius:4,height:180}})),o.a.createElement(R.a,{style:[I.a.absoluteFillObject,{backgroundColor:"rgba(0, 0, 0, 0.56)",borderTopRightRadius:4,borderTopLeftRadius:4,padding:6}]},o.a.createElement(R.a,{style:{flex:1,justifyContent:"space-between",margin:10}},o.a.createElement(R.a,null,o.a.createElement(re,{numberOfLines:2,style:{fontWeight:"bold",paddingVertical:10,color:"white"}},t.PostName),o.a.createElement(re,{style:{color:"white"},numberOfLines:2},t.Sumary))))),o.a.createElement(R.a,{style:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingHorizontal:10,minHeight:50,borderBottomLeftRadius:10,borderBottomRightRadius:10}},o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ke,{size:38,source:{uri:n&&Qn(n.toString(),t.CreatorImage)}}),o.a.createElement(R.a,{style:{paddingLeft:5,flexDirection:"column"}},o.a.createElement(re,{style:{fontWeight:"500"}},t.UserName),o.a.createElement(re,{style:{fontSize:10}},ot()(t.CreateDate,"YYYY-MM-DDTHH:mm:SS").format("YYYY-MM-DD HH:mm")))),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ne,{size:20,type:"FontAwesome",name:"heart-o",color:"red"}),o.a.createElement(re,{style:{marginHorizontal:4}},r.HEART)),o.a.createElement(R.a,{style:{flexDirection:"row",paddingLeft:10}},o.a.createElement(Ne,{size:20,type:"FontAwesome",name:"comments-o",color:"red"}),o.a.createElement(re,{style:{marginHorizontal:4}},r.COMMENT)),o.a.createElement(R.a,{style:{flexDirection:"row",paddingLeft:10}},o.a.createElement(Ne,{size:20,type:"AntDesign",name:"eyeo",color:"red"}),o.a.createElement(re,{style:{marginHorizontal:4}},r.VIEW)))))}));function hi(e){var t=e.navigation,n=Object(r.useContext)(Hn.UserContext).user,a=Object(r.useState)({data:[],loading:!1}),i=s()(a,2),c=i[0],l=i[1],u=function(){var e,t;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return l(ae()({},c,{loading:!0})),(e=new FormData).append("action","getnews"),e.append("companycode",n.CompanyCode.toString()),a.next=6,pe.a.awrap($n(e));case 6:t=a.sent,l(ae()({},c,{loading:!1})),1===t.status&&l(ae()({},c,{data:t.data,loading:!1}));case 9:case"end":return a.stop()}}),null,null,null,Promise)};return Object(ca.useFocusEffect)(o.a.useCallback((function(){u()}),[])),Object(r.useEffect)((function(){u()}),[]),o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(fe.a,{extraData:c.loading,refreshing:c.loading,onRefresh:u,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,keyExtractor:function(e){return e.PostID},data:c.data,renderItem:function(e){var a=e.item;return o.a.createElement(di,{CompanyCode:n&&n.CompanyCode,navigation:t,data:a})}}))}var yi=n(95);function gi(e){var t=e.data,n=e.CompanyCode,a=e.onPress;return o.a.createElement(w.a,{onPress:a},o.a.createElement(qe,null),o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ke,{size:32,source:{uri:Qn(n.toString(),t.UrlImage)}}),o.a.createElement(Z,{style:{flex:1,borderRadius:6}},o.a.createElement(re,null,t.UserName),o.a.createElement(re,{style:{fontSize:11}},t.Content))),o.a.createElement(R.a,{style:{marginLeft:40}},o.a.createElement(re,{style:{fontSize:8}},ot()(t.DateCreate,"YYYY-MM-DDTHH:mm:SS").format("MM-DD HH:mm"))))}function vi(e){var t=e.data,n=e.CompanyCode,a=e.onPress,i=e.onViewcommentReply,c=e.onLike,l=function(){return i(t.CommentID,t.Content,t)},u=Object(r.useState)(null),p=s()(u,2),f=p[0],m=p[1],d=Object(r.useState)(!1),h=s()(d,2),y=h[0],g=h[1];return Object(r.useEffect)((function(){if(t&&t.isHeart&&g(!0),t&&t.reaction){var e={};t.reaction.forEach((function(t){e[t.TypeEvent]=t.Couter})),m(e)}}),[t]),t?o.a.createElement(R.a,null,o.a.createElement(Be.e,{onPress:a},o.a.createElement(R.a,{style:{flexDirection:"row",paddingBottom:6}},o.a.createElement(Ke,{size:44,source:{uri:Qn(n.toString(),t.UrlImage)}}),o.a.createElement(Z,{style:{flex:1,borderRadius:12}},o.a.createElement(re,{style:{fontSize:16}},t.UserName),o.a.createElement(re,null,t.Content)))),o.a.createElement(R.a,{style:{flexDirection:"row",paddingLeft:40,alignItems:"flex-end"}},o.a.createElement(re,{style:{fontSize:10,textAlign:"right",marginRight:20}},ot()(t.DateCreate,"YYYY-MM-DDTHH:mm:SS").format("MM-DD HH:mm")),o.a.createElement(Be.e,{onPress:function(){g(!0),c(t.CommentID)},style:{flexDirection:"row",alignItems:"flex-end",marginHorizontal:4}},o.a.createElement(Ne,{color:"red",size:16,type:"AntDesign",name:y?"heart":"hearto"}),o.a.createElement(re,{style:{minWidth:30,marginHorizontal:4}},f?f.HEART:"0")),o.a.createElement(Be.e,{onPress:l,style:{marginHorizontal:8}},o.a.createElement(re,null,"Reply"))),o.a.createElement(R.a,{style:{paddingLeft:"20%",marginTop:10}},o.a.createElement(fe.a,{data:t.comment,renderItem:function(e){var t=e.item;return o.a.createElement(gi,{onPress:l,CompanyCode:n,data:t})},keyExtractor:function(e){return e.CommentID}})),o.a.createElement(qe,null)):null}var Ei=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(e){var a;return d()(this,n),(a=t.call(this,e)).isMouted=!1,a.load=function(){a._getnewdetail(),a._portalinfor()},a.state={data:{Content:[],CreateDate:"",Creator:"",Mode:"",PostID:"",PostName:"",PostTypeID:"",Slug:"",Status:"",Sumary:"",UserEditor:"",UserID:""},valuemessage:"",isheart:!1,comment:[],reacttion:{},showComment:!1,content:null,loading:!1},a._getnewdetail=function(){return pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!0},(function(){var e,t,n,r,o,i;return pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return e=a.props,t=e.route,n=e.navigation,r=t.params.postid,(o=new FormData).append("action","getnewdetail"),o.append("id",r),o.append("userid",a.login.UserID.toString()),c.next=8,pe.a.awrap($n(o));case 8:1===(i=c.sent).status&&(a.isMouted&&a.renderDelta(i.data.Content),a.isMouted&&a.setState({data:i.data,loading:!1}),a.isMouted&&n&&n.setParams({title:i.data.PostName}));case 10:case"end":return c.stop()}}),null,null,null,Promise)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},a._portalinfor=function(){var e,t,n,r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=a.props.route,t=e.params.postid,(n=new FormData).append("action","portalinfor"),n.append("id",t),n.append("userid",a.login.UserID.toString()),i.next=8,pe.a.awrap($n(n));case 8:1===(r=i.sent).status&&(o={},r.data.reaction.forEach((function(e){o[e.TypeEvent]=e.Couter})),a.isMouted&&a.setState({isheart:!!r.data.isHeart,comment:r.data.comment?r.data.comment:[],reacttion:o}));case 10:case"end":return i.stop()}}),null,null,null,Promise)},a.onChangeMessage=function(e){return a.setState({valuemessage:e})},a.send=function(){var e,t,n,r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(""===a.state.valuemessage){i.next=12;break}return e=a.props.route,t=e.params.postid,(n=new FormData).append("action","portalcomment"),n.append("id",t),n.append("userid",a.login.UserID.toString()),n.append("content",a.state.valuemessage),i.next=10,pe.a.awrap($n(n));case 10:1===(r=i.sent).status&&r.data&&((o=a.state.comment).push({CommentID:C()(),Content:a.state.valuemessage,DateCreate:ot()().format("MM-DD HH:mm"),UrlImage:a.login.UrlImage,UserName:a.login.UserName}),a.setState({valuemessage:"",comment:o}));case 12:case"end":return i.stop()}}),null,null,null,Promise)},a.like=function(){var e,t,n,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=a.props.route,t=e.params.postid,(n=new FormData).append("action","portalreaction"),n.append("id",t),n.append("userid",a.login.UserID.toString()),n.append("reaction","HEART"),o.next=9,pe.a.awrap($n(n));case 9:1===(r=o.sent).status&&r.data&&a.isMouted&&a.setState({isheart:!0});case 11:case"end":return o.stop()}}),null,null,null,Promise)},a.onLike=function(e){var t=new FormData;t.append("action","portalreaction"),t.append("id",e),t.append("userid",a.login.UserID.toString()),t.append("reaction","HEART"),$n(t)},a.viewcomment=function(){a.props.navigation.navigate("PortalFeedback",{title:a.state.data.PostName,idpost:a.state.data.PostID})},a.ViewcommentReply=function(e,t,n){a.props.navigation.navigate("PortalFeedbackReply",{title:t,idpost:e,data:n})},a}return y()(n,[{key:"componentDidMount",value:function(){this.load(),this.isMouted=!0}},{key:"componentWillUnmount",value:function(){this.isMouted=!1}}]),y()(n,[{key:"renderDelta",value:function(e){var t=this,n=[],a=[],r=0;e.forEach((function(i){var c=function(){};i.attributes&&i.attributes.link&&(c=function(){return Ca.a.openURL(i.attributes.link)}),i.insert.text&&a.push(o.a.createElement(re,{onPress:c,style:Di(i.attributes),key:i.id},i.insert.text)),(null===i.insert.text&&null===i.insert.image||r===e.length-1)&&(n.push(o.a.createElement(re,{style:[{flex:1},Di(i.attributes)],key:"G"+i.id},xi(i.attributes),a)),a=[]),i.insert.image&&n.push(o.a.createElement(Ue.a,{key:i.id,style:{minHeight:200,width:"100%"},resizeMode:"contain",source:{uri:i.insert.image.includes("http")?i.insert.image:ea("fileportalcontent",i.insert.image)}})),++r%10!==0&&r!==e.length-1||t.setState({content:n})}))}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(Le,null,o.a.createElement(Ia.a,{style:{flex:1,justifyContent:"space-between"},keyboardVerticalOffset:83,behavior:"padding"},o.a.createElement(He.a,{style:{flex:1,marginBottom:30},refreshControl:o.a.createElement(yi.a,{refreshing:e.state.loading,onRefresh:e.load})},o.a.createElement(R.a,{style:{paddingHorizontal:6}},e.state.content),o.a.createElement(fe.a,{ListHeaderComponent:o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end"}},o.a.createElement(w.a,{onPress:e.like,style:{flexDirection:"row",alignItems:"flex-end",marginHorizontal:4}},o.a.createElement(Ne,{size:28,type:"AntDesign",name:e.state.isheart?"heart":"hearto"}),o.a.createElement(re,{style:{fontSize:22,minWidth:30,marginHorizontal:4}},e.state.reacttion.HEART)),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end",marginHorizontal:4}},o.a.createElement(Ne,{size:28,type:"AntDesign",name:"eyeo"}),o.a.createElement(re,{style:{fontSize:22,minWidth:30,marginHorizontal:4}},e.state.reacttion.VIEW)),o.a.createElement(w.a,{onPress:e.viewcomment,style:{flexDirection:"row",alignItems:"flex-end",marginHorizontal:4}},o.a.createElement(Ne,{size:28,type:"AntDesign",name:"message1"}),o.a.createElement(re,{style:{fontSize:22,minWidth:30,marginHorizontal:4}},e.state.reacttion.COMMENT))),data:e.state.comment,renderItem:function(t){var a=t.item;return o.a.createElement(vi,{onLike:e.onLike,onViewcommentReply:e.ViewcommentReply,onPress:e.viewcomment,CompanyCode:n.CompanyCode,data:a})},keyExtractor:function(e){return e.CommentID}})),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(wt,{style:{flex:1},value:e.state.valuemessage,onChangeText:e.onChangeMessage}),o.a.createElement(bi,{onPress:e.send}))))}))}}]),n}(o.a.PureComponent),bi=function(e){return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(w.a,{onPress:e.onPress,style:{height:36,width:36,borderRadius:20,justifyContent:"center",alignItems:"center",margin:2,backgroundColor:n.primary}},o.a.createElement(Ne,{type:"Ionicons",name:"md-send",size:22,color:"white"}))}))};function xi(e){var t="";return e?(e.blockquote&&(t+="\u275a"),"bullet"===e.list&&(t+="\u25cf"),t):t}function Di(e){var t={};if(e){var n=e.header,a=e.color,r=e.bold,o=e.background,i=e.align;n&&1===n&&(t.fontSize=20,t.fontWeight="bold",t.fontFamily="roboto-medium"),n&&2===n&&(t.fontSize=14,t.fontWeight="bold",t.fontFamily="roboto-medium"),a&&(t.color="windowtext"===a?null:a),r&&(t.fontWeight="bold",t.fontFamily="roboto-medium"),o&&(t.backgroundColor=o),i&&(t.textAlign=i)}return t}var wi=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={data:[],refeshlist:!1,valuemessage:"",idpost:"",groupid:"",showScrollBottom:!1},e.updatemessage=function(t){e.state.data.splice(0,0,{CommentID:C()(),Content:t.Content,DateCreate:ot()().format("MM-DD HH:mm"),UrlImage:t.UrlImage,UserName:t.UserName}),e.setState((function(e){return{refeshlist:!e.refeshlist}}))},e._portalgetfeedback=function(t){var n,a,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(n=new FormData).append("action","portalgetfeedback"),n.append("id",t),n.append("userid",""+e.login.UserID),o.next=6,pe.a.awrap($n(n));case 6:1===(a=o.sent).status&&(r=a.data).length>0&&e.setState((function(e){return{data:r,refeshlist:!e.refeshlist}}));case 8:case"end":return o.stop()}}),null,null,null,Promise)},e.onLike=function(t){var n=new FormData;n.append("action","portalreaction"),n.append("id",t),n.append("userid",e.login.UserID.toString()),n.append("reaction","HEART"),$n(n)},e.ViewcommentReply=function(t,n,a){e.props.navigation.navigate("PortalFeedbackReply",{title:n,idpost:t,data:a})},e._keyExtractor=function(e){return""+e.CommentID},e._renderItem=function(t){var n=t.item;return o.a.createElement(vi,{onLike:e.onLike,onViewcommentReply:e.ViewcommentReply,CompanyCode:e.login.CompanyCode,data:n})},e.send=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(""===e.state.valuemessage){a.next=10;break}return(t=new FormData).append("action","portalcomment"),t.append("id",e.state.idpost),t.append("userid",e.login.UserID.toString()),t.append("content",e.state.valuemessage),a.next=8,pe.a.awrap($n(t));case 8:1===(n=a.sent).status&&n.data&&(e.io.emit("feedback",{CommentID:C()(),Content:e.state.valuemessage,DateCreate:ot()().format("MM-DD HH:mm"),UrlImage:e.login.UrlImage,UserName:e.login.UserName,idpost:e.state.idpost}),e.setState({valuemessage:""}));case 10:case"end":return a.stop()}}),null,null,null,Promise)},e.onChangeMessage=function(t){return e.setState({valuemessage:t})},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.route.params.idpost;this.io.emit("joingrouppost",t),this.io.on("sendfeedback",(function(t){e.updatemessage(t)})),""!==t&&this.setState({idpost:t},(function(){return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e._portalgetfeedback(t);case 1:case"end":return n.stop()}}),null,null,null,Promise)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.SocketContext.Consumer,null,(function(t){var n=t.state.socket;return e.io=n,o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(Le,null,o.a.createElement(Ia.a,{style:{flex:1,justifyContent:"space-between"},keyboardVerticalOffset:83,behavior:"padding"},o.a.createElement(R.a,{style:{flex:1,paddingBottom:30}},o.a.createElement(fe.a,{keyExtractor:e._keyExtractor,ref:function(t){return e.flatList=t},data:e.state.data,extraData:""+e.state.data.length,renderItem:e._renderItem,inverted:!0,automaticallyAdjustContentInsets:!1,getItemLayout:function(e,t){return{length:40,offset:40*t,index:t}}})),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center",paddingBottom:6}},o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(wt,{value:e.state.valuemessage,onChangeText:e.onChangeMessage})),o.a.createElement(Si,{onPress:e.send}))))}))}))}}]),n}(o.a.PureComponent),Si=function(e){return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(w.a,{onPress:e.onPress,style:{height:36,width:36,borderRadius:20,justifyContent:"center",alignItems:"center",margin:2,backgroundColor:n.primary}},o.a.createElement(Ne,{type:"Ionicons",name:"md-send",size:22,color:"white"}))}))};function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ki(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oi(e){var t=e.data,n=e.CompanyCode,a=e.onPress,i=e.onViewcommentReply,c=e.onLike,l=Object(r.useState)(null),u=s()(l,2),p=u[0],f=u[1],m=Object(r.useState)(!1),d=s()(m,2),h=d[0],y=d[1];return Object(r.useEffect)((function(){if(t&&t.isHeart&&y(!0),t&&t.reaction){var e={};t.reaction.forEach((function(t){e[t.TypeEvent]=t.Couter})),f(e)}}),[t]),t?o.a.createElement(R.a,null,o.a.createElement(Be.e,{onPress:a},o.a.createElement(R.a,{style:{flexDirection:"row",paddingBottom:6}},o.a.createElement(Ke,{size:44,source:{uri:Qn(n.toString(),t.UrlImage)}}),o.a.createElement(Z,{style:ki({flex:1,borderRadius:12},B({elevation:4}))},o.a.createElement(re,{style:{fontSize:16}},t.UserName),o.a.createElement(re,null,t.Content)))),o.a.createElement(R.a,{style:{flexDirection:"row",paddingLeft:40,alignItems:"flex-end"}},o.a.createElement(re,{style:{fontSize:10,textAlign:"right",marginRight:20}},ot()(t.DateCreate,"YYYY-MM-DDTHH:mm:SS").format("MM-DD HH:mm")),o.a.createElement(Be.e,{onPress:function(){y(!0),c(t.CommentID)},style:{flexDirection:"row",alignItems:"flex-end",marginHorizontal:4}},o.a.createElement(Ne,{color:"red",size:16,type:"AntDesign",name:h?"heart":"hearto"}),o.a.createElement(re,{style:{minWidth:30,marginHorizontal:4}},p?p.HEART:"0")),i&&o.a.createElement(Be.e,{onPress:function(){return i&&i(t.CommentID,t.Content,t)},style:{marginHorizontal:8}},o.a.createElement(re,null,"Reply"))),o.a.createElement(qe,null)):null}var Ri=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={data:[],refeshlist:!1,valuemessage:"",idpost:"",groupid:"",showScrollBottom:!1,obj:null},e.updatemessage=function(t){e.state.data.splice(0,0,{CommentID:C()(),Content:t.Content,DateCreate:new Date,UrlImage:t.UrlImage,UserName:t.UserName}),e.setState((function(e){return{refeshlist:!e.refeshlist}}))},e._portalgetfeedback=function(t){var n,a,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return(n=new FormData).append("action","portalgetfeedback"),n.append("id",t),n.append("userid",""+e.login.UserID),o.next=6,pe.a.awrap($n(n));case 6:1===(a=o.sent).status&&(r=a.data).length>0&&e.setState((function(e){return{data:r,refeshlist:!e.refeshlist}}));case 8:case"end":return o.stop()}}),null,null,null,Promise)},e._keyExtractor=function(e){return""+e.CommentID},e._renderItem=function(t){var n=t.item;return o.a.createElement(gi,{CompanyCode:e.login.CompanyCode,data:n})},e.send=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(""===e.state.valuemessage){a.next=10;break}return(t=new FormData).append("action","portalcomment"),t.append("id",e.state.idpost),t.append("userid",e.login.UserID.toString()),t.append("content",e.state.valuemessage),a.next=8,pe.a.awrap($n(t));case 8:1===(n=a.sent).status&&n.data&&(e.io.emit("feedback",{CommentID:C()(),Content:e.state.valuemessage,DateCreate:new Date,UrlImage:e.login.UrlImage,UserName:e.login.UserName,idpost:e.state.idpost}),e.setState({valuemessage:""}));case 10:case"end":return a.stop()}}),null,null,null,Promise)},e.onChangeMessage=function(t){return e.setState({valuemessage:t})},e.onLike=function(t){var n=new FormData;n.append("action","portalreaction"),n.append("id",t),n.append("userid",e.login.UserID.toString()),n.append("reaction","HEART"),$n(n)},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.route.params,n=t.idpost,a=t.data;this.io.emit("joingrouppost",n),this.io.on("sendfeedback",(function(t){e.updatemessage(t)})),""!==n&&this.setState({idpost:n,obj:a},(function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e._portalgetfeedback(n);case 1:case"end":return t.stop()}}),null,null,null,Promise)}))}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.SocketContext.Consumer,null,(function(t){var n=t.state.socket;return e.io=n,o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(Le,null,o.a.createElement(Ia.a,{style:{flex:1,justifyContent:"space-between"},keyboardVerticalOffset:83,behavior:"padding"},o.a.createElement(Oi,{CompanyCode:n.CompanyCode,data:e.state.obj,onLike:e.onLike}),o.a.createElement(R.a,{style:{flex:1,paddingBottom:30}},o.a.createElement(fe.a,{contentContainerStyle:{paddingLeft:"10%"},keyExtractor:e._keyExtractor,ref:function(t){return e.flatList=t},data:e.state.data,extraData:e.state.refeshlist,renderItem:e._renderItem,inverted:!0,automaticallyAdjustContentInsets:!1,getItemLayout:function(e,t){return{length:40,offset:40*t,index:t}}})),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center",paddingBottom:6}},o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(wt,{value:e.state.valuemessage,onChangeText:e.onChangeMessage})),o.a.createElement(Ii,{onPress:e.send}))))}))}))}}]),n}(o.a.PureComponent),Ii=function(e){return o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(w.a,{onPress:e.onPress,style:{height:36,width:36,borderRadius:20,justifyContent:"center",alignItems:"center",margin:2,backgroundColor:n.primary}},o.a.createElement(Ne,{type:"Ionicons",name:"md-send",size:22,color:"white"}))}))};function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ti=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){return o.a.createElement(Z,{style:Mi({flex:1,borderRadius:12},B({elevation:20}))},o.a.createElement(R.a,{style:{marginTop:-10}},o.a.createElement(w.a,{style:{padding:0,alignItems:"center",justifyContent:"center",minHeight:40},onPress:this.props.close},o.a.createElement(Ne,{size:32,type:"Feather",name:"chevron-down"}))),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(Je,{resizeMode:"cover",source:{uri:this.props.urlImage}})))}}]),n}(o.a.Component),Yi=n(447),ji=n(184);function Ai(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ai(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ai(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _i=U.a.get("window");function Li(e){var t=e.onViewAvatar,a=e.navigation,i=Object(r.useState)([]),c=s()(i,2),l=c[0],u=c[1],p=Object(r.useState)(!1),f=s()(p,2),m=f[0],d=f[1],h=Object(r.useState)(!1),y=s()(h,2),g=y[0],v=y[1],E=Object(r.useState)({}),b=s()(E,2),x=b[0],D=b[1];function S(){v(!1)}var C=Object(r.useContext)(Hn.UserContext);return Object(r.useEffect)((function(){!function(){var e,t;pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=new FormData).append("action","getcolleague"),e.append("department",C.user.Department),e.append("team",C.user.Team),e.append("companycode",C.user.CompanyCode.toString()),e.append("userid",C.user.UserID.toString()),n.next=8,pe.a.awrap($n(e));case 8:t=n.sent,u(1===t.status?JSON.parse(t.data):[]);case 10:case"end":return n.stop()}}),null,null,null,Promise)}()}),[]),o.a.createElement(Le,null,o.a.createElement(fe.a,{showsVerticalScrollIndicator:!1,style:{marginHorizontal:"1%"},data:!0===m?l:l.slice(0,6),numColumns:3,renderItem:function(e){var t=e.item;return o.a.createElement(Z,{onPress:function(){!function(e){v(!0),D(e)}(t)},style:{flex:1,padding:0}},o.a.createElement(Ue.a,{style:{width:"100%",height:_i.height/4,borderRadius:4},resizeMode:"stretch",source:{uri:Qn(t.CompanyCode.toString(),t.UrlImage)}}),o.a.createElement(re,{style:{textAlign:"center",marginVertical:10}},t.UserName))},keyExtractor:function(e,t){return t.toString()},ListHeaderComponent:o.a.createElement(R.a,null,o.a.createElement(ji.a,{source:n(748),style:[Fi.header,{height:240}]},o.a.createElement(w.a,{style:{height:120,width:120,justifyContent:"center",alignItems:"center",alignSelf:"center",marginTop:60},onPress:t},o.a.createElement(Ue.a,{style:Fi.headerImageStyle,source:{uri:Qn(C.user.CompanyCode.toString(),C.user.UrlImage)}})),o.a.createElement(R.a,{style:Fi.headerTextStyle},o.a.createElement(re,{style:Fi.title},C.user.UserName),o.a.createElement(re,null,"(",C.user.UserNameEN,")"))),o.a.createElement(re,null,o.a.createElement(oe,{style:{margin:5}},"COLLEAGUELIST"),o.a.createElement(re,null,"(",l.length,")"))),ListFooterComponent:!0!==m?o.a.createElement(se,{style:{borderRadius:20,height:40,minWidth:60,backgroundColor:"#dfe4ea",marginVertical:5},onPress:function(){d(!0)}},o.a.createElement(oe,{style:{color:"#2f3542"}},"SHOWALLFRIEND")):o.a.createElement(se,{style:{borderRadius:20,height:40,minWidth:60,backgroundColor:"#dfe4ea",marginVertical:5},onPress:function(){d(!1)}},o.a.createElement(oe,{style:{color:"#2f3542"}},"COLLAPSE"))}),o.a.createElement(Ge,{onDismiss:S,visible:g,contentContainerStyle:{justifyContent:"center",alignItems:"center"}},o.a.createElement(Z,{style:Ni({flex:1,borderRadius:12},B({elevation:20}))},o.a.createElement(Ot,{style:{alignItems:"center",marginTop:-5},icon:{type:"Feather",name:"chevron-down"},onPress:S}),o.a.createElement(He.a,null,o.a.createElement(R.a,{style:{alignItems:"center"}},void 0!==x.UserCodeID&&o.a.createElement(Ke,{size:240,source:{uri:x?Qn(x.CompanyCode.toString(),x.UrlImage):" "}})),o.a.createElement(R.a,{style:{alignItems:"center",flexDirection:"row",justifyContent:"center",padding:10}},o.a.createElement(Ot,{style:{alignItems:"center"},icon:{type:"Ionicons",name:"ios-call",color:"#2ecc71"},onPress:function(){var e;e=x.UserPhoneLocal,Yi.a.openURL("tel:+84 "+e.substring(1,e.length))},size:36}),o.a.createElement(Ot,{style:{alignItems:"center"},icon:{type:"Ionicons",name:"ios-chatboxes",color:"#e67e22"},onPress:function(){return a.navigate("Chat")},size:36})),o.a.createElement(jt,null,"PERSONALINFORMATION"),o.a.createElement(re,null,o.a.createElement(oe,null,"EMPNAME"),": ",x.UserName+"("+x.UserNameEN+")"),o.a.createElement(re,null,o.a.createElement(oe,null,"DATEOFBIRTH"),": ",x.Birthday),o.a.createElement(re,null,o.a.createElement(oe,null,"NATIONALITY"),": ",x.Nationality),o.a.createElement(re,null,o.a.createElement(oe,null,"PHONE"),": ",x.UserPhoneLocal),o.a.createElement(re,null,o.a.createElement(oe,null,"ADDRESS"),": ",x.Address)))))}var Fi=I.a.create({header:{marginBottom:10,backgroundColor:"#fafafa",borderBottomColor:"#000"},title:{backgroundColor:"transparent",color:"#000",fontSize:18,fontWeight:"500"},headerImageStyle:{height:120,width:120,borderRadius:60,borderWidth:3,borderColor:"#fff",bottom:0,zIndex:1,alignSelf:"center",position:"absolute",resizeMode:"cover",marginTop:60},headerTextStyle:{height:60,bottom:0,left:0,right:0,zIndex:1,justifyContent:"center",alignItems:"center",position:"absolute",backgroundColor:"transparent"}});var Ui=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1,visibleShowImage:!1},e._hideImageUser=function(){return e.setState({visibleShowImage:!1})},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(Le,null,o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.usertext=n,o.a.createElement(Li,{navigation:e.props.navigation,onViewAvatar:function(){return e.setState({visibleShowImage:!0})}})})),o.a.createElement(Ge,{onDismiss:this._hideImageUser,visible:this.state.visibleShowImage,contentContainerStyle:{justifyContent:"center",alignItems:"center"}},o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return o.a.createElement(Ti,{close:e._hideImageUser,urlImage:Qn(n.CompanyCode.toString(),n.UrlImage)})}))))}}]),n}(o.a.Component);var Hi=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={data:{devicename:"",usercode:""}},e._requestlogin=function(t){na.a.alert("Continute","Do you want continute "+("1"===t?"Approve":"Reject"),[{text:"Cancel",onPress:function(){},style:"cancel"},{text:"OK",onPress:function(){var n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(n=new FormData).append("action","requestlogin"),n.append("devicename",e.state.data.devicename),n.append("usercode",e.login.UserCodeID),n.append("status",t),a.next=7,pe.a.awrap($n(n));case 7:1===a.sent.status?(na.a.alert("Request login","1"===t?"Approved for login on other.":"Rejected for login on other."),e.props.navigation.goBack()):na.a.alert("Request login","Approved failed");case 9:case"end":return a.stop()}}),null,null,null,Promise)}}],{cancelable:!1})},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this.props.route.params.data;this.setState({data:e})}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(Le,null,o.a.createElement(re,null,"Hello, Request Login"),o.a.createElement(re,null,"Has anyone tried to log in to your account on the device "+e.state.data.devicename),o.a.createElement(se,{onPress:function(){return e._requestlogin("1")}},"OK"),o.a.createElement(se,{onPress:function(){return e._requestlogin("2")}},"CANCEL"))}))}}]),n}(o.a.Component),zi=n(512),Wi=n(118);var Vi={cn:"\u4f60\u597d!",en:"Hello",vi:"Xin ch\xe0o!"},Bi={cn:"\u66f4",en:"Next",vi:"Ti\u1ebfp"},Gi={cn:"\u6ca1\u6709\u6570\u636e",en:"No data",vi:"Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"},Ki=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={valuelocale:{key:null,label:null},locale:null,loading:!1},e.toObject=function(e){for(var t={},n=0;n<e.length;++n)t[e[n].KEY]=e[n].VALUE;return t},e._load=function(){e.setState({loading:!0},(function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","loadresource"),t.append("locale",e.state.locale),a.next=5,pe.a.awrap($n(t));case 5:n=a.sent,e.setState({loading:!1}),n.status,n.data.length>0?Na(e.state.locale,"language")&&Na(JSON.stringify(e.toObject(n.data)),e.state.locale)&&(e.dispatch&&e.dispatch({type:ee,language:e.state.locale,lg:e.toObject(n.data)}),e.dispatchEvent&&e.dispatchEvent({type:q,view:{view:"Loading",data:{}}})):na.a.alert(Gi[e.state.locale],"");case 8:case"end":return a.stop()}}),null,null,null,Promise)}))},e}return y()(n,[{key:"componentDidMount",value:function(){var e=this.view.data.locale;e&&""!=e||(e=zi.a.split("-")[0]),this.setState({locale:e})}},{key:"render",value:function(){var e=this;return o.a.createElement(te.Consumer,null,(function(t){var n=t.dispatch,a=t.state.lg;return e.dispatch=n,e.lg=a,o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flex:1,justifyContent:"center"}},o.a.createElement(J.Consumer,null,(function(t){var n=t.state.view,a=t.dispatch;return e.view=n,e.dispatchEvent=a,o.a.createElement(re,{style:{textAlign:"center",fontSize:36}},Vi[e.state.locale])})),o.a.createElement(R.a,{style:{paddingHorizontal:"10%"}},o.a.createElement(F.Consumer,null,(function(t){var n=t.state;return o.a.createElement(Wi.a,{style:{minHeight:40},selectedValue:e.state.locale,onValueChange:function(t){return e.setState({locale:t})}},o.a.createElement(Wi.a.Item,{color:n.text,label:"English",value:"en"}),o.a.createElement(Wi.a.Item,{color:n.text,label:"Ti\u1ebfng vi\u1ec7t",value:"vi"}),o.a.createElement(Wi.a.Item,{color:n.text,label:"\u4e2d\u6587",value:"cn"}))})),o.a.createElement(se,{onPress:e._load,loading:e.state.loading},o.a.createElement(re,{style:{color:"#fff"}},Bi[e.state.locale])))))}))}}]),n}(o.a.Component);var qi=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.changeLanguage=function(t){return e._loadresource(t)},e.toObject=function(e){for(var t={},n=0;n<e.length;++n)t[e[n].KEY]=e[n].VALUE;return t},e._loadresource=function(t){e.setState({loading:!0},(function(){var n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=new FormData).append("action","loadresource"),n.append("locale",t),r.next=5,pe.a.awrap($n(n));case 5:a=r.sent,e.setState({loading:!1}),1===a.status&&a.data.length>0?Na(t,"language")&&Na(JSON.stringify(e.toObject(a.data)),t)&&e.dispatch&&e.dispatch({type:ee,language:a,lg:e.toObject(a.data)}):na.a.alert(e.lg.FAILED,e.lg.LOG2);case 8:case"end":return r.stop()}}),null,null,null,Promise)}))},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(te.Consumer,null,(function(t){var n=t.dispatch,a=t.state.lg;return e.dispatch=n,e.lg=a,o.a.createElement(Le,null,o.a.createElement(Z,null,o.a.createElement(jt,null,"LANGUAGEAPPLIED"),e.state.loading?o.a.createElement(R.a,{style:{alignItems:"center",marginVertical:12}},o.a.createElement(Ct,{size:"large"})):o.a.createElement(R.a,{style:{alignItems:"center"}},o.a.createElement(oe,{style:{fontWeight:"900",fontSize:20}},"NATIONALLANGUAGE"),o.a.createElement(oe,null,"HELLO"))),o.a.createElement(Z,null,o.a.createElement(jt,null,"SUPPORTEDLANGUAGES"),o.a.createElement(fe.a,{data:[{key:"vi",title:"Ti\u1ebfng vi\u1ec7t"},{key:"en",title:"English"},{key:"cn",title:"\u4e2d\u6587"}],renderItem:function(t){var n=t.item;return o.a.createElement(w.a,{onPress:function(){return e.changeLanguage(n.key)},style:{marginHorizontal:2,padding:6,marginTop:2,height:40,justifyContent:"space-between"}},o.a.createElement(re,{style:{marginLeft:"5%"}},n.title),o.a.createElement(qe,null))}})))}))}}]),n}(o.a.Component);var Ji=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loadinglogout:!1,version:"",platform:""},e._logout=function(){e.setState({loadinglogout:!0},(function(){var t,n,a,r,o,i;return pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,pe.a.awrap(ut());case 2:if(t=c.sent,n=t.deviceId,a=t.isDevice,r=t.deviceName,o="emulator",!a){c.next=18;break}return c.prev=8,La("signin"),c.next=12,pe.a.awrap(zn.a.getExpoPushTokenAsync());case 12:o=c.sent,c.next=18;break;case 15:c.prev=15,c.t0=c.catch(8),o="token";case 18:return(i=new FormData).append("action","logout"),i.append("token",o),i.append("userid",e.login.UserID.toString()),i.append("devicename",r),i.append("deviceid",n),i.append("appname","ITSmart"),c.next=27,pe.a.awrap($n(i));case 27:1===c.sent.status?(La("signin"),e.io.emit("offline",{userid:e.login.UserID,usercode:e.login.UserCodeID}),e.dispatch&&e.dispatch({type:Hn.AC_user.set,user:null}),e.setState({loadinglogout:!1}),e.dispatchEvent&&e.dispatchEvent({type:q,view:{view:"Sign",data:{}}})):(na.a.alert("Error","Something error."),e.setState({loadinglogout:!1}));case 29:case"end":return c.stop()}}),null,null,[[8,15]],Promise)}))},e.load=function(){var t,n,a;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,pe.a.awrap(ut());case 2:t=r.sent,n=t.version,a=t.platform,e.setState({version:n,platform:a});case 6:case"end":return r.stop()}}),null,null,null,Promise)},e}return y()(n,[{key:"componentDidMount",value:function(){this.load()}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.SocketContext.Consumer,null,(function(t){var n=t.state.socket;return e.io=n,o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var a=t.user,r=t.dispatch;return e.dispatch=r,e.login=a,o.a.createElement(Le,null,o.a.createElement(He.a,null,o.a.createElement(J.Consumer,null,(function(t){var n=t.dispatch;return e.dispatchEvent=n,o.a.createElement(Fe,null)})),null!==a&&o.a.createElement(Z,{onPress:function(){return e.props.navigation.navigate("Profile",{username:a.UserName})},style:{flexDirection:"row",paddingHorizontal:10,alignItems:"center",margin:8}},o.a.createElement(Ke,{source:{uri:Qn(a.CompanyCode.toString(),a.UrlImage)}}),o.a.createElement(R.a,{style:{flex:1,paddingLeft:10}},o.a.createElement(re,{style:{fontWeight:"bold"}},a.UserName),o.a.createElement(re,null,o.a.createElement(oe,null,"PHONE"),": ",a.UserPhone),o.a.createElement(re,null,o.a.createElement(oe,null,"PHONELOCAL"),": ",a.UserPhoneLocal))),o.a.createElement(Xe,null,o.a.createElement(At,{title:n.THEME,description:"Theme ITS",onPress:function(){return e.props.navigation.navigate("Theme")},icon:{type:"MaterialCommunityIcons",name:"theme-light-dark"}}),o.a.createElement(At,{onPress:function(){return e.props.navigation.navigate("Langague")},title:n.LANGUAGE,description:n.NATIONALLANGUAGE,icon:{type:"Entypo",name:"language"}}),o.a.createElement(At,{onPress:function(){return e.props.navigation.navigate("Update")},title:n.UPDATESOFTWARE,description:"kernel "+e.state.version,icon:{type:"MaterialIcons",name:"system-update"}}),null!==a?a.UserGroupName.includes("Admin")&&o.a.createElement(At,{onPress:function(){"android"===e.state.platform&&Object(Mr.b)(Mr.a),"ios"===e.state.platform&&Ca.a.openURL("app-settings:")},title:n.SETTINGSYSTEM,description:"",icon:{type:"MaterialIcons",name:"settings"}}):null,o.a.createElement(At,{onPress:function(){return e.props.navigation.navigate("AboutUs")},title:n.ABOUTUS,description:n.ABOUTUSITSMART,icon:{type:"AntDesign",name:"appstore-o"}}),e.state.loadinglogout?o.a.createElement(R.a,{style:{height:30}},o.a.createElement(Bt,null)):o.a.createElement(At,{onPress:e._logout,title:n.SIGNOUT,description:"",icon:{type:"AntDesign",name:"logout"}}))))}))}))}))}}]),n}(o.a.Component);var Xi=Object.keys(_).map((function(e){return{key:e,value:_[e]}})),Qi=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){return o.a.createElement(te.Consumer,null,(function(e){var t=e.state.lg;return o.a.createElement(F.Consumer,null,(function(e){var n=e.state,a=e.dispatch;return o.a.createElement(Le,null,o.a.createElement(fe.a,{extraData:n,data:Xi,renderItem:function(e){var r=e.item;return o.a.createElement(Z,{onPress:function(){Na(r.key,"theme")?a({type:j,theme:r.value}):na.a.alert(t.storage,t.LOG1)}},o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end"}},o.a.createElement(re,{style:{fontSize:24}},r.key),r.value.primary===n.primary&&r.value.accent===n.accent&&r.value.background===n.background&&o.a.createElement(oe,{style:{fontSize:16,marginLeft:6}},"APPLIED")),o.a.createElement(Zi,{label:"primary",color:r.value.primary}),o.a.createElement(Zi,{label:"accent",color:r.value.accent}),o.a.createElement(Zi,{label:"background",color:r.value.background}),o.a.createElement(Zi,{label:"error",color:r.value.error}),o.a.createElement(Zi,{label:"text",color:r.value.text}),o.a.createElement(Zi,{label:"gradient",color:r.value.gradient}),o.a.createElement(Zi,{label:"disabled",color:r.value.disabled}))}}))}))}))}}]),n}(o.a.Component),Zi=function(e){return o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center"}},"string"===typeof e.color?o.a.createElement(R.a,{style:{width:18,height:12,borderRadius:2,marginRight:6,backgroundColor:e.color}}):o.a.createElement(xt.a,{start:[0,1],end:[1,0],style:{width:18,height:12,borderRadius:2,marginRight:6},colors:e.color}),o.a.createElement(re,null,e.label))},$i=n(185);var ec=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loading:!0,newversion:!1,loadingdowloadapp:!1},e.onUpdate=function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pe.a.awrap(Tr.a.checkForUpdateAsync());case 3:t.sent.isAvailable?e.setState({loading:!0,newversion:!0},(function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pe.a.awrap(Tr.a.fetchUpdateAsync());case 2:e.setState({newversion:!0,loading:!1});case 3:case"end":return t.stop()}}),null,null,null,Promise)})):e.setState({newversion:!1,loading:!1}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),na.a.alert("Error",JSON.stringify(t.t0)),e.setState({loading:!1});case 11:case"end":return t.stop()}}),null,null,[[0,7]],Promise)},e.updatenow=function(){return Tr.a.reloadFromCache()},e._loadapp=function(){if("ios"===de.a.OS){var t="itms-services://?action=download-manifest&url=https://portal.feavn.com.vn:2222/files/fea/itsmart/plistFile.plist";Ca.a.canOpenURL(t).then((function(e){if(e)return Ca.a.openURL(t);console.log("Can't handle url: "+t)})).catch((function(e){return console.error("An error occurred",e)}))}if("android"===de.a.OS){e.setState({loadingdowloadapp:!0},(function(){Pr.b("https://portal.feavn.com.vn:2222/files/fea/itsmart/android/ITSmart-Offical.apk",Pr.a+"ITSmart-Offical.apk").then((function(t){var n=t.uri;Pr.c(n).then((function(t){var n=t;e.setState({loadingdowloadapp:!1},(function(){Mr.b("android.intent.action.VIEW",{data:n.uri,flags:1})}))}))})).catch((function(e){console.error(e)}))}))}},e}return y()(n,[{key:"componentDidMount",value:function(){this.onUpdate()}},{key:"render",value:function(){var e=this;return o.a.createElement(Le,null,this.state.loading?o.a.createElement(R.a,{style:{alignItems:"center"}},o.a.createElement(oe,null,"CHECKINGUPDATESOFTWARE"),o.a.createElement(Ct,null)):this.state.newversion?o.a.createElement(R.a,{style:{alignItems:"center"}},o.a.createElement(oe,null,"ANEWUPDATEISAVAILABLE"),o.a.createElement(se,{onPress:this.updatenow},"UPDATENOW")):o.a.createElement(R.a,{style:{alignItems:"center"}},o.a.createElement(oe,null,"LATESTUPDATES")),o.a.createElement(kt,{onPress:function(){return e.props.navigation.navigate("UpdateHistory")}},"HISTORYUPDATE"),o.a.createElement(R.a,{style:{alignItems:"center"}},o.a.createElement(Be.e,{onPress:this._loadapp,style:{height:120,alignItems:"center"}},o.a.createElement(jt,null,"REINSTALLAPP")),this.state.loadingdowloadapp&&o.a.createElement($i.a,{styleAttr:"Horizontal",color:"#2196F3"})))}}]),n}(o.a.Component),tc=[{version:"2.2.1",date:"2020-03-10, ",changelog:[{title:"Profile",content:["Add change password in Profile","Th\xeam ch\u1ee9c n\u0103ng thay \u0111\u1ed5i m\u1eadt kh\u1ea9u trong th\xf4ng tin c\xe1 nh\xe2n"]},{title:"Change Password",content:["Th\xeam h\u1ea1n s\u1eed d\u1ee5ng m\u1eadt kh\u1ea9u 2 th\xe1ng thay \u0111\u1ed5i 1 l\u1ea7n","Add the expiry of the password 2 months change 1 time"]}]},{version:"2.2.CW",date:"2020-03-01, ",changelog:[{title:"Chat",content:["Add Leave group chat","Th\xeam ch\u1ee9c n\u0103ng r\u1eddi kh\u1ecfi nh\xf3m chat","Add action on message","Th\xeam c\xe1c ch\u1ee9c n\u0103ng cho t\u1eebng tin nh\u1eafn; Tr\u1ea3 l\u1eddi, thu h\u1ed3i tin nh\u1eafn"]},{title:"Portal",content:["Fixed size image on post","C\u1eadp nh\u1eadt k\xedch th\u01b0\u1edbc \u1ea3nh ph\xf9 h\u1ee3p","M\u1edf \u0111\u01b0\u1eddng d\u1eabn t\u1eeb b\xe0i vi\u1ebft"]},{title:"Confirm work",content:["T\xedch h\u1ee3p t\xednh n\u0103ng m\u1edbi; X\xe1c nh\u1eadn c\xf4ng t\u1eeb vi\u1ec7c theo d\xf5i th\u1eddi gian qu\u1eb9t th\u1ebb m\u1ed7i ng\xe0y","Integrating new features; Acknowledging the work by tracking card scanning time each day","\u96c6\u6210\u65b0\u529f\u80fd\uff1b\u901a\u8fc7\u8ddf\u8e2a\u6bcf\u5929\u7684\u5361\u7247\u626b\u63cf\u65f6\u95f4\u6765\u786e\u8ba4\u5de5\u4f5c"]},{title:"Time line activity",content:[]}]},{version:"2.1.2",date:"2019-12-24, Ng\xe0y Noen",changelog:[{title:"Portal",content:["T\xedch h\u1ee3p reply, like comment","Add reply, like comment","\u6dfb\u52a0\u56de\u590d\uff0c\u5982\u8bc4\u8bba"]}]},{version:"2.1.0",date:"2019-12-18, Th\u1ee9 3 tu\u1ea7n 3 th\xe1ng 12",changelog:[{title:"Portal",content:["T\u0103ng kh\u1ea3 n\u0103ng tr\u1ea3i ngi\u1ec7m ng\u01b0\u1eddi d\xf9ng","Increase user experience","\u589e\u52a0\u7528\u6237\u4f53\u9a8c"]}]},{version:"2.0.6",date:"2019-12-13, Th\u1ee9 6 ng\xe0y 13",changelog:[{title:"Portal",content:["Cho ph\xe9p \u0111\u1ecdc v\xe0 b\xecnh lu\u1eadn b\xe0i vi\u1ebft \u1edf m\u1ee9c \u0111\u1ed9 chi ti\u1ebft","Lets read and comment articles in a detailed level","\u8ba9\u6211\u4eec\u8be6\u7ec6\u9605\u8bfb\u548c\u8bc4\u8bba\u6587\u7ae0"]},{title:"Icon",content:["Trong l\u1ea7n c\u1eadp nh\u1eadt g\u1ea7n \u0111\xe2y \u0111\xe3 ph\xe1t sinh ra l\u1ed7i \u0111\xe1ng ti\u1ebfc, l\u1ea7n c\u1eadp nh\u1eadt n\xe0y ch\xfang t\xf4i s\u1ebd kh\u1eafc ph\u1ee5c n\xf3","In the recent update an unfortunate error occurred, this update we will fix it","\u5728\u6700\u8fd1\u7684\u66f4\u65b0\u4e2d\uff0c\u53d1\u751f\u4e86\u4e00\u4e2a\u4e0d\u5e78\u7684\u9519\u8bef\uff0c\u6211\u4eec\u5c06\u4fee\u590d\u6b64\u66f4\u65b0"]},{title:"Update",content:["C\u1eadp nh\u1eadt th\xeam th\u1eddi gian c\xf3 b\u1ea3n c\u1eadp nh\u1eadt m\u1edbi","Update time with new updates","\u4f7f\u7528\u65b0\u66f4\u65b0\u6765\u66f4\u65b0\u65f6\u95f4"]}]},{version:"2.0.5",changelog:[{title:"Portal",content:["B\u1ea3n c\u1eadp nh\u1eadt l\u1ea7n n\xe0y ch\xfang t\xf4i s\u1ebd b\u1eaft \u0111\u1ea7u c\u1eadp nh\u1eadt c\xe1c tin t\u1ee9c b\xe0i vi\u1ebft m\u1edbi nh\u1ea5t","This update we will start updating the latest article news","\u6b64\u66f4\u65b0\u6211\u4eec\u5c06\u5f00\u59cb\u66f4\u65b0\u6700\u65b0\u7684\u6587\u7ae0\u65b0\u95fb","T\u01b0\u01a1ng t\xe1c v\u1edbi b\xe0i vi\u1ebft: like, comment; nh\u1eefng suy ngh\u0129 \u0111\xf3ng g\xf3p c\u1ee7a b\u1ea1n... s\u1ebd \u0111\u01b0\u1ee3c b\u1eaft \u0111\u1ea7u t\u1eeb \u0111\xe2y.","Interact with posts: like, comment; Your thoughts ... will start here.","\u4e0e\u5e16\u5b50\u4e92\u52a8\uff1a\u559c\u6b22\uff0c\u53d1\u8868\u8bc4\u8bba\uff0c\u60a8\u7684\u60f3\u6cd5...\u5c06\u4ece\u8fd9\u91cc\u5f00\u59cb\u3002"]},{title:"Notification",content:["Ch\xfang t\xf4i m\u1edf th\xeam th\u1ebb th\xf4ng b\xe1o, gi\xfap b\u1ea1n n\u1eafm b\u1eaft \u0111\u01b0\u1ee3c c\xe1c th\xf4ng tin m\u1edbi nh\u1ea5t m\u1ed9t c\xe1ch hi\u1ec7u qu\u1ea3","We open more tabs notification, helping you stay informed of the latest information effectively","\u6211\u4eec\u4f1a\u6253\u5f00\u66f4\u591a\u6807\u7b7e\u901a\u77e5\uff0c\u5e2e\u52a9\u60a8\u6709\u6548\u5730\u4e86\u89e3\u6700\u65b0\u4fe1\u606f"]}]},{version:"2.0.4",changelog:[{title:"Vacation",content:["\u0110\u1ebfn ng\xe0y h\xf4m nay h\u1ec7 th\u1ed1ng \u0111\xe3 ti\u1ebfp nh\u1eadn h\u01a1n 7500 \u0111\u01a1n ph\xe9p, v\xe0 g\u1eb7p r\u1ea5t nhi\u1ec1u tr\u01b0\u1eddng h\u1ee3p nh\u1eefng \u0111\u01a1n ph\xe9p kh\xf4ng h\u1ee3p l\u1ec7 theo nh\u1eefng quy \u0111\u1ecbnh ngh\u1ec9 ph\xe9p, ch\xfang t\xf4i r\u1ea5t ti\u1ebft v\xec \u0111i\u1ec1u \u0111\xf3. V\u1edbi b\u1ea3n c\u1eadp nh\u1eadt l\u1ea7n n\xe0y ch\xfang t\xf4i ch\xfang s\u1ebd th\xf4ng b\xe1o cho c\xe1c b\u1ea1n bi\u1ebft \u0111\xe3 vi ph\u1ea1m quy \u0111\u1ecbnh n\xe0o.","As of today the system has received more than 7500 applications, there are many cases where the applications are invalid according to the leave rules, we are very excited about that. With this update we will notify you of any violation of regulations.","\u622a\u81f3\u4eca\u5929\uff0c\u8be5\u7cfb\u7edf\u5df2\u6536\u5230\u8d85\u8fc77500\u4efd\u7533\u8bf7\uff0c\u6839\u636e\u8bf7\u5047\u89c4\u5219\uff0c\u5728\u8bb8\u591a\u60c5\u51b5\u4e0b\u8fd9\u4e9b\u7533\u8bf7\u5747\u65e0\u6548\uff0c\u6211\u4eec\u5bf9\u6b64\u611f\u5230\u975e\u5e38\u5174\u594b\u3002\u901a\u8fc7\u6b64\u66f4\u65b0\uff0c\u6211\u4eec\u5c06\u901a\u77e5\u60a8\u4efb\u4f55\u8fdd\u53cd\u6cd5\u89c4\u7684\u60c5\u51b5\u3002"]}]},{version:"2.0.3",changelog:[{title:"Vacation",content:["Loading Aprrove when open order from draft"]}]},{version:"2.0.2",changelog:[{title:"Vacation",content:["Change Text to Icon"]}]},{version:"2.0.1",changelog:[{title:"Internet",content:["S\xe1ng \u0111i qu\u1eb9t th\u1ebb ch\xfang t\xf4i th\u1ea5y \u0111\xe3 c\xf3 ai \u0111\xf3 \u0111\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i, v\xec th\u1ebf ch\xfang t\xf4i \u0111\xe3 ki\u1ec3m tra th\xec th\u1ea5y AOI kh\xf4ng c\xf2n k\u1ebft n\u1ed1i m\u1ea1ng n\u1eefa, v\xec c\u1ea5u h\xecnh ri\xeang bi\u1ec7t n\xean \u0111\xe3 quy\u1ebft \u0111\u1ecbnh t\xedch h\u1ee3p th\xeam th\xf4ng b\xe1o khi kh\xf4ng c\xf3 k\u1ebft n\u1ed1i m\u1ea1ng.","In the morning we saw that someone had failed to log in, so we checked to see that the AOI was no longer connected to the network, because of a separate configuration, we decided to integrate more notifications when there was no connection network","\u65e9\u6668\uff0c\u6211\u4eec\u770b\u5230\u6709\u4eba\u65e0\u6cd5\u767b\u5f55\uff0c\u56e0\u6b64\u6211\u4eec\u68c0\u67e5\u4ee5\u786e\u5b9aAOI\u4e0d\u518d\u8fde\u63a5\u5230\u7f51\u7edc\uff0c\u7531\u4e8e\u914d\u7f6e\u4e0d\u540c\uff0c\u6211\u4eec\u51b3\u5b9a\u5728\u6ca1\u6709\u8fde\u63a5\u7f51\u7edc\u65f6\u96c6\u6210\u66f4\u591a\u901a\u77e5"]},{title:"Vacation",content:["T\xecnh hu\u1ed1ng ph\u1ee9c t\u1ea1p c\u1ee7a vi\u1ec7c ngh\u1ec9 ph\xe9p b\u1eaft bu\u1ed9c ch\xfang t\xf4i c\u1eadp nh\u1eadt \u0111\u1ec3 h\u1ea1n ch\u1ebf nh\u1eefng \u0111\u01a1n ph\xe9p kh\xf4ng ph\xf9 h\u1ee3p","The complex leave situation required us to update to limit improper leave","\u590d\u6742\u7684\u8bf7\u5047\u60c5\u51b5\u8981\u6c42\u6211\u4eec\u8fdb\u884c\u66f4\u65b0\u4ee5\u9650\u5236\u4e0d\u5f53\u8bf7\u5047"]}]},{version:"2.0.0",changelog:[{title:"Vacation",content:["Expire date upto 25"]}]},{version:"1.3.1",changelog:[{title:"Vacation",content:["New expat"]}]},{version:"1.2.3.LA.2",changelog:[{title:"Vacation",content:["Update check Annual Remain"]}]},{version:"1.2.3.LA.1",changelog:[{title:"Vacation",content:["Update date range overlaps"]}]},{version:"1.2.3.TF.4",changelog:[{title:"Document Sign",content:["Allow Delegate user sign"]}]},{version:"1.2.3.TF.3",changelog:[{title:"Vacation",content:["Add condition on Annual leave when in the probationary"]}]},{version:"1.2.3.TF.2",changelog:[{title:"IT Smart",content:["Update EmployeeID"]}]},{version:"1.2.3.TF.1",changelog:[{title:"Vacation",content:["Update resource"]}]},{version:"1.2.2.MS.1",changelog:[{title:"IT Smart",content:["Add permission function"]},{title:"Meeting Booking",content:["Support check video conference","Only day select"]},{title:"Vacation",content:["Add check begin day vacation"]},{title:"Login",content:["Add reset password"]},{title:"Chat",content:["Load lastest data "]}]},{version:"1.2.1.RC",changelog:[{title:"Vacation",content:["The subtitude must be different from the  absentee","Add Icon submit user in form register","Send notification for the subtitude"]},{title:"Sign in",content:["Update Ads"]}]},{version:"1.1.8.RC",changelog:[{title:"IT Smart",content:["Update color Buton Icon on dark theme"]}]},{version:"1.1.7.RC",changelog:[{title:"Setting",content:["Update resource"]},{title:"Vacation",content:["Block the operation multiple times at the send button"]}]},{version:"1.1.6.RC",changelog:[{title:"IT Smart",content:["Optimze performace"]},{title:"Update",content:["Add history update"]}]},{version:"1.1.5.MS.6",changelog:[{title:"Document Sign",content:["Optimze performace loading time","Change icon sign","Add label in Comment"]},{title:"Meeting Room",content:["Hiding booking had done closed"]},{title:"Chat",content:["Change Avatar Text to Avatar Image","Upgrade performace list message"]}]}];var nc=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){return o.a.createElement(Xe,{style:{marginTop:1}},o.a.createElement(re,{style:{color:"red",fontSize:16}},"\u273f KERNEL ",this.props.data.version),o.a.createElement(re,{style:{fontSize:8}},this.props.data.date),this.props.data.changelog.map((function(e){return o.a.createElement(R.a,{key:e.title},o.a.createElement(re,null,e.title),e.content.map((function(e,t){return o.a.createElement(re,{key:""+t,style:{paddingLeft:12,fontSize:12}},"\u2022",e)})))})))}}]),n}(o.a.PureComponent);var ac=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r)))._keyExtractor=function(e){return e.version},e._renderItem=function(e){var t=e.item;return o.a.createElement(nc,{data:t})},e}return y()(n,[{key:"render",value:function(){return o.a.createElement(Le,null,o.a.createElement(fe.a,{data:tc,keyExtractor:this._keyExtractor,renderItem:this._renderItem}))}}]),n}(o.a.PureComponent);function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function oc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ic=G(25)-G(5);function cc(e){var t=e.scrollY,n=e.ListHeaderComponent,a=e.ListFooterComponent,i=e.onScroll,c=Object(r.useState)([]),l=s()(c,2),u=l[0],p=l[1],f=o.a.useState(!1),m=s()(f,2),d=m[0],h=m[1],y=Object(ca.useNavigation)(),g=function(){var e,t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe.a.awrap(_a("companycode"));case 2:return e=a.sent,h(!0),(t=new FormData).append("action","getnewevent"),t.append("companycode",e),a.next=9,pe.a.awrap($n(t));case 9:n=a.sent,h(!1),1===n.status&&p(n.data);case 12:case"end":return a.stop()}}),null,null,null,Promise)};Object(r.useEffect)((function(){g()}),[]);return o.a.createElement(fe.a,{onScroll:i,ListHeaderComponent:n,ListFooterComponent:a,keyboardShouldPersistTaps:"always",keyboardDismissMode:"on-drag",scrollEventThrottle:16,onRefresh:g,refreshing:d,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,keyExtractor:function(e,t){return e.PostID},data:u,renderItem:function(e){var n=e.item;return 0===e.index?o.a.createElement(w.a,{onPress:function(){y.navigate("LoginDetailNews",{postid:n.PostID})},style:{marginHorizontal:12,borderRadius:6,marginVertical:6}},o.a.createElement(Ue.a,{source:{uri:ea("fileportalavartar",n.ImageAvatar)},resizeMode:"cover",style:{width:"100%",borderTopRightRadius:4,borderTopLeftRadius:4,height:G(30)}}),o.a.createElement(R.a,{style:oc({},I.a.absoluteFillObject,{backgroundColor:"rgba(0, 0, 0, 0.6)",borderRadius:6,padding:6})},o.a.createElement(We.a.View,{style:[{transform:[{translateY:t.interpolate({inputRange:[0,195],outputRange:[0,ic],extrapolate:"clamp"})}]}]},o.a.createElement(re,{numberOfLines:2,style:{fontWeight:"bold",color:"white",fontSize:G(3)}},n.PostName),o.a.createElement(re,{style:{color:"white"},numberOfLines:2},n.Sumary)))):o.a.createElement(w.a,{onPress:function(){y.navigate("LoginDetailNews",{postid:n.PostID})},style:{marginHorizontal:12,borderRadius:6,marginVertical:6}},o.a.createElement(Ue.a,{source:{uri:ea("fileportalavartar",n.ImageAvatar)},style:{flex:1,borderWidth:I.a.hairlineWidth,borderRadius:6,height:G(30)}}),o.a.createElement(R.a,{style:oc({},I.a.absoluteFillObject,{backgroundColor:"rgba(0, 0, 0, 0.46)",borderRadius:6,justifyContent:"flex-end",padding:6})},o.a.createElement(re,{numberOfLines:2,style:{fontWeight:"bold",color:"white",fontSize:G(3)}},n.PostName),o.a.createElement(re,{style:{color:"white"},numberOfLines:2},n.Sumary)))}})}var sc=function(e){var t=e.onHide;return o.a.createElement(R.a,{style:I.a.absoluteFill},o.a.createElement(Le,null,o.a.createElement(R.a,{style:{alignItems:"center",marginTop:40}},o.a.createElement(Ot,{onPress:t,icon:{type:"Feather",name:"chevron-down"}})),o.a.createElement(R.a,{style:{alignItems:"center"}},o.a.createElement(Ue.a,{style:{width:"80%",height:200},source:n(438),resizeMode:"contain"})),o.a.createElement(It,{durationTime:15e3},[o.a.createElement(R.a,{key:"ANDROID",style:{alignItems:"center",justifyContent:"center",flex:1,height:250}},o.a.createElement(at,{size:240,value:"https://portal.feavn.com.vn:2222/files/fea/itsmart/android/ITSmart-Offical.apk"}),o.a.createElement(re,null,"ANDROID")),o.a.createElement(R.a,{key:"IOS",style:{alignItems:"center",justifyContent:"center",flex:1,height:250}},o.a.createElement(at,{size:240,value:"itms-services://?action=download-manifest&url=https://portal.feavn.com.vn:2222/files/fea/itsmart/plistFile.plist"}),o.a.createElement(re,null,"IOS"))])))};var lc=function(e){D()(a,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(a);function a(){var e;d()(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={usercode:"",password:"",loading:!1,validusercode:"",validpassword:"",visible:!1,scrollY:new We.a.Value(0)},e._login=function(){var t,n,a,r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,pe.a.awrap(ut());case 2:return t=i.sent,n=t.deviceId,a=t.deviceName,(r=new FormData).append("action","signin"),r.append("usercode",e.state.usercode),r.append("password",e.state.password),r.append("devicename",a),r.append("deviceid",n),r.append("type",""),i.next=14,pe.a.awrap($n(r));case 14:if(o=i.sent,e.setState({loading:!1}),1!==o.status){i.next=24;break}return o.data.typelogin="typingpassword",i.next=20,pe.a.awrap(Na(JSON.stringify(o.data),"signin"));case 20:i.sent?(e.ct&&e.ct({type:Hn.AC_user.set,user:o.data}),e._openNews.cancel(),e.dispatchEvent&&e.dispatchEvent({type:q,view:{view:"Main",data:{}}})):e.setState({validpassword:e.lg.LOG1}),i.next=25;break;case 24:e.setState({validpassword:e.lg.LOGINFAILED});case 25:case"end":return i.stop()}}),null,null,null,Promise)},e._onSubmitUsercode=function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:""!==e.state.usercode&&e.setState({validusercode:"",validpassword:"",loading:!0},(function(){var t,n,a,r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,pe.a.awrap(ut());case 2:return t=i.sent,n=t.deviceId,a=t.deviceName,(r=new FormData).append("action","checkexistusercode"),r.append("usercode",e.state.usercode),r.append("devicename",a),r.append("deviceid",n),i.next=12,pe.a.awrap($n(r));case 12:1===(o=i.sent).status?e.setState({validusercode:e.lg.LOG3},(function(){return e._login()})):0===o.status?e.setState({validusercode:e.lg.EMPLOYEECODEDOESNOTEXIST,loading:!1}):2===o.status?(e.io.emit("requestlogin",{devicename:a,usercode:e.state.usercode}),e.setState({validusercode:e.lg.LOG4,loading:!1})):3===o.status?e.setState({validusercode:e.lg.LOG5,loading:!1}):e.setState({validusercode:e.lg.ERROR,loading:!1});case 14:case"end":return i.stop()}}),null,null,null,Promise)}));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e._hide=function(){return e.setState({visible:!1},(function(){e._openNews()}))},e._openNews=Object(Ha.debounce)((function(){e.setState({visible:!0})}),3e4),e}return y()(a,[{key:"componentDidMount",value:function(){this._openNews()}},{key:"componentWillUnmount",value:function(){this._openNews.cancel()}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.SocketContext.Consumer,null,(function(t){var a=t.state.socket;return e.io=a,o.a.createElement(te.Consumer,null,(function(t){var a=t.state.lg;return e.lg=a,o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var a=t.dispatch;return e.ct=a,o.a.createElement(Le,null,o.a.createElement(J.Consumer,null,(function(t){var n=t.dispatch;return e.dispatchEvent=n,o.a.createElement(Fe,null)})),o.a.createElement(Ia.a,{style:{flex:1,justifyContent:"space-between"},behavior:"padding"},o.a.createElement(cc,{ListHeaderComponent:o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{justifyContent:"center",paddingHorizontal:"5%",height:G(80)}},o.a.createElement(R.a,{style:{alignItems:"center",marginVertical:30,flex:1,justifyContent:"center"}},o.a.createElement(Ue.a,{source:n(438),style:{height:G(25)},resizeMode:"contain"})),o.a.createElement(wt,{icon:{type:"Entypo",name:"user"},value:e.state.usercode,onChangeText:function(t){e._openNews(),e.setState({usercode:t})}}),o.a.createElement(re,null,e.state.validusercode),o.a.createElement(wt,{icon:{type:"Entypo",name:"lock"},secureTextEntry:!0,value:e.state.password,onChangeText:function(t){e._openNews(),e.setState({password:t})}}),o.a.createElement(re,null,e.state.validpassword),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center"}},o.a.createElement(Z,{style:{marginLeft:-10,padding:6,margin:4,height:50,width:50,alignItems:"center",justifyContent:"center",borderRadius:30},onPress:function(){e._openNews.cancel(),e.props.navigation.navigate("LoginQR")}},o.a.createElement(Ne,{type:"AntDesign",name:"qrcode",size:38})),o.a.createElement(Dt,{style:{flex:1},loading:e.state.loading,onPress:e._onSubmitUsercode},"SIGNIN")),o.a.createElement(R.a,{style:{marginTop:20,flexDirection:"row"}},o.a.createElement(kt,{onPress:function(){e._openNews.cancel(),e.props.navigation.navigate("ResetPassword")}},"PASSWORDRECOVERY"))),o.a.createElement(We.a.View,{style:[{transform:[{scale:e.state.scrollY.interpolate({inputRange:[0,70,140],outputRange:[1,1,.6],extrapolate:"clamp"})}]}]},o.a.createElement(jt,{style:{textAlign:"center",fontSize:G(5)}},"NEWS"))),onScroll:We.a.event([{nativeEvent:{contentOffset:{y:e.state.scrollY}}}]),scrollY:e.state.scrollY})),o.a.createElement(Ge,{onDismiss:e._hide,visible:e.state.visible},o.a.createElement(sc,{onHide:e._hide})))}))}))}))}}]),a}(o.a.Component);var uc=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={usercode:"",idcard:"",validusercode:"",loading:!1},e._resetpassword=function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!0,validusercode:""},(function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","resetpassword"),t.append("usercode",e.state.usercode),t.append("idcard",e.state.idcard),a.next=6,pe.a.awrap($n(t));case 6:n=a.sent,e.setState({loading:!1}),1===n.status?e.setState({validusercode:"RESTOREPASS"}):e.setState({validusercode:"INVALIDREQUEST"});case 9:case"end":return a.stop()}}),null,null,null,Promise)}));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e}return y()(n,[{key:"render",value:function(){var e=this;return o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flex:2,justifyContent:"center",paddingHorizontal:"5%"}},o.a.createElement(wt,{icon:{type:"Feather",name:"user"},value:this.state.usercode,onChangeText:function(t){return e.setState({usercode:t})}}),o.a.createElement(wt,{icon:{type:"EvilIcons",name:"credit-card"},secureTextEntry:!0,value:this.state.idcard,onChangeText:function(t){return e.setState({idcard:t})}}),""!==this.state.validusercode&&o.a.createElement(oe,null,this.state.validusercode),o.a.createElement(Dt,{loading:this.state.loading,onPress:this._resetpassword},"RESTORE")))}}]),n}(o.a.Component);var pc=Object(r.memo)((function(e){u()(e);var t=Object(r.useContext)(te).state.lg,n=Object(r.useContext)(Hn.UserContext).dispatch,a=Object(r.useContext)(J).dispatch,i=Object(r.useState)(!1),c=s()(i,2),l=c[0],p=c[1],f=Object(r.useState)(""),m=s()(f,2),d=m[0],h=m[1],y=Object(r.useState)({uc:null,pw:null,pk:null}),g=s()(y,2),v=g[0],E=g[1],b=mt(l,2e3);return Object(r.useEffect)((function(){l&&function(){var e,r,o,i,c;pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,pe.a.awrap(ut());case 2:return e=s.sent,r=e.deviceId,o=e.deviceName,(i=new FormData).append("action","signin"),i.append("usercode",v.uc),i.append("password",v.pw),i.append("type","qrcodeloginitsmart"),i.append("devicename",o),i.append("deviceid",r),s.next=14,pe.a.awrap($n(i));case 14:if(1!==(c=s.sent).status){s.next=25;break}return c.data.typelogin="qrcode",c.data.pk=v.pk,!1,s.next=21,pe.a.awrap(Na(JSON.stringify(c.data),"signin"));case 21:s.sent?(n&&n({type:Hn.AC_user.set,user:c.data}),a&&a({type:q,view:{view:"Main",data:{}}})):h(t.LOG1),s.next=27;break;case 25:h(t.LOGINFAILED),p(!1);case 27:case"end":return s.stop()}}),null,null,null,Promise)}()}),[b]),o.a.createElement(ui.a,{onBarCodeScanned:function(e){e.type;var t=e.data,n=JSON.parse(t),a=n.uc,r=n.pw,o=n.pk;a&&r&&""!==a&&""!==r&&!1===l&&(E({uc:a,pw:r,pk:o}),p(!0))},style:{flex:1,justifyContent:"center",alignItems:"center",overflow:"hidden"}},o.a.createElement(et.c,null,d),l?o.a.createElement(Bt,null):o.a.createElement(R.a,{style:{width:G(40),height:G(40),borderRadius:G(4),borderWidth:2,borderColor:"red"}}))}));function fc(e){var t=e.navigation,n=e.route,a=o.a.useState({data:{Content:[],CreateDate:"",Creator:"",Mode:"",PostID:"",PostName:"",PostTypeID:"",Slug:"",Status:"",Sumary:"",UserEditor:"",UserID:""},content:null,loading:!1}),i=s()(a,2),c=i[0],l=i[1],u=o.a.useState(null),p=s()(u,2),f=p[0],m=p[1];Object(r.useEffect)((function(){d()}),[]);var d=function(){var e,a,r;return pe.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return l(ae()({},c,{loading:!0})),e=n.params.postid,(a=new FormData).append("action","getnewdetail"),a.append("id",e),a.append("userid",null),o.next=8,pe.a.awrap($n(a));case 8:1===(r=o.sent).status&&(h(r.data.Content),l(ae()({},c,{data:r.data,loading:!1})),t.setOptions({title:r.data.PostName}));case 10:case"end":return o.stop()}}),null,null,null,Promise)},h=function(e){var t=[],n=[],a=0;e.forEach((function(r){r.insert.text&&n.push(o.a.createElement(re,{style:Di(r.attributes),key:r.id},r.insert.text)),null===r.insert.text&&null===r.insert.image&&(t.push(o.a.createElement(re,{style:[{flex:1},Di(r.attributes)],key:"G"+r.id},xi(r.attributes),n)),n=[]),r.insert.image&&t.push(o.a.createElement(Ue.a,{resizeMode:"contain",key:r.id,style:{minHeight:200,width:"100%"},source:{uri:r.insert.image.includes("http")?r.insert.image:ea("fileportalcontent",r.insert.image)}})),++a%10!==0&&a!==e.length||m(t)}))};return o.a.createElement(Le,null,o.a.createElement(He.a,null,o.a.createElement(R.a,{style:{paddingHorizontal:6}},f)))}var mc=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={data:[],basic:[],files:[],documentcode:"",documenttypename:"",documentid:"",description:"",flow:[],approve:-1,loadingsign:0},e._load=function(){var t,n,a,r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:t=e.props.route,n=t.params,a=n.documentid,r=n.documenttypename,o=n.documentcode,e.props.navigation.setParams({title:o}),e.setState({documentid:a,documenttypename:r,documentcode:o}),e._getdocumentdetail(o,a,r),e._getbasicinformation(o,r);case 6:case"end":return i.stop()}}),null,null,null,Promise)},e._getdocumentdetail=function(t,n,a){e.setState((function(e){return{loadingsign:e.loadingsign+1}}),(function(){var r,o,i;return pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return(r=new FormData).append("action","getdocumentdetail"),r.append("userid",e.login.UserID.toString()),r.append("ordercode",t),r.append("companycode",e.login.CompanyCode.toString()),r.append("documentid",n),r.append("documenttypename",a),c.next=9,pe.a.awrap($n(r));case 9:1===(o=c.sent).status?(i=[],o.data.forEach((function(e){var t=[];e.forEach((function(e){var n=Object.keys(e).map((function(t){return{key:t.toUpperCase(),value:e[t]}}));t.push(n)})),i.push(t)})),e.setState((function(e){return{data:i,loadingsign:e.loadingsign-1}}))):e.setState((function(e){return{loadingsign:e.loadingsign-1}}));case 11:case"end":return c.stop()}}),null,null,null,Promise)}))},e._getbasicinformation=function(t,n){e.setState((function(e){return{loadingsign:e.loadingsign+1}}),(function(){var a,r,o,i,c;return pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(a=new FormData).append("action","getbasicinformation"),a.append("ordercode",t),a.append("companycode",e.login.CompanyCode.toString()),a.append("documenttypename",n),s.next=7,pe.a.awrap($n(a));case 7:1===(r=s.sent).status?(o=r.data.basic.files,delete r.data.basic.files,i=Object.keys(r.data.basic).map((function(e){return{key:e.toUpperCase(),value:r.data.basic[e]}})),c=[],e._calpermisson(r.data.comment),r.data.comment.forEach((function(t){c.push({time:ot()(t.SignedDate,"YYYY-MM-DDTHH:mm:SS"),event:{name:t.UserSign+" "+e._statusSign(t.StatusSign),description:t.ContentComment}})})),c.sort((function(e,t){return t.time-e.time})),"undefined"!==typeof o&&null!==o||(o=[]),e.setState((function(e){return{basic:i,flow:c,files:o,loadingsign:e.loadingsign-1}}))):e.setState((function(e){return{loadingsign:e.loadingsign-1}}));case 9:case"end":return s.stop()}}),null,null,null,Promise)}))},e._statusSign=function(t){switch(t){case"0":return e.lg.SENDING;case"1":return e.lg.APPROVED;case"2":return e.lg.RETURN;default:return""}},e._calpermisson=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.setState({approve:-1},(function(){if(t.length>0){var n=t[0];if("0"===n.StatusSign){var a=[n.CheckUserID];n.DelegateList&&n.DelegateList.forEach((function(e){a.push(e.DelegateUserID)})),a.forEach((function(t){t===e.login.UserID&&e.setState({approve:t})}))}}}))},e._signdocumentnext=function(){e.setState((function(e){return{loadingsign:e.loadingsign+1}}),(function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","signdocumentnext"),t.append("approver",e.login.UserID.toString()),t.append("comment",e.state.description),t.append("ordercode",e.state.documentcode),a.next=7,pe.a.awrap($n(t));case 7:n=a.sent,e.setState((function(e){return{loadingsign:e.loadingsign-1}})),1===n.status&&!0===n.data?e._getbasicinformation(e.state.documentcode,e.state.documenttypename):na.a.alert(e.lg.ERROR,e.lg.LOG9);case 10:case"end":return a.stop()}}),null,null,null,Promise)}))},e._rejectdocument=function(){return pe.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState((function(e){return{loadingsign:e.loadingsign+1}}),(function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","rejectdocument"),t.append("approver",e.login.UserID.toString()),t.append("comment",e.state.description),t.append("ordercode",e.state.documentcode),a.next=7,pe.a.awrap($n(t));case 7:n=a.sent,e.setState((function(e){return{loadingsign:e.loadingsign-1}})),1===n.status&&!0===n.data?e._getbasicinformation(e.state.documentcode,e.state.documenttypename):na.a.alert(e.lg.ERROR,e.lg.LOG9);case 10:case"end":return a.stop()}}),null,null,null,Promise)}));case 1:case"end":return t.stop()}}),null,null,null,Promise)},e._requestsign=function(){na.a.alert(e.lg.APPROVE,e.lg.INFOR3,[{text:e.lg.CANCEL,style:"cancel"},{text:e.lg.OK,onPress:function(){return e._signdocumentnext()}}],{cancelable:!1})},e._requestreject=function(){na.a.alert(e.lg.REJECT,e.lg.INFOR4,[{text:e.lg.CANCEL,style:"cancel"},{text:e.lg.OK,onPress:function(){return e._rejectdocument()}}],{cancelable:!1})},e._resquestchat=function(){return e.props.navigation.navigate("Chat",{groupcode:e.state.documentcode})},e._renderItemValue=function(e,t){if(t.key.includes("URL")){var n=t.value.split(":");return o.a.createElement(Ke,{source:{uri:Qn(n[0],n[1])}})}return e[t.value],o.a.createElement(re,{style:{marginTop:-4,marginLeft:16}},t.value)},e}return y()(n,[{key:"componentDidMount",value:function(){this._load()}},{key:"render",value:function(){var e=this;return o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return e.lg=n,o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var a=t.user;return e.login=a,o.a.createElement(Le,null,o.a.createElement(He.a,null,o.a.createElement(Z,{style:{padding:10,marginTop:4,marginHorizontal:5}},o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginTop:6}},o.a.createElement(R.a,{style:{alignItems:"center",flex:1}},o.a.createElement(at,{size:130,value:""===e.state.documentcode?"_sop":e.state.documentcode}),o.a.createElement(re,{style:{fontWeight:"bold"}},e.state.documentcode)),o.a.createElement(R.a,null,o.a.createElement(Ot,{onPress:e._resquestchat,icon:{type:"Ionicons",name:"md-chatboxes",color:"yellow"}}),e.state.approve===a.UserID&&o.a.createElement(R.a,{style:{marginLeft:-4}},o.a.createElement(R.a,{style:{width:36,height:2,backgroundColor:"indianred",transform:[{rotateZ:"45deg"},{translateX:23},{translateY:10}]}}),o.a.createElement(Ot,{onPress:e._requestreject,style:{marginHorizontal:8},icon:{type:"FontAwesome",name:"edit",color:"indianred"}})),e.state.approve===a.UserID&&o.a.createElement(Ot,{onPress:e._requestsign,icon:{type:"FontAwesome",name:"edit",color:"seagreen"}}))),o.a.createElement(St,{label:"NOTE",value:e.state.description,onChangeText:function(t){return e.setState({description:t})}}),o.a.createElement(fe.a,{contentContainerStyle:{padding:6},data:e.state.basic,renderItem:function(t){var a=t.item;return o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(oe,{style:{fontSize:10,color:"#757575"}},a.key),e._renderItemValue(n,a))}})),o.a.createElement(jt,null,"DETAILINFORMATION"),e.state.data.map((function(e,t){return o.a.createElement(Pt,{key:t},e.map((function(e,t){return o.a.createElement(R.a,{key:t,style:{flex:1}},o.a.createElement(fe.a,{contentContainerStyle:{padding:6},data:e,renderItem:function(e){var t=e.item;return o.a.createElement(R.a,null,o.a.createElement(oe,{style:{fontSize:10,color:"#757575"}},t.key),Object(Ha.isString)(n[t.value])?o.a.createElement(oe,{style:{marginTop:-4,marginLeft:16}},t.value):o.a.createElement(re,{style:{marginTop:-4,marginLeft:16}},t.value))}}))})))})),o.a.createElement(jt,null,"ATTACHMENTS"),0===e.state.files.length?o.a.createElement(Ut,null,"NODATA"):o.a.createElement(fe.a,{contentContainerStyle:{padding:6},data:e.state.files,keyExtractor:function(e){return e.Name},renderItem:function(e){var t=e.item;return o.a.createElement(w.a,{onPress:function(){return Ca.a.openURL(t.Link)}},o.a.createElement(re,null,t.Name))}}),o.a.createElement(jt,null,"TIMELINESIGN"),o.a.createElement(Et,{data:e.state.flow})),e.state.loadingsign>0&&o.a.createElement(R.a,{style:[I.a.absoluteFill,{paddingTop:"10%",height:G(40)}]},o.a.createElement(Bt,null)))}))}))}}]),n}(o.a.Component);mc.navigationOptions=function(e){var t=e.screenProps;return{title:e.navigation.getParam("title",""),headerStyle:{backgroundColor:t.theme.backgroundlight},headerTintColor:t.theme.text,headerTitleStyle:{fontFamily:"roboto-regular"}}};var dc=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={data:[],data_filter:[],seachText:"",loadingseach:!1},e._getdocumentsigned=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","getdocumentsigned"),t.append("userid",e.login.UserID.toString()),a.next=5,pe.a.awrap($n(t));case 5:1===(n=a.sent).status&&e.setState({data:n.data});case 7:case"end":return a.stop()}}),null,null,null,Promise)},e._select=function(t){e.props.navigation.navigate("DocumentDetail",{documentid:"",documenttypename:t.DocumentTypeName,documentcode:t.OrderCode})},e.renderItem=function(t){var n=t.item;return o.a.createElement(hc,{data:n,select:e._select})},e.onChangeSearch=function(t){e.setState({seachText:t,loadingseach:!0},(function(){return e._filter()}))},e._filter=Object(Ha.debounce)((function(){var t=e.state.data,n=e.state.seachText;n=n.toUpperCase();var a=t.filter((function(e){return e.OrderCode.toUpperCase().includes(n)||e.Creator.toUpperCase().includes(n)||ot()(e.CreateDate).format("YYYY-MM-DD").toUpperCase().includes(n)}));e.setState({data_filter:a,loadingseach:!1})}),1e3),e}return y()(n,[{key:"componentDidMount",value:function(){this._getdocumentsigned()}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(Le,null,o.a.createElement(R.a,{style:{marginVertical:6}},o.a.createElement(wt,{icon:{type:"AntDesign",name:"search1"},value:e.state.seachText,onChangeText:e.onChangeSearch,style:{marginHorizontal:20,marginVertical:6}}),e.state.loadingseach&&o.a.createElement(Ct,null),""!==e.state.seachText&&0===e.state.data_filter.length&&!e.state.loadingseach&&o.a.createElement(oe,null,"SEARCHRESULTS")),0===e.state.data.length?o.a.createElement(oe,null,"NODATA"):o.a.createElement(fe.a,{data:e.state.data_filter.length>0?e.state.data_filter:e.state.data,renderItem:e.renderItem,keyExtractor:function(e){return e.MainID},contentContainerStyle:{paddingBottom:10}}))}))}}]),n}(o.a.Component),hc=function(e){return o.a.createElement(Xe,{onPress:function(){return e.select(e.data)},style:{marginHorizontal:6,padding:10,paddingBottom:30,marginBottom:1}},o.a.createElement(jt,null,"DESCRIPTION"),o.a.createElement(Ut,null,1===e.data.isFinished?"APPROVED":"SENDING"),o.a.createElement(re,{style:{fontSize:19,textAlign:"center"}},e.data.OrderCode),o.a.createElement(re,null,o.a.createElement(oe,null,"CREATOR"),": ",e.data.Creator),o.a.createElement(re,null,o.a.createElement(oe,null,"DEPARTMENT"),": ",e.data.Department),o.a.createElement(re,null,o.a.createElement(oe,null,"CREATEDATE"),": ",ot()(e.data.CreateDate).format("YYYY-MM-DD HH:mm:ss")))};var yc=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={view:!0},e._select=function(){return e.props.select(e.props.data)},e._sign=function(){na.a.alert(e.lg.APPROVE,e.lg.INFOR3,[{text:e.lg.CANCEL,style:"cancel"},{text:e.lg.OK,onPress:function(){e.setState({view:!1}),e.props.sign(e.props.data.OrderCode)}}],{cancelable:!1})},e._reject=function(){na.a.alert(e.lg.REJECT,e.lg.INFOR4,[{text:e.lg.CANCEL,style:"cancel"},{text:e.lg.OK,onPress:function(){e.setState({view:!1}),e.props.reject(e.props.data.OrderCode)}}],{cancelable:!1})},e}return y()(n,[{key:"render",value:function(){var e=this;return this.state.view?o.a.createElement(te.Consumer,null,(function(t){var n=t.state.lg;return e.lg=n,o.a.createElement(Xe,{onPress:e._select,style:{borderBottomColor:"lightgray",borderBottomWidth:I.a.hairlineWidth,marginHorizontal:6,padding:10}},o.a.createElement(re,null,e.props.data.Description),o.a.createElement(re,null,e.props.data.SignType),o.a.createElement(re,null,o.a.createElement(oe,null,"FROMTO"),": ",e.props.data.Sender),o.a.createElement(re,{style:{fontSize:19,textAlign:"center"}},e.props.data.OrderCode),o.a.createElement(re,{style:{textAlign:"right",fontSize:8}},ot()(e.props.data.CreateDate).format("YYYY-MM-DD HH:mm:ss")),o.a.createElement(re,null,o.a.createElement(oe,null,"CREATOR"),": ",e.props.data.Creator),o.a.createElement(re,null,o.a.createElement(oe,null,"DEPARTMENT")," : ",e.props.data.CreatorDepartment),o.a.createElement(R.a,{style:{padding:2,flexDirection:"row",marginRight:12,justifyContent:"flex-end",alignItems:"center"}},o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{width:36,height:2,backgroundColor:"indianred",transform:[{rotateZ:"45deg"},{translateX:23},{translateY:10}]}}),o.a.createElement(Ot,{onPress:e._reject,style:{marginHorizontal:8},icon:{type:"FontAwesome",name:"edit",color:"indianred"}})),o.a.createElement(Ot,{onPress:e._sign,style:{marginHorizontal:8},icon:{type:"FontAwesome",name:"edit",color:"seagreen"}})))})):null}}]),n}(o.a.PureComponent);var gc=function(e){var t=e.type,n=e.navigation,a=e.onloadMenu,i=Object(r.useContext)(Hn.UserContext).user,c=Object(r.useContext)(te).state.lg,l=Object(r.useState)({data:[],filterdata:[],refeshlist:!1,loading:!1}),u=s()(l,2),p=u[0],f=u[1],m=function(e){var t,n,r,o;return pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(t=new FormData).append("action","signdocumentnext"),t.append("approver",i.UserID.toString()),t.append("comment","sign quicklly"),t.append("ordercode",e),s.next=7,pe.a.awrap($n(t));case 7:1===(n=s.sent).status&&!0===n.data?(r=(r=p.data).filter((function(t){return t.OrderCode!==e})),f(ae()({},p,{data:r,filterdata:[],refeshlist:!p.refeshlist})),o=[],p.data.forEach((function(e){var t=e.Area,n=o.findIndex((function(e){return e.type===t}));-1===n?o.push({type:t,counter:1,name:e.Description}):o[n].counter+=1})),a(o)):na.a.alert(c.ERROR,c.LOG9);case 9:case"end":return s.stop()}}),null,null,null,Promise)},d=function(e){var t,n,r,o;return pe.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(t=new FormData).append("action","rejectdocument"),t.append("approver",i.UserID.toString()),t.append("comment","sign quicklly"),t.append("ordercode",e),s.next=7,pe.a.awrap($n(t));case 7:1===(n=s.sent).status&&!0===n.data?(r=(r=p.data).filter((function(t){return t.OrderCode!==e})),f(ae()({},p,{data:r,filterdata:[],refeshlist:!p.refeshlist})),o=[],p.data.forEach((function(e){var t=e.Area,n=o.findIndex((function(e){return e.type===t}));-1===n?o.push({type:t,counter:1,name:e.Description}):o[n].counter+=1})),a(o)):na.a.alert(c.ERROR,c.LOG9);case 9:case"end":return s.stop()}}),null,null,null,Promise)},h=function(e){n.navigate("DocumentDetail",{documentid:"",documenttypename:e.DocumentTypeName,documentcode:e.OrderCode})},y=function(){var e,t,n;return pe.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return f(ae()({},p,{loading:!0})),(e=new FormData).append("action","getdocumentapprove"),e.append("userid",i.UserID.toString()),r.next=6,pe.a.awrap($n(e));case 6:t=r.sent,f(ae()({},p,{loading:!1})),1===t.status&&(f(ae()({},p,{data:t.data})),n=[],t.data.forEach((function(e){var t=e.Area,r=n.findIndex((function(e){return e.type===t}));-1===r?n.push({type:t,counter:1,name:e.Description}):n[r].counter+=1,a(n)})));case 9:case"end":return r.stop()}}),null,null,null,Promise)};Object(r.useEffect)((function(){g(t)}),[t]);var g=function(e){var t=p.data.filter((function(t){return t.Area===e}));f(ae()({},p,{filterdata:t,refeshlist:!p.refeshlist}))};return Object(ca.useFocusEffect)(o.a.useCallback((function(){y()}),[])),o.a.createElement(R.a,{style:{flex:1}},0===p.data.length?o.a.createElement(oe,null,"NODATA"):o.a.createElement(fe.a,{onRefresh:y,refreshing:p.loading,extraData:p.refeshlist,contentContainerStyle:{paddingBottom:10},keyExtractor:function(e){return e.MainDetailID},data:p.filterdata.length>0?p.filterdata:p.data,renderItem:function(e){var t=e.item;return o.a.createElement(yc,{data:t,sign:m,reject:d,select:h})}}))};var vc=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={menu:!1,fadeAnim:new We.a.Value(0),datamenu:[],typeFilter:""},e.onloadMenu=function(t){e.setState({datamenu:t,typeFilter:""})},e._menu=function(){e.setState((function(e){return{menu:!e.menu}}),(function(){e.state.menu?We.a.timing(e.state.fadeAnim,{toValue:1,duration:120,useNativeDriver:!0}).start():e.setState({fadeAnim:new We.a.Value(0)})}))},e._onSelect=function(t){return e.setState((function(e){return{typeFilter:e.typeFilter===t?"":t}}))},e}return y()(n,[{key:"componentDidMount",value:function(){this.props.navigation.setParams({menuaction:this._menu})}},{key:"render",value:function(){var e=this;return o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flexDirection:"row",justifyContent:"space-between",marginVertical:4}}),this.state.menu?o.a.createElement(We.a.View,{style:{transform:[{translateY:this.state.fadeAnim.interpolate({inputRange:[0,1],outputRange:[600,0]})}]}},o.a.createElement(fe.a,{contentContainerStyle:{padding:20},extraData:this.state.typeFilter,keyExtractor:function(e){return e.type},numColumns:3,data:this.state.datamenu,renderItem:function(t){var n=t.item;return o.a.createElement(Ec,{item:n,onSelect:e._onSelect,typeFilter:e.state.typeFilter})}})):null,o.a.createElement(gc,{navigation:this.props.navigation,type:this.state.typeFilter,onloadMenu:this.onloadMenu}))}}]),n}(o.a.PureComponent),Ec=function(e){var t=function(){e.onSelect(e.item.type)};return o.a.createElement(F.Consumer,null,(function(n){var a=n.state;return o.a.createElement(Z,{onPress:t,style:{flex:1,margin:2,backgroundColor:e.typeFilter===e.item.type?a.primary:"white",borderRadius:3,alignItems:"center",justifyContent:"center"}},o.a.createElement(re,{numberOfLines:1,style:{fontSize:32,color:e.typeFilter!==e.item.type?a.primary:"white"}},e.item.type))}))};n(754),n(755),n(756);function bc(e){u()(e);var t=Object(r.useContext)(J).dispatch;return Object(r.useEffect)((function(){pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe.a.awrap(Na(JSON.stringify(!0),"appintro"));case 2:t&&t({type:q,view:{view:"Loading",data:{}}});case 3:case"end":return e.stop()}}),null,null,null,Promise)}),[]),o.a.createElement(Le,null,o.a.createElement(re,null,"Ss"))}function xc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xc(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wc=I.a.create({itemtimelineleft:Dc({},B({elevation:10}),{padding:5,flexDirection:"column",alignItems:"flex-end",flex:1,marginLeft:5,borderTopLeftRadius:4,borderBottomLeftRadius:4,borderBottomRightRadius:4}),itemtimelineright:Dc({},B({elevation:10}),{padding:5,flexDirection:"column",alignItems:"flex-start",flex:1,marginRight:5,borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopRightRadius:4}),container:{borderRadius:12,padding:24,backgroundColor:"#42AAFF"},topContainer:{marginBottom:20},topBottomContainer:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:20},typeLabel:{fontSize:20,fontWeight:"500"},numberLabel:{marginBottom:10},bottomLabel:{fontSize:16,fontWeight:"500"},bottomLabelMain:{textAlign:"center",fontSize:16,fontWeight:"500"},bottomLeftContainer:{justifyContent:"flex-start"},bottomRightContainer:{justifyContent:"flex-end"}});function Sc(e){var t=e.data,n=e.onClose,a=e.navigation,r=function(){return pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:a.navigate("ConfirmWorkFormRegister",{RegisterData:t});case 1:case"end":return e.stop()}}),null,null,null,Promise)};return o.a.createElement(Z,{style:Dc({borderRadius:12,padding:10},B({elevation:20}))},o.a.createElement(He.a,{showsVerticalScrollIndicator:!1},o.a.createElement(R.a,{style:{marginTop:-10}},o.a.createElement(w.a,{style:{padding:0,alignItems:"center",justifyContent:"center",minHeight:40},onPress:n},o.a.createElement(Ne,{size:32,type:"Feather",name:"chevron-down"}))),o.a.createElement(R.a,{style:{padding:10}},o.a.createElement(R.a,{style:[wc.topBottomContainer,wc.topContainer]},o.a.createElement(re,{style:wc.typeLabel},t.wDay&&o.a.createElement(oe,null,""+t.wDay.toUpperCase()),", ",ot()(t.WorkDay).format("DD-MM-YYYY"))),o.a.createElement(R.a,{style:wc.topBottomContainer},o.a.createElement(R.a,{style:wc.bottomLeftContainer},o.a.createElement(oe,{style:[wc.bottomLabel,{color:"#27ae60"}]},"SCANWORKIN"),null===t.ScanIn?o.a.createElement(oe,{style:[wc.bottomLabel,{color:"#27ae60"}]},"NODATA"):o.a.createElement(re,{style:[wc.bottomLabelMain,{color:"#27ae60"}]},t.ScanIn),null===t.ScanIn&&""===t.Vacation&&o.a.createElement(Dt,{onPress:r},"CONFIRMWORKINGDAY")),o.a.createElement(R.a,{style:wc.bottomRightContainer},o.a.createElement(oe,{style:[wc.bottomLabel,{textAlign:"right",color:"#c0392b"}]},"SCANWORKOUT"),null===t.ScanOut?o.a.createElement(oe,{style:[wc.bottomLabelMain,{color:"#c0392b"}]},"NODATA"):o.a.createElement(re,{style:[wc.bottomLabelMain,{color:"#c0392b"}]},t.ScanOut),null===t.ScanOut&&o.a.createElement(Dt,{onPress:r},"CONFIRMWORKINGDAY"))),o.a.createElement(R.a,null,""!==t.Vacation?o.a.createElement(re,{style:[wc.numberLabel,{fontSize:16,fontWeight:"500",color:"#ff6b81"}]},t.Vacation):null===t.ScanIn&&null===t.ScanOut?o.a.createElement(oe,{style:[wc.numberLabel,{fontSize:16,fontWeight:"500",color:"#ff6b81"}]},"NOMAKEALEAVEAPPLICATION"):null,o.a.createElement(re,{style:wc.numberLabel},o.a.createElement(oe,{style:wc.numberLabel},"SHIFTWORK"),": ",t.ShiftTime),o.a.createElement(re,{style:wc.numberLabel},o.a.createElement(oe,{style:wc.numberLabel},"EMPNAME"),": ",t.EmployeeName),o.a.createElement(re,{style:wc.numberLabel},o.a.createElement(oe,{style:wc.numberLabel},"DEPARTMENT"),": ",t.Dept," - ",t.Section)))))}function Cc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function kc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oc(e){var t=e.data,n=e.onViewDetailWorking,a=e.index,i=t.ScanIn,c=t.ScanOut,s=t.Vacation,l=t.wDay,u=t.WorkDay,p=t.ShiftTime,f=null===i||null===c?null===i&&null===c?"#b2bec3":"#f7b731":""!==s?"#eb3b5a":"Saturday"===l?"#45aaf2":"#26de81",m=Object(r.useContext)(F).state;return o.a.createElement(R.a,null,o.a.createElement(R.a,{style:{flexDirection:a%2===1?"row":"row-reverse",flex:1}},o.a.createElement(R.a,{style:{flex:1,alignItems:a%2===1?"flex-end":"flex-start"}}),o.a.createElement(R.a,{style:{alignItems:"center",justifyContent:"center",paddingHorizontal:2}},o.a.createElement(R.a,{style:{height:30,width:30,borderRadius:15,alignItems:"center",justifyContent:"center",borderColor:m.text,borderWidth:2}},o.a.createElement(re,{style:{fontWeight:"600"}},a)),o.a.createElement(R.a,{style:{flex:1,backgroundColor:m.text,alignItems:"center",justifyContent:"center",width:2}})),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(R.a,{style:{flex:1,paddingVertical:5,flexDirection:"row"}},a%2===1?o.a.createElement(R.a,{style:{backgroundColor:f,padding:5,width:10,height:10,borderBottomStartRadius:20,borderTopStartRadius:20}}):null,o.a.createElement(w.a,{onPress:function(){return n(t)},style:{flex:1}},o.a.createElement(R.a,{style:[kc({},B({elevation:10}),a%2===1?{padding:5,flexDirection:"column",alignItems:"flex-start",flex:1,marginRight:5,borderBottomLeftRadius:4,borderBottomRightRadius:4,borderTopRightRadius:4}:{padding:5,flexDirection:"column",alignItems:"flex-end",flex:1,marginLeft:5,borderTopLeftRadius:4,borderBottomLeftRadius:4,borderBottomRightRadius:4}),{borderTopColor:f,borderTopWidth:2,backgroundColor:null===i&&null===c?m.disabled:m.backgroundlight}]},o.a.createElement(re,{numberOfLines:1,style:{fontWeight:"500"}},o.a.createElement(oe,null,""+l.toUpperCase()),", ",ot()(u).format("DD-MM")),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end"}},o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end"}},o.a.createElement(Ne,{type:"MaterialCommunityIcons",name:"login",size:20}),o.a.createElement(re,null,i)),o.a.createElement(R.a,{style:{flexDirection:"row",alignItems:"flex-end",paddingLeft:10}},o.a.createElement(Ne,{type:"MaterialCommunityIcons",name:"logout",size:20}),o.a.createElement(re,null,c))),o.a.createElement(re,{style:{fontSize:9},numberOfLines:1},p),""!==s?o.a.createElement(oe,{style:{color:"#ff6b81"},numberOfLines:1},s):null)),a%2!==1?o.a.createElement(R.a,{style:kc({backgroundColor:f},B({elevation:10}),{width:10,height:10,borderBottomEndRadius:20,borderTopEndRadius:20})}):null))))}function Rc(e){var t=e.data,n=e.navigation,a=e.route,i=Object(r.useState)({visibleShowDetail:!1,itemDetail:null}),c=s()(i,2),l=c[0],u=c[1],p=function(e){return u({itemDetail:e,visibleShowDetail:!0})},f=function(){return u({itemDetail:null,visibleShowDetail:!1})},m=[];return t.forEach((function(e,t){return m.push(o.a.createElement(Oc,{onViewDetailWorking:p,index:t+1,data:e,key:"c"+t}))})),o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(He.a,{contentContainerStyle:{paddingBottom:30}},m),l.itemDetail&&o.a.createElement(Ge,{onDismiss:f,visible:l.visibleShowDetail},o.a.createElement(Sc,{navigation:n,route:a,data:l.itemDetail,onClose:f})))}var Ic=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){var e;d()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={valueDateFromPicker:ot()().subtract(7,"day").format("YYYY-MM-DD"),valueDateToPicker:ot()().format("YYYY-MM-DD"),visibleDateFromPicker:!1,visibleDateToPicker:!1,isFetching:!1,dataWorkingTime:[],type:"ALL"},e.fecthDataWorkingTime=function(){e.setState({isFetching:!0},(function(){var t;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=[],"ALL"!==e.state.type){n.next=7;break}return n.next=4,pe.a.awrap(e._time());case 4:t=n.sent,n.next=11;break;case 7:if("DONE"!==e.state.type){n.next=11;break}return n.next=10,pe.a.awrap(e._mis());case 10:t=n.sent;case 11:e.setState({isFetching:!1,dataWorkingTime:t});case 12:case"end":return n.stop()}}),null,null,null,Promise)}))},e._time=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","getattendancetime"),t.append("companycode",e.login.CompanyCode.toString()),t.append("usercode",e.login.UserCodeID),t.append("startdate",e.state.valueDateFromPicker),t.append("enddate",e.state.valueDateToPicker),a.next=8,pe.a.awrap($n(t));case 8:if(1!==(n=a.sent).status){a.next=13;break}return a.abrupt("return",n.data);case 13:return a.abrupt("return",[]);case 14:case"end":return a.stop()}}),null,null,null,Promise)},e._mis=function(){var t,n;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(t=new FormData).append("action","getattendancemissing"),t.append("companycode",e.login.CompanyCode.toString()),t.append("usercode",e.login.EmployeeID),t.append("startdate",e.state.valueDateFromPicker),t.append("enddate",e.state.valueDateToPicker),a.next=8,pe.a.awrap($n(t));case 8:if(1!==(n=a.sent).status){a.next=13;break}return a.abrupt("return",n.data);case 13:return a.abrupt("return",[]);case 14:case"end":return a.stop()}}),null,null,null,Promise)},e._handleDateFrom=function(t){return e.setState({valueDateFromPicker:ot()(t).format("YYYY-MM-DD"),visibleDateFromPicker:!1})},e._handleDateTo=function(t){return e.setState({valueDateToPicker:ot()(t).format("YYYY-MM-DD"),visibleDateToPicker:!1})},e}return y()(n,[{key:"componentDidMount",value:function(){this.fecthDataWorkingTime()}},{key:"render",value:function(){var e=this;return o.a.createElement(Hn.UserContext.Consumer,null,(function(t){var n=t.user;return e.login=n,o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flexDirection:"row",justifyContent:"center",marginVertical:5,marginHorizontal:5}},o.a.createElement(se,{left:o.a.createElement(Ne,{type:"Ionicons",name:"md-calendar",size:22,color:"white",style:{marginLeft:10}}),onPress:function(){return e.setState({visibleDateFromPicker:!0})},style:{flex:2}},o.a.createElement(i.a,{style:{color:"#fff"}},ot()(e.state.valueDateFromPicker).format("YYYY-MM-DD"))),o.a.createElement(se,{left:o.a.createElement(Ne,{type:"Ionicons",name:"md-calendar",size:22,color:"white",style:{marginLeft:10}}),onPress:function(){return e.setState({visibleDateToPicker:!0})},style:{flex:2}},o.a.createElement(i.a,{style:{color:"#fff"}},ot()(e.state.valueDateToPicker).format("YYYY-MM-DD"))),o.a.createElement(Ot,{onPress:e.fecthDataWorkingTime,icon:{type:"Ionicons",name:"md-search"}})),e.state.isFetching&&o.a.createElement(Ct,null),e.state.isFetching&&e.state.dataWorkingTime.length>0&&o.a.createElement(oe,{style:{textAlign:"center"}},"NODATA"),o.a.createElement(Rc,{navigation:e.props.navigation,data:e.state.dataWorkingTime}),o.a.createElement(sn,{date:new Date(e.state.valueDateFromPicker),onHide:function(){return e.setState({visibleDateFromPicker:!1})},onConfirm:e._handleDateFrom,isVisible:e.state.visibleDateFromPicker,mode:"date"}),o.a.createElement(sn,{date:new Date(e.state.valueDateToPicker),onHide:function(){return e.setState({visibleDateToPicker:!1})},onConfirm:e._handleDateTo,isVisible:e.state.visibleDateToPicker,mode:"date"}))}))}}]),n}(o.a.Component);function Pc(e){var t=e.data,n=e.onSelect,a=Object(r.useContext)(F).state;return o.a.createElement(Xe,{style:{padding:10,marginTop:1},onPress:function(){return n(t)}},o.a.createElement(re,{style:{margin:2,color:a.primary,fontWeight:"bold",fontSize:18}},br(t.Status)),o.a.createElement(re,null,o.a.createElement(oe,null,"CONFIRMATIONOFPROTECTION"),": ",o.a.createElement(oe,{style:{color:a.primary}},xr(t.StatusSA))),o.a.createElement(re,{style:{textAlign:"center"}},t.Code),o.a.createElement(re,null,o.a.createElement(oe,null,"CREATOR"),": ",t.Creator),o.a.createElement(re,null,o.a.createElement(oe,null,"USERCONFIRMWORK"),": ",t.UserConfirmWork),o.a.createElement(re,null,o.a.createElement(oe,null,"TEAM"),": ",t.Team))}function Mc(e){var t=e.navigation,n=Object(r.useContext)(Hn.UserContext).user,a=Object(r.useState)({list:[],loading:!1}),i=s()(a,2),c=i[0],l=i[1],u=function(){return pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:l(ae()({},c,{loading:!0})),setTimeout((function(){var e,t;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return(e=new FormData).append("action","getlistconfirmwork"),e.append("userid",n.UserID.toString()),a.next=5,pe.a.awrap($n(e));case 5:1===(t=a.sent).status?l(ae()({},c,{loading:!1,list:t.data})):l(ae()({},c,{loading:!1}));case 7:case"end":return a.stop()}}),null,null,null,Promise)}),2e3);case 2:case"end":return e.stop()}}),null,null,null,Promise)},p=function(e){1===e.Status||4===e.Status?t.navigate("ConfirmWorkFormRegister",{ReadyData:e}):e.Status>1&&t.navigate("DocumentDetail",{documentid:e.ConfirmWorkID,documenttypename:"HRLEAVEABSENCE",documentcode:e.Code})};return Object(r.useEffect)((function(){u()}),[]),Object(ca.useFocusEffect)(o.a.useCallback((function(){u()}),[])),o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flex:1}},o.a.createElement(fe.a,{refreshing:c.loading,keyExtractor:function(e){return e.ConfirmWorkID},onRefresh:u,data:c.list,renderItem:function(e){var t=e.item;return o.a.createElement(Pc,{onSelect:p,data:t})}})))}var Tc=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(e){var a;return d()(this,n),(a=t.call(this,e)).state={measured:!1,shouldShowReadMore:!1,showAllText:!1,_isMounted:!0,_text:null},a._handlePressReadMore=function(){a.setState({showAllText:!0})},a._handlePressReadLess=function(){a.setState({showAllText:!1})},a}return y()(n,[{key:"componentDidMount",value:function(){var e,t,n=this;return pe.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,pe.a.awrap(jc());case 2:if(this.state._isMounted){a.next=4;break}return a.abrupt("return");case 4:return a.next=6,pe.a.awrap(Yc(this.state._text));case 6:return e=a.sent,this.setState({measured:!0}),a.next=10,pe.a.awrap(jc());case 10:if(this.state._isMounted){a.next=12;break}return a.abrupt("return");case 12:return a.next=14,pe.a.awrap(Yc(this.state._text));case 14:t=a.sent,e>t?this.setState({shouldShowReadMore:!0},(function(){n.props.onReady&&n.props.onReady()})):this.props.onReady&&this.props.onReady();case 16:case"end":return a.stop()}}),null,this,null,Promise)}},{key:"componentWillUnmount",value:function(){this.state._isMounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.measured,a=t.showAllText,r=this.props.numberOfLines;return o.a.createElement(R.a,null,o.a.createElement(i.a,{numberOfLines:n&&!a?r:0,ref:function(t){e.state._text=t}},this.props.children),this._maybeRenderReadMore())}},{key:"_maybeRenderReadMore",value:function(){var e=this.state,t=e.shouldShowReadMore,n=e.showAllText;return t&&!n?this.props.renderTruncatedFooter?this.props.renderTruncatedFooter(this._handlePressReadMore):o.a.createElement(i.a,{style:Ac.button,onPress:this._handlePressReadMore},"Read more"):t&&n?this.props.renderRevealedFooter?this.props.renderRevealedFooter(this._handlePressReadLess):o.a.createElement(i.a,{style:Ac.button,onPress:this._handlePressReadLess},"Hide"):void 0}}]),n}(o.a.Component);function Yc(e){return new Promise((function(t){e.measure((function(e,n,a,r){t(r)}))}))}function jc(){return new Promise((function(e){return requestAnimationFrame((function(){return e()}))}))}var Ac=I.a.create({button:{color:"#888",marginTop:5}});var Nc=I.a.create({bottom:{paddingHorizontal:10,flexDirection:"row",justifyContent:"space-between"},content:{minHeight:120,flexDirection:"column",marginVertical:10},text:{textAlign:"left",marginHorizontal:5},texttitle:{textAlign:"left",marginHorizontal:5,marginVertical:10,fontSize:18}}),_c=Object(r.memo)((function(e){var t=e.itemfeed,a=e.onPinPost,i=e.onHidePost,c=e.goViewDetail,l=Object(r.useState)(!0),u=s()(l,2),p=u[0],f=u[1],m=JSON.parse(t.InforUser.toString()),d=m.UserName,h=m.UserCodeID;return o.a.createElement(Z,{style:{margin:0,marginHorizontal:5,padding:10,borderRadius:5,marginBottom:10,paddingHorizontal:0}},o.a.createElement(R.a,{style:{paddingHorizontal:10,flexDirection:"row",backgroundColor:1===t.Status?"rgba(255, 99, 72, 0.1)":"transparent"}},o.a.createElement(R.a,{style:{justifyContent:"flex-start"}},o.a.createElement(Ke,{size:34,source:"99999"===h?n(757):{uri:Qn(t.CompanyCode.toString(),h+".jpg")}})),o.a.createElement(R.a,null,o.a.createElement(re,{style:{fontFamily:"roboto-medium"}},d),o.a.createElement(re,{style:{fontSize:10}},ot()(t.CreatedDate).format("YYYY-MM-DD h:mm a").toString())),o.a.createElement(R.a,{style:{position:"absolute",flexDirection:"row",top:0,right:10}},t.Pin&&void 0!==t.Pin?o.a.createElement(Ne,{type:"SimpleLineIcons",name:"pin",size:18,color:"#ff6348"}):null,o.a.createElement(Ot,{style:{alignItems:"center",marginLeft:10,padding:0,margin:0},icon:{type:"EvilIcons",name:"chevron-down",color:"#747d8c"},onPress:function(){f(1!=p)},size:32}))),o.a.createElement((function(e){return e.hide?null:o.a.createElement(He.a,{horizontal:!0,contentContainerStyle:{marginRight:10,flex:1,justifyContent:"flex-end"}},e.children)}),{hide:p},o.a.createElement(w.a,{onPress:function(){null===t.Pin?a(!0):a(!1),f(!0)},style:{padding:10,flexDirection:"row",alignItems:"center"}},o.a.createElement(Ne,{type:"SimpleLineIcons",name:"pin",size:20,style:{marginRight:4}}),null===t.Pin?o.a.createElement(oe,null,"PIN"):o.a.createElement(oe,null,"UNPIN")),o.a.createElement(w.a,{onPress:function(){0===t.Status?i(1):i(0),f(!0)},style:{padding:10,flexDirection:"row",alignItems:"center"}},o.a.createElement(Ne,{type:"AntDesign",name:"closesquareo",size:20,style:{marginRight:4}}),0===t.Status?o.a.createElement(oe,null,"HIDE"):o.a.createElement(oe,null,"SHOW"))),t.ImageList&&t.ImageList.length>0?o.a.createElement(R.a,{style:{flexDirection:"column"}},o.a.createElement(re,{style:{fontSize:18,paddingHorizontal:20,marginVertical:10,color:"#e67e22"}},t.Content),o.a.createElement(Ue.a,{resizeMode:"stretch",style:{minHeight:400},source:{uri:"http://portal.feavn.com.vn:82/json/hostapp/xxx.jpg"}})):o.a.createElement(R.a,{style:Nc.content},o.a.createElement(w.a,{onPress:c},o.a.createElement(re,{style:Nc.texttitle},t.Title),o.a.createElement(R.a,{key:t.NoID,style:{justifyContent:"center",paddingHorizontal:5}},o.a.createElement(Tc,{renderTruncatedFooter:function(e){return o.a.createElement(oe,{style:{marginTop:5,marginBottom:10},onPress:e},"READMORE")},renderRevealedFooter:function(e){return o.a.createElement(oe,{style:{marginTop:5,marginBottom:10},onPress:e},"COLLAPSE")},numberOfLines:5},o.a.createElement(re,{style:Nc.text},t.Content))))))}));function Lc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lc(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Uc=I.a.create({haveBorder:{flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:16,borderLeftWidth:3,borderRightWidth:3,borderColor:"#ff5229",flex:1},noBorder:{flexDirection:"row",alignItems:"center",justifyContent:"center",fontSize:16,flex:1}}),Hc=Object(r.memo)((function(e){var t=e.navigation,n=(e.route,Object(r.useContext)(Hn.UserContext)),a=Object(r.useState)([{id:1,title:"ITSMART",key:"ITSmart",icon:"star-half",color:"#e8554e",status:!0},{id:2,title:"SIGNDOCUMENT",key:"Document",icon:"pencil-square-o",color:"#2aa876",status:!1},{id:3,title:"NEWS",key:"Portal",icon:"yelp",color:"#ffd265",status:!1},{id:4,title:"ALL",key:"all",icon:"superpowers",color:"#a29bfe",status:!1}]),i=s()(a,2),c=i[0],l=i[1],u=Object(r.useState)([]),p=s()(u,2),f=p[0],m=p[1],d=Object(r.useState)([]),h=s()(d,2),y=h[0],g=h[1],v=Object(r.useState)(!1),E=s()(v,2),b=E[0],x=E[1],D=function(){var e,t,a,r,o=arguments;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:"all",(t=new FormData).append("action","gettimelines"),t.append("companycode",n.user.CompanyCode.toString()),t.append("userid",n.user.UserID.toString()),i.next=7,pe.a.awrap($n(t));case 7:a=i.sent,m(1===a.status?a.data:[]),r="all"!==e?a.data.filter((function(t){return t.TypeTimeLine===e&&0===t.Status})):a.data,g(O()(r)),x(!1);case 12:case"end":return i.stop()}}),null,null,null,Promise)};return Object(r.useEffect)((function(){D("ITSmart")}),[]),o.a.createElement(Le,null,o.a.createElement(Fe,null),o.a.createElement(R.a,{style:{flexDirection:"row",justifyContent:"space-around"}},c.map((function(e){return o.a.createElement(Z,{onPress:function(){return function(e,t){var n=c.map((function(e){return e.status=!1,e})).map((function(t){return t.id===e?Fc({},t,{status:!0}):t}));if(l(n),"all"===t)g(O()(f));else{var a=f.filter((function(e){return e.TypeTimeLine===t&&0===e.Status}));g(O()(a))}}(e.id,e.key)},key:e.id,style:!0===e.status?Uc.haveBorder:Uc.noBorder},o.a.createElement(Ne,{size:24,type:"FontAwesome",name:e.icon,color:e.color}),o.a.createElement(oe,null,e.title))}))),o.a.createElement(R.a,null,o.a.createElement(jt,{style:{marginLeft:5,paddingVertical:10,fontFamily:"roboto-regular"}},"TIMELINEACTIVITY"),o.a.createElement(fe.a,{showsVerticalScrollIndicator:!1,data:y,refreshControl:o.a.createElement(yi.a,{refreshing:b,onRefresh:function(){return pe.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:x(!0),D(c.find((function(e){return 1==e.status})).key);case 2:case"end":return e.stop()}}),null,null,null,Promise)}}),renderItem:function(e){var n=e.item;return o.a.createElement(_c,{onPinPost:function(e){!function(e,t){var n,a,r,o;pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=new FormData).append("action","pinhidetimelines"),n.append("noid",e),n.append("type","pin"),n.append("pin",t),n.append("status","0"),i.next=8,pe.a.awrap($n(n));case 8:1===(a=i.sent).status&&1===a.data&&(r=y.map((function(n){return n.NoID===e?Fc({},n,{Pin:!0===t?ot()():null}):n})),g(r),o=f.map((function(n){return n.NoID===e?Fc({},n,{Pin:!0===t?ot()():null}):n})),m(o));case 10:case"end":return i.stop()}}),null,null,null,Promise)}(n.NoID,e)},onHidePost:function(e){!function(e,t){var n,a,r,o;pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=new FormData).append("action","pinhidetimelines"),n.append("noid",e),n.append("type","hide"),n.append("pin","true"),n.append("status",t),i.next=8,pe.a.awrap($n(n));case 8:1===(a=i.sent).status&&1===a.data&&1===t&&g(y.filter((function(t){return t.NoID!=e}))),r=f.map((function(n){return n.NoID===e?Fc({},n,{Status:1===t?1:0}):n})),m(r),0===t&&(o=y.map((function(n){return n.NoID===e?Fc({},n,{Status:t}):n})),g(o));case 13:case"end":return i.stop()}}),null,null,null,Promise)}(n.NoID,e)},itemfeed:n,goViewDetail:function(){var e,a;e=n.RouteID,a=n.Params,t.navigate(e,JSON.parse(a))}})},keyExtractor:function(e,t){return t.toString()}})))}));var zc=function(e){D()(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,a=b()(e);if(t()){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return v()(this,n)}}(n);function n(){return d()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this.props,t=e.hint,n=e.value;return o.a.createElement(Xe,{style:{flexDirection:"row",justifyContent:"space-between",marginBottom:I.a.hairlineWidth}},t&&o.a.createElement(oe,{style:{marginRight:20}},t),o.a.createElement(re,{style:{textAlign:"right",flex:1}},n))}}]),n}(o.a.Component),Wc=function(e){var t=ot()(e).format("YYYY-MM-DD");return ot()().diff(t,"years",!1).toString()};function Vc(e){var t=e.navigation,n=e.route,a=Object(r.useContext)(Hn.UserContext).user;return Object(r.useEffect)((function(){var e=n.params.title;t.setParams({title:e})}),[]),o.a.createElement(Le,null,o.a.createElement(He.a,null,o.a.createElement(Xe,null,o.a.createElement(jt,{style:{fontWeight:"500",marginLeft:5}},"PERSONALINFORMATION"),o.a.createElement(zc,{hint:"EMPNAME",value:a.UserName+" ("+(""===a.UserNameEN?"-":a.UserNameEN)+")"}),o.a.createElement(zc,{hint:"GENDER",value:a.Gender}),o.a.createElement(zc,{hint:"AGE",value:Wc(a.Birthday)}),o.a.createElement(zc,{hint:"NATIONALITY",value:a.Nationality}),o.a.createElement(zc,{hint:"DEPARTMENT",value:a.Department}),o.a.createElement(zc,{hint:"SECTION",value:a.Section}),o.a.createElement(zc,{hint:"TEAM",value:a.Team}),o.a.createElement(zc,{hint:"STARTWORK",value:ot()(a.StartWork).add(1,"days").format("DD-MM-YYYY")}),o.a.createElement(zc,{hint:"ENDWORK",value:void 0===a.EndWork||null===a.EndWork||parseInt(ot()(a.EndWork).format("YYYY"),0)>5e3?"-":ot()(a.EndWork).format("DD-MM-YYYY")}),o.a.createElement(kt,{onPress:function(){return t.navigate("ChangePassword")}},"CHANGEPASSWORD")),o.a.createElement(Xe,null,o.a.createElement(jt,null,"CONTACTINFORMATION"),o.a.createElement(zc,{hint:"EMAIL",value:a.UserEmail}),o.a.createElement(zc,{hint:"PHONE",value:a.UserPhone}),o.a.createElement(zc,{hint:"ADDRESS",value:a.Address}))))}function Bc(e){var t=e.data,n=e.onSelect;return o.a.createElement(Xe,{onPress:function(){return n&&n(t)},style:{marginVertical:1,minHeight:60}},o.a.createElement(re,{style:{fontSize:16}},t.TITLE))}function Gc(e){var t=e.navigation,n=Object(r.useState)([]),a=s()(n,2),i=a[0],c=a[1];Object(r.useEffect)((function(){l()}),[]);var l=function(){var e,t;return pe.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return(e=new FormData).append("action","getlistuserguide"),n.next=4,pe.a.awrap($n(e));case 4:1===(t=n.sent).status&&c(t.data);case 6:case"end":return n.stop()}}),null,null,null,Promise)},u=function(e){return t.navigate("UserGuideDetail",{id:e.CONTENTID,title:e.TITLE})};return o.a.createElement(Le,null,o.a.createElement(fe.a,{data:i,renderItem:function(e){var t=e.item;return o.a.createElement(Bc,{data:t,onSelect:u})},keyExtractor:function(e){return e.CONTENTID+""}}))}var Kc=Object(r.memo)((function(e){e.navigation;var t=e.route,n=o.a.useState({data:{},content:null,loading:!1}),i=s()(n,2),c=(i[0],i[1],o.a.useState(null)),l=s()(c,2),u=l[0],p=l[1],f=function(e,t){var n=a.parse(e);console.log(JSON.stringify(n));var r=[],i="",c={};n.forEach((function(e){var n=function e(n){if(!n)return null;if("element"!==n.type)return"text"===n.type?void(i+=(s=n.content,s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=(s=s.replace(/&nbsp;/g," ")).replace(/&agrave;/g,"\xe0")).replace(/&aacute;/g,"\xe1")).replace(/&Aacute;/g,"\xc1")).replace(/&Acirc;/g,"\xc2")).replace(/&Atilde;/g,"\xc3")).replace(/&Eacute;/g,"\xc9")).replace(/&Ecirc;/g,"\xca")).replace(/&Iacute;/g,"\xcd")).replace(/&Ocirc;/g,"\xd4")).replace(/&Otilde;/g,"\xd5")).replace(/&Oacute;/g,"\xd3")).replace(/&Uacute;/g,"\xda")).replace(/&aacute;/g,"\xe1")).replace(/&acirc;/g,"\xe2")).replace(/&atilde;/g,"\xe3")).replace(/&eacute;/g,"\xe9")).replace(/&egrave;/g,"\xe8")).replace(/&ecirc;/g,"\xea")).replace(/&iacute;/g,"\xed")).replace(/&ocirc;/g,"\xf4")).replace(/&otilde;/g,"\xf5")).replace(/&oacute;/g,"\xf3")).replace(/&uacute;/g,"\xfa")).replace(/&igrave;/g,"\xec")).replace(/&yacute;/g,"\xfd")).replace(/&gt;/g,">")).replace(/&ograve;/g,"\xf2")).replace(/&ldquo;/g,"\u201c")).replace(/&rdquo;/g,"\u201d")).replace(/&rarr;/g,"\u2192")).replace(/&larr;/g,"\u2190")).replace(/&ugrave;/g,"\xf9"))):void 0;if(["li","p","ol","h1","br","ac:image","h2","ul"].includes(n.tagName)&&(""!==i&&(r.push(o.a.createElement(re,{key:C()()+n.tagName,style:c},i)),i="",c={}),"ac:image"===n.tagName&&(""!==i&&(r.push(o.a.createElement(re,{key:C()()+n.tagName},i)),i="",c={}),n.children&&n.children.forEach((function(e,n){var a=e.attributes;r.push(o.a.createElement(Ue.a,{key:a.value+n,source:{uri:Zn(a.value,t)},style:{width:"100%",height:200,margin:2},resizeMethod:"auto",resizeMode:"contain"}))})))),"li"===n.tagName&&(i=" \u2022 "),"h1"===n.tagName&&(c={fontSize:22}),"h2"===n.tagName&&(c={fontSize:16,fontWeight:"600"}),n.children){var a=[];return n.children.forEach((function(t){a.push(e(t))})),a}var s}(e);console.log(n),r.push(o.a.createElement(R.a,{key:C()()},n))})),p(r)};Object(r.useEffect)((function(){m()}),[]);var m=function(){var e,n,a,r,o;return pe.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return e=t.params,e.title,n=e.id,console.log({id:n}),(a=new FormData).append("action","getuserguidedetail"),a.append("id",n),i.next=7,pe.a.awrap($n(a));case 7:1===(r=i.sent).status&&(o=r.data.BODY)&&f(o,n);case 9:case"end":return i.stop()}}),null,null,null,Promise)};return o.a.createElement(Le,null,o.a.createElement(He.a,null,o.a.createElement(R.a,{style:{paddingHorizontal:6}},u)))})),qc=Object(Bn.a)();function Jc(){var e=Object(r.useContext)(F).state;return o.a.createElement(qc.Navigator,{tabBarOptions:{showLabel:!1,style:{backgroundColor:e.backgroundlight}},lazy:!0,initialRouteName:"Home"},o.a.createElement(qc.Screen,{name:"Portal",component:hi,options:{tabBarIcon:function(t){var n=t.focused;return o.a.createElement(Ne,{type:"FontAwesome",name:"newspaper-o",size:25,color:n?e.primary:e.text})}}}),o.a.createElement(qc.Screen,{name:"TimeLine",component:Hc,options:{tabBarIcon:function(t){var n=t.focused;return o.a.createElement(Ne,{type:"FontAwesome",name:"stack-overflow",size:25,color:n?e.primary:e.text})}}}),o.a.createElement(qc.Screen,{name:"Home",component:Jr,options:function(e){return u()(e),{tabBarIcon:function(e){var t=e.focused;return o.a.createElement(Ue.a,{style:{height:38,borderRadius:20,width:38},resizeMode:"cover",source:n(t?765:766)})}}}}),o.a.createElement(qc.Screen,{name:"Notification",component:Zo,options:function(t){return u()(t),{tabBarIcon:function(t){var n=t.focused;return o.a.createElement(Ne,{size:25,type:"Entypo",name:"notification",color:n?e.primary:e.text})}}}}),o.a.createElement(qc.Screen,{name:"Settings",component:Ji,options:function(t){return u()(t),{tabBarIcon:function(t){var n=t.focused;return o.a.createElement(Ne,{size:25,type:"AntDesign",name:"setting",color:n?e.primary:e.text})}}}}))}var Xc=Object(Kn.a)();function Qc(e){u()(e);var t=Object(r.useContext)(F).state,n=Object(r.useContext)(te).state.lg;return o.a.createElement(Xc.Navigator,{screenOptions:{headerStyle:{backgroundColor:t.backgroundlight},headerTintColor:t.text,headerTitleStyle:{fontFamily:"roboto-regular"},headerBackTitleVisible:!1}},o.a.createElement(Xc.Screen,{name:"SignIn",component:lc,options:{header:function(e){return u()(e),null},headerShown:!1}}),o.a.createElement(Xc.Screen,{name:"ResetPassword",component:uc,options:{title:n.PASSWORDRECOVERY,headerBackTitle:null}}),o.a.createElement(Xc.Screen,{name:"LoginQR",component:pc,options:{title:n.SIGNIN}}),o.a.createElement(Xc.Screen,{name:"LoginDetailNews",component:fc,initialParams:{title:""},options:function(e){return{title:e.route.params.title}}}))}function Zc(){var e=Object(r.useContext)(F).state,t=Object(r.useContext)(te).state.lg;return o.a.createElement(Xc.Navigator,{screenOptions:{headerStyle:{backgroundColor:e.backgroundlight},headerTintColor:e.text,headerTitleStyle:{fontFamily:"roboto-regular"},headerBackTitleVisible:!1},initialRouteName:"MainTab"},o.a.createElement(Xc.Screen,{name:"MainTab",component:Jc,options:{title:"IT Smart",headerStatusBarHeight:0,headerShown:!1}}),o.a.createElement(Xc.Screen,{name:"Profile",component:Ui,options:function(e){var n=e.route,a=e.navigation;return{title:t.PERSONALINFORMATION,headerRight:function(){return o.a.createElement(Be.f,{onPress:function(){return a.navigate("ProfileInfo",{title:n.params.username})}},o.a.createElement(Ne,{type:"Ionicons",name:"md-person",size:24,style:{marginRight:6}}))}}}}),o.a.createElement(Xc.Screen,{name:"ProfileInfo",component:Vc,options:function(e){return{title:e.route.params.title}}}),o.a.createElement(Xc.Screen,{name:"Payroll",component:ci,initialParams:{payrollData:null},options:{title:t.PAYROLL}}),o.a.createElement(Xc.Screen,{name:"ChangePassword",component:Fa,options:{title:t.CHANGEPASSWORD}}),o.a.createElement(Xc.Screen,{name:"NotificationListByType",component:$o}),o.a.createElement(Xc.Screen,{name:"Theme",component:Qi,options:{title:t.THEME}}),o.a.createElement(Xc.Screen,{name:"Langague",component:qi,options:{title:t.LANGUAGE}}),o.a.createElement(Xc.Screen,{name:"ListPayroll",component:ni,options:{title:t.PAYROLLLIST}}),o.a.createElement(Xc.Screen,{name:"SignDocumentHome",initialParams:{menuaction:function(){}},component:vc,options:function(e){var n=e.route,a=e.navigation;return{title:t.SIGNDOCUMENT,headerRight:function(){return o.a.createElement(R.a,{style:{flexDirection:"row"}},o.a.createElement(Ot,{onPress:function(){return a.navigate("SignDocumentHistory")},icon:{type:"MaterialIcons",name:"history"}}),o.a.createElement(Ot,{onPress:n.params.menuaction,icon:{type:"AntDesign",name:"filter"}}))}}}}),o.a.createElement(Xc.Screen,{name:"LeaveFormRegister",component:Ao,initialParams:{view:"",backaction:null},options:function(e){var n=e.route;return{title:t.SIGNUPFORLEAVE,headerLeft:function(){return o.a.createElement(Be.f,{onPress:n.params.backaction},o.a.createElement(Ne,{type:"AntDesign",name:"closecircleo",size:28,style:{marginLeft:6}}))}}}}),o.a.createElement(Xc.Screen,{name:"LeaveList",component:ua,options:{title:t.ABSENCELIST}}),o.a.createElement(Xc.Screen,{name:"DocumentDetail",component:mc,options:function(e){return{title:e.route.params.title}}}),o.a.createElement(Xc.Screen,{name:"Chat",component:Ja,initialParams:{groupcode:"",optionaction:function(){}},options:function(e){var t=e.route;return{title:t.params.groupcode,headerRight:function(){return o.a.createElement(Be.f,{onPress:t.params.optionaction},o.a.createElement(Ne,{type:"Entypo",name:"users",size:22,style:{marginRight:6}}))}}}}),o.a.createElement(Xc.Screen,{name:"Conversation",component:er,options:{title:"Conversation"}}),o.a.createElement(Xc.Screen,{name:"SignDocumentHistory",component:dc,options:{title:t.SIGNINGHISTORY}}),o.a.createElement(Xc.Screen,{name:"TimelineWorking",component:Ic,options:{title:t.TIMELINEWORKING}}),o.a.createElement(Xc.Screen,{name:"MeetingBooking",component:Xo,options:{title:t.BOOKINGMEETING}}),o.a.createElement(Xc.Screen,{name:"DetailPortal",initialParams:{title:""},component:Ei,options:function(e){var t=e.route;e.navigation;return{title:t.params.title}}}),o.a.createElement(Xc.Screen,{name:"Call",component:ka}),o.a.createElement(Xc.Screen,{name:"RequestLogin",component:Hi,options:{title:t.REQUESTLOGIN}}),o.a.createElement(Xc.Screen,{name:"AboutUs",component:aa,options:{title:t.ABOUTUS}}),o.a.createElement(Xc.Screen,{name:"Update",component:ec,options:{title:t.UPDATESYSTEM}}),o.a.createElement(Xc.Screen,{name:"LaborContract",component:Qr,options:{title:t.LABORCONTRACT}}),o.a.createElement(Xc.Screen,{name:"PayRollPermission",component:mi,options:{title:t.PAYROLL}}),o.a.createElement(Xc.Screen,{name:"BI",options:{title:t.BI},component:ia}),o.a.createElement(Xc.Screen,{name:"BIDetail",component:Sa,initialParams:{func:null},options:function(e){return{title:e.route.params.title}}}),o.a.createElement(Xc.Screen,{name:"UpdateHistory",component:ac,options:{title:t.HISTORYUPDATE}}),o.a.createElement(Xc.Screen,{name:"CarBooking",component:Ra,options:{header:function(e){return u()(e),null}}}),o.a.createElement(Xc.Screen,{name:"BarCode",component:ra,options:{title:"QR"}}),o.a.createElement(Xc.Screen,{name:"PortalFeedback",component:wi,options:function(e){return{title:e.route.params.title}}}),o.a.createElement(Xc.Screen,{name:"PortalFeedbackReply",component:Ri,options:function(e){return{title:e.route.params.title}}}),o.a.createElement(Xc.Screen,{name:"UserGuide",component:Gc,options:{title:t.USERGUIDE}}),o.a.createElement(Xc.Screen,{name:"UserGuideDetail",component:Kc,initialParams:{id:null,title:""},options:function(e){return{title:e.route.params.title}}}),o.a.createElement(Xc.Screen,{name:"ConfirmWorkFormRegister",component:Rr,initialParams:{RegisterData:null,ReadyData:null},options:function(e){return u()(e),{header:function(){return null}}}}),o.a.createElement(Xc.Screen,{name:"ConfirmWorkList",component:Mc,options:{title:t.CONFIRMWORKINGDAY}}))}function $c(e){return u()(e),o.a.createElement(Le,null,o.a.createElement(R.a,{style:{flex:1,justifyContent:"center",alignItems:"center"}},o.a.createElement(oe,null,"ERROR")))}Object(r.memo)((function(e){u()(e);var t=Object(r.useContext)(Hn.SocketContext).dispatch,n=Object(r.useContext)(F),a=n.state,i=n.dispatch,c=Object(r.useContext)(Hn.UserContext),l=c.user,p=c.permission,f=c.dispatch,m=Object(r.useContext)(J),d=m.state,h=d.currentEvent,y=d.view,g=m.dispatch,v=Object(r.useState)(null),E=s()(v,2),b=E[0],x=E[1],D=Object(r.useState)(!0),w=s()(D,2),S=(w[0],w[1],Object(r.useState)(null)),C=s()(S,2),k=C[0],O=C[1];Object(r.useEffect)((function(){var e=Vn.a.connect(Xn);t({type:Hn.AC_socket.set,socket:e}),x(e)}),[]);var R=mt(JSON.stringify([k,h]),6e4);Object(r.useEffect)((function(){I()}),[R]);var I=function(){"SignIn"!==k&&P()},P=function(){var e,t,n,a,r,o,i;return pe.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,pe.a.awrap(ut());case 2:if(e=c.sent,t=e.deviceId,n=e.deviceName,a=e.isDevice,c.prev=6,!((r=p&&p.findIndex((function(e){return"FEATURE"===e.TypeFunction&&"Autologout"===e.Function})))>-1&&l)){c.next=35;break}if(o="emulator",!a){c.next=22;break}if(c.prev=11,La("signin"),-1!==r){c.next=17;break}return c.next=16,pe.a.awrap(zn.a.getExpoPushTokenAsync());case 16:o=c.sent;case 17:c.next=22;break;case 19:c.prev=19,c.t0=c.catch(11),o="token";case 22:return(i=new FormData).append("action","logout"),i.append("token",o),i.append("userid",l.UserID.toString()),i.append("devicename",n),i.append("deviceid",t),i.append("appname","ITSmart"),c.next=31,pe.a.awrap($n(i));case 31:1===c.sent.status&&(b.emit("offline",{userid:l.UserID,usercode:l.UserCodeID}),Na(null,"signin"),f&&f({type:Hn.AC_user.set,user:null}),g({type:q,view:{view:"Sign",data:{}}})),c.next=35;break;case 35:c.next=40;break;case 37:c.prev=37,c.t1=c.catch(6),console.log(c.t1);case 40:case"end":return c.stop()}}),null,null,[[6,37],[11,19]],Promise)};return o.a.createElement(o.a.Fragment,{key:"root"},o.a.createElement(Gn.a,{theme:{colors:{background:a.background,text:a.text,primary:a.primary,card:a.backgroundlight,border:a.border},dark:"dark"===a.theme},onStateChange:function(e){var t=function e(t){if(!t)return null;var n=t.routes[t.index];return n.routes?e(n):n.routeName}(e);O(t)}},o.a.createElement(Xc.Navigator,{initialRouteName:"Loading",screenOptions:{headerShown:!1}},"Loading"===y.view?o.a.createElement(Xc.Screen,{name:"Loading",options:{header:function(e){return u()(e),null},headerShown:!1},component:_o}):"Sign"===y.view?o.a.createElement(Xc.Screen,{name:"Sign",component:Qc,options:{header:function(e){return u()(e),null},headerShown:!1}}):"Main"===y.view?o.a.createElement(Xc.Screen,{name:"Main",options:{header:function(e){return u()(e),null},headerShown:!1},component:Zc}):"Resources"===y.view?o.a.createElement(Xc.Screen,{name:"Resources",options:{header:function(e){return u()(e),null},headerShown:!1},component:Ki}):"StartingHome"===y.view?o.a.createElement(Xc.Screen,{name:"StartingHome",options:{header:function(e){return u()(e),null},headerShown:!1},component:bc}):o.a.createElement(Xc.Screen,{name:"ErrorLoading",component:$c,options:{header:function(e){return u()(e),null},headerShown:!1}}))),o.a.createElement(Jt,{visible:a.visiblealert,onDismiss:function(){return i({type:N})}},a.alert))}));function es(){return o.a.createElement(i.a,null,"H\xeallo")}n.d(t,"a",(function(){return es})),Object({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{name:"IT Smart",description:"Smart IT",slug:"itsmart",scheme:"itsmart",privacy:"public",sdkVersion:"36.0.0",platforms:["ios","android","web"],version:"2.2.1",orientation:"default",icon:"./assets/icon.png",primaryColor:"#F7574C",splash:{image:"./assets/splash_black.png",resizeMode:"contain",backgroundColor:"#000000"},updates:{fallbackToCacheTimeout:0},assetBundlePatterns:["**/*"],notification:{icon:"./assets/ic_notification.png"},web:{}},EXPO_USERNAME:"feamobile"}).ELECTRON_DISABLE_SECURITY_WARNINGS="1"},526:function(e,t,n){n(527),e.exports=n(528)},527:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/expo-service-worker.js",{scope:"/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))},669:function(e,t,n){var a={"./af":277,"./af.js":277,"./ar":278,"./ar-dz":279,"./ar-dz.js":279,"./ar-kw":280,"./ar-kw.js":280,"./ar-ly":281,"./ar-ly.js":281,"./ar-ma":282,"./ar-ma.js":282,"./ar-sa":283,"./ar-sa.js":283,"./ar-tn":284,"./ar-tn.js":284,"./ar.js":278,"./az":285,"./az.js":285,"./be":286,"./be.js":286,"./bg":287,"./bg.js":287,"./bm":288,"./bm.js":288,"./bn":289,"./bn.js":289,"./bo":290,"./bo.js":290,"./br":291,"./br.js":291,"./bs":292,"./bs.js":292,"./ca":293,"./ca.js":293,"./cs":294,"./cs.js":294,"./cv":295,"./cv.js":295,"./cy":296,"./cy.js":296,"./da":297,"./da.js":297,"./de":298,"./de-at":299,"./de-at.js":299,"./de-ch":300,"./de-ch.js":300,"./de.js":298,"./dv":301,"./dv.js":301,"./el":302,"./el.js":302,"./en-SG":303,"./en-SG.js":303,"./en-au":304,"./en-au.js":304,"./en-ca":305,"./en-ca.js":305,"./en-gb":306,"./en-gb.js":306,"./en-ie":307,"./en-ie.js":307,"./en-il":308,"./en-il.js":308,"./en-nz":309,"./en-nz.js":309,"./eo":310,"./eo.js":310,"./es":311,"./es-do":312,"./es-do.js":312,"./es-us":313,"./es-us.js":313,"./es.js":311,"./et":314,"./et.js":314,"./eu":315,"./eu.js":315,"./fa":316,"./fa.js":316,"./fi":317,"./fi.js":317,"./fo":318,"./fo.js":318,"./fr":319,"./fr-ca":320,"./fr-ca.js":320,"./fr-ch":321,"./fr-ch.js":321,"./fr.js":319,"./fy":322,"./fy.js":322,"./ga":323,"./ga.js":323,"./gd":324,"./gd.js":324,"./gl":325,"./gl.js":325,"./gom-latn":326,"./gom-latn.js":326,"./gu":327,"./gu.js":327,"./he":328,"./he.js":328,"./hi":329,"./hi.js":329,"./hr":330,"./hr.js":330,"./hu":331,"./hu.js":331,"./hy-am":332,"./hy-am.js":332,"./id":333,"./id.js":333,"./is":334,"./is.js":334,"./it":335,"./it-ch":336,"./it-ch.js":336,"./it.js":335,"./ja":337,"./ja.js":337,"./jv":338,"./jv.js":338,"./ka":339,"./ka.js":339,"./kk":340,"./kk.js":340,"./km":341,"./km.js":341,"./kn":342,"./kn.js":342,"./ko":343,"./ko.js":343,"./ku":344,"./ku.js":344,"./ky":345,"./ky.js":345,"./lb":346,"./lb.js":346,"./lo":347,"./lo.js":347,"./lt":348,"./lt.js":348,"./lv":349,"./lv.js":349,"./me":350,"./me.js":350,"./mi":351,"./mi.js":351,"./mk":352,"./mk.js":352,"./ml":353,"./ml.js":353,"./mn":354,"./mn.js":354,"./mr":355,"./mr.js":355,"./ms":356,"./ms-my":357,"./ms-my.js":357,"./ms.js":356,"./mt":358,"./mt.js":358,"./my":359,"./my.js":359,"./nb":360,"./nb.js":360,"./ne":361,"./ne.js":361,"./nl":362,"./nl-be":363,"./nl-be.js":363,"./nl.js":362,"./nn":364,"./nn.js":364,"./pa-in":365,"./pa-in.js":365,"./pl":366,"./pl.js":366,"./pt":367,"./pt-br":368,"./pt-br.js":368,"./pt.js":367,"./ro":369,"./ro.js":369,"./ru":370,"./ru.js":370,"./sd":371,"./sd.js":371,"./se":372,"./se.js":372,"./si":373,"./si.js":373,"./sk":374,"./sk.js":374,"./sl":375,"./sl.js":375,"./sq":376,"./sq.js":376,"./sr":377,"./sr-cyrl":378,"./sr-cyrl.js":378,"./sr.js":377,"./ss":379,"./ss.js":379,"./sv":380,"./sv.js":380,"./sw":381,"./sw.js":381,"./ta":382,"./ta.js":382,"./te":383,"./te.js":383,"./tet":384,"./tet.js":384,"./tg":385,"./tg.js":385,"./th":386,"./th.js":386,"./tl-ph":387,"./tl-ph.js":387,"./tlh":388,"./tlh.js":388,"./tr":389,"./tr.js":389,"./tzl":390,"./tzl.js":390,"./tzm":391,"./tzm-latn":392,"./tzm-latn.js":392,"./tzm.js":391,"./ug-cn":393,"./ug-cn.js":393,"./uk":394,"./uk.js":394,"./ur":395,"./ur.js":395,"./uz":396,"./uz-latn":397,"./uz-latn.js":397,"./uz.js":396,"./vi":398,"./vi.js":398,"./x-pseudo":399,"./x-pseudo.js":399,"./yo":400,"./yo.js":400,"./zh-cn":401,"./zh-cn.js":401,"./zh-hk":402,"./zh-hk.js":402,"./zh-tw":403,"./zh-tw.js":403};function r(e){var t=o(e);return n(t)}function o(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=o,e.exports=r,r.id=669},675:function(e){e.exports=JSON.parse('{"v":"4.5.7","fr":25,"ip":0,"op":33,"w":800,"h":600,"ddd":0,"assets":[{"id":"comp_0","layers":[{"ddd":0,"ind":0,"ty":3,"nm":"Null 1","ks":{"o":{"a":0,"k":0},"r":{"a":1,"k":[{"i":{"x":[0.268],"y":[1]},"o":{"x":[0.73],"y":[0]},"n":["0p268_1_0p73_0"],"t":0,"s":[0],"e":[180]},{"t":33}]},"p":{"a":1,"k":[{"i":{"x":0.277,"y":1},"o":{"x":0.721,"y":0},"n":"0p277_1_0p721_0","t":0,"s":[460,304,0],"e":[338,298,0],"to":[-20.3333339691162,-1,0],"ti":[20.3333339691162,1,0]},{"t":33}]},"a":{"a":0,"k":[0,0,0]},"s":{"a":0,"k":[200,200,100]}},"ao":0,"ip":0,"op":33,"st":0,"bm":0,"sr":1},{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 4","parent":0,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.26,"y":1},"o":{"x":0.731,"y":0},"n":"0p26_1_0p731_0","t":6,"s":[14.5,-1.375,0],"e":[14.5,28.625,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.267,"y":1},"o":{"x":0.716,"y":0},"n":"0p267_1_0p716_0","t":19,"s":[14.5,28.625,0],"e":[14.5,-1.375,0],"to":[0,0,0],"ti":[0,0,0]},{"t":32}]},"a":{"a":0,"k":[-99.5,-5.375,0]},"s":{"a":1,"k":[{"i":{"x":[0.279,0.279,0.667],"y":[1,1,0.667]},"o":{"x":[0.728,0.728,0.333],"y":[0,0,0.333]},"n":["0p279_1_0p728_0","0p279_1_0p728_0","0p667_0p667_0p333_0p333"],"t":6,"s":[75,75,100],"e":[150,150,100]},{"i":{"x":[0.275,0.275,0.667],"y":[1,1,0.667]},"o":{"x":[0.729,0.729,0.333],"y":[0,0,0.333]},"n":["0p275_1_0p729_0","0p275_1_0p729_0","0p667_0p667_0p333_0p333"],"t":19,"s":[150,150,100],"e":[75,75,100]},{"t":32}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[20.969,20.969]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"st","c":{"a":0,"k":[0.64,0.16,0.16,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":0},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0.84,0.09,0.38,1],"e":[0.18,0.78,0.69,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":17,"s":[0.18,0.78,0.69,1],"e":[0.84,0.09,0.38,1]},{"t":33}]},"o":{"a":0,"k":100},"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[-99.516,-5.516],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"mn":"ADBE Vector Group"}],"ip":0,"op":33,"st":0,"bm":0,"sr":1},{"ddd":0,"ind":2,"ty":4,"nm":"Shape Layer 3","parent":0,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.281,"y":1},"o":{"x":0.73,"y":0},"n":"0p281_1_0p73_0","t":4,"s":[-15.5,-1.375,0],"e":[-15.5,-31.375,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.266,"y":1},"o":{"x":0.737,"y":0},"n":"0p266_1_0p737_0","t":17,"s":[-15.5,-31.375,0],"e":[-15.5,-1.375,0],"to":[0,0,0],"ti":[0,0,0]},{"t":30}]},"a":{"a":0,"k":[-99.5,-5.375,0]},"s":{"a":1,"k":[{"i":{"x":[0.279,0.279,0.667],"y":[1,1,0.667]},"o":{"x":[0.728,0.728,0.333],"y":[0,0,0.333]},"n":["0p279_1_0p728_0","0p279_1_0p728_0","0p667_0p667_0p333_0p333"],"t":4,"s":[75,75,100],"e":[150,150,100]},{"i":{"x":[0.275,0.275,0.667],"y":[1,1,0.667]},"o":{"x":[0.729,0.729,0.333],"y":[0,0,0.333]},"n":["0p275_1_0p729_0","0p275_1_0p729_0","0p667_0p667_0p333_0p333"],"t":17,"s":[150,150,100],"e":[75,75,100]},{"t":30}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[20.969,20.969]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"st","c":{"a":0,"k":[0.64,0.16,0.16,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":0},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0.84,0.09,0.38,1],"e":[0.61,0.76,0.03,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":17,"s":[0.61,0.76,0.03,1],"e":[0.84,0.09,0.38,1]},{"t":33}]},"o":{"a":0,"k":100},"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[-99.516,-5.516],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"mn":"ADBE Vector Group"}],"ip":0,"op":33,"st":0,"bm":0,"sr":1},{"ddd":0,"ind":3,"ty":4,"nm":"Shape Layer 2","parent":0,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.28,"y":1},"o":{"x":0.729,"y":0},"n":"0p28_1_0p729_0","t":2,"s":[-45.5,-1.375,0],"e":[-45.5,28.625,0],"to":[0,0,0],"ti":[0,0,0]},{"i":{"x":0.287,"y":1},"o":{"x":0.714,"y":0},"n":"0p287_1_0p714_0","t":15,"s":[-45.5,28.625,0],"e":[-45.5,-1.375,0],"to":[0,0,0],"ti":[0,0,0]},{"t":28}]},"a":{"a":0,"k":[-99.5,-5.375,0]},"s":{"a":1,"k":[{"i":{"x":[0.279,0.279,0.667],"y":[1,1,0.667]},"o":{"x":[0.728,0.728,0.333],"y":[0,0,0.333]},"n":["0p279_1_0p728_0","0p279_1_0p728_0","0p667_0p667_0p333_0p333"],"t":2,"s":[75,75,100],"e":[150,150,100]},{"i":{"x":[0.275,0.275,0.667],"y":[1,1,0.667]},"o":{"x":[0.729,0.729,0.333],"y":[0,0,0.333]},"n":["0p275_1_0p729_0","0p275_1_0p729_0","0p667_0p667_0p333_0p333"],"t":15,"s":[150,150,100],"e":[75,75,100]},{"t":28}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[20.969,20.969]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"st","c":{"a":0,"k":[0.64,0.16,0.16,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":0},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"fl","c":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":0,"s":[0.84,0.09,0.38,1],"e":[0.95,0.47,0.36,1]},{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"n":["0p833_0p833_0p167_0p167"],"t":17,"s":[0.95,0.47,0.36,1],"e":[0.84,0.09,0.38,1]},{"t":33}]},"o":{"a":0,"k":100},"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[-99.516,-5.516],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"mn":"ADBE Vector Group"}],"ip":0,"op":33,"st":0,"bm":0,"sr":1},{"ddd":0,"ind":4,"ty":4,"nm":"Shape Layer 1","parent":0,"ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":1,"k":[{"i":{"x":0.279,"y":1},"o":{"x":0.728,"y":0},"n":"0p279_1_0p728_0","t":0,"s":[-75.5,-1.375,0],"e":[-75.5,-31.375,0],"to":[0,-5,0],"ti":[0,0,0]},{"i":{"x":0.264,"y":1},"o":{"x":0.735,"y":0},"n":"0p264_1_0p735_0","t":13,"s":[-75.5,-31.375,0],"e":[-75.5,-1.375,0],"to":[0,0,0],"ti":[0,-5,0]},{"t":26}]},"a":{"a":0,"k":[-99.5,-5.375,0]},"s":{"a":1,"k":[{"i":{"x":[0.279,0.279,0.667],"y":[1,1,0.667]},"o":{"x":[0.728,0.728,0.333],"y":[0,0,0.333]},"n":["0p279_1_0p728_0","0p279_1_0p728_0","0p667_0p667_0p333_0p333"],"t":0,"s":[75,75,100],"e":[150,150,100]},{"i":{"x":[0.275,0.275,0.667],"y":[1,1,0.667]},"o":{"x":[0.729,0.729,0.333],"y":[0,0,0.333]},"n":["0p275_1_0p729_0","0p275_1_0p729_0","0p667_0p667_0p333_0p333"],"t":13,"s":[150,150,100],"e":[75,75,100]},{"t":26}]}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":1,"ty":"el","s":{"a":0,"k":[20.969,20.969]},"p":{"a":0,"k":[0,0]},"nm":"Ellipse Path 1","mn":"ADBE Vector Shape - Ellipse"},{"ty":"st","c":{"a":0,"k":[0.64,0.16,0.16,1]},"o":{"a":0,"k":100},"w":{"a":0,"k":0},"lc":1,"lj":1,"ml":4,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke"},{"ty":"fl","c":{"a":0,"k":[0.84,0.09,0.38,1]},"o":{"a":0,"k":100},"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill"},{"ty":"tr","p":{"a":0,"k":[-99.516,-5.516],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Ellipse 1","np":3,"mn":"ADBE Vector Group"}],"ip":0,"op":33,"st":0,"bm":0,"sr":1}]}],"layers":[{"ddd":0,"ind":0,"ty":0,"nm":"Komplet","refId":"comp_0","ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[400,300,0]},"a":{"a":0,"k":[400,300,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"w":800,"h":600,"ip":0,"op":15,"st":-18,"bm":0,"sr":1},{"ddd":0,"ind":1,"ty":0,"nm":"Komplet","refId":"comp_0","ks":{"o":{"a":0,"k":100},"r":{"a":0,"k":0},"p":{"a":0,"k":[400,300,0]},"a":{"a":0,"k":[400,300,0]},"s":{"a":0,"k":[100,100,100]}},"ao":0,"w":800,"h":600,"ip":15,"op":33,"st":15,"bm":0,"sr":1}]}')},698:function(e,t){},717:function(e,t,n){e.exports=n.p+"static/media/coming-soon-v2.65ac1dd5.png"},722:function(e,t,n){e.exports=n.p+"static/media/icon.12d98442.png"},723:function(e,t,n){e.exports=n.p+"static/media/logo_feavn.9d774a35.png"},748:function(e,t,n){e.exports=n.p+"static/media/bg_itsmart.2d948aef.jpg"},754:function(e,t,n){e.exports=n.p+"static/media/1.57813c67.jpg"},755:function(e,t,n){e.exports=n.p+"static/media/2.7ffe335d.jpg"},756:function(e,t,n){e.exports=n.p+"static/media/3.76cf7146.jpg"},757:function(e,t,n){e.exports=n.p+"static/media/it-smart-bot.1bc8e1c4.png"},765:function(e,t,n){e.exports=n.p+"static/media/icon_itsmart_unactive.ca71fe1d.png"},766:function(e,t,n){e.exports=n.p+"static/media/icon_itsmart_unactive2.d26eb01a.png"},769:function(e,t,n){e.exports=n.p+"./fonts/Roboto-Light.ttf"},770:function(e,t,n){e.exports=n.p+"./fonts/Roboto-Regular.ttf"},771:function(e,t,n){e.exports=n.p+"./fonts/Roboto-Medium.ttf"}},[[526,1,2]]]);
//# sourceMappingURL=../../42ba36dfd00ad2d804ae.map